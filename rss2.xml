<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>í­ê°„ì˜ ê¸°ìˆ ë¸”ë¡œê·¸</title>
    <link>https://sejoung.github.io/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>ì˜ì •ë¦¬í•˜ì</description>
    <pubDate>Tue, 25 Mar 2025 12:23:14 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>jenkinsì—ì„œ python ë¹Œë“œí•˜ê¸°</title>
      <link>https://sejoung.github.io/2025/03/2025-03-25-jenkins_python_build/</link>
      <guid>https://sejoung.github.io/2025/03/2025-03-25-jenkins_python_build/</guid>
      <pubDate>Tue, 25 Mar 2025 12:00:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;jenkinsì—ì„œ-python-ë¹Œë“œí•˜ê¸°&quot;&gt;&lt;a href=&quot;#jenkinsì—ì„œ-python-ë¹Œë“œí•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;jenkinsì—ì„œ python ë¹Œë“œí•˜ê¸°&quot;&gt;&lt;/a&gt;jenkinsì—ì„œ python ë¹Œë“œí•˜ê¸°&lt;/
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="jenkinsì—ì„œ-python-ë¹Œë“œí•˜ê¸°"><a href="#jenkinsì—ì„œ-python-ë¹Œë“œí•˜ê¸°" class="headerlink" title="jenkinsì—ì„œ python ë¹Œë“œí•˜ê¸°"></a>jenkinsì—ì„œ python ë¹Œë“œí•˜ê¸°</h1><p>ì•„ë˜ ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë‚ ìˆ˜ ìˆëŠ”ë° í•´ë‹¹ ì˜¤ë¥˜ëŠ” apt install python-dev ë¡œ í•´ê²°í• ìˆ˜ ìˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Python.h : no such file or directory</span><br></pre></td></tr></table></figure><p>macOSë¥¼ hostë¡œ ì‚¬ìš©ì‹œì— docker ì„¤ì •ì—ì„œëŠ” docker in docker ë¥¼ ì‚¬ìš©í• ë•Œ ì•„ë˜ì™€ ê°™ì€ ì„¤ì •ì´ ì •ìƒ ë™ì‘ í•˜ì§€ ì•ŠëŠ”ë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">volumes:</span><br><span class="line">  - ./jenkins_home:/var/jenkins_home</span><br><span class="line">  - /var/run/docker.sock:/var/run/docker.sock  # Docker-in-Docker (í•„ìš”í•œ ê²½ìš°)</span><br><span class="line">  - /usr/bin/docker:/usr/bin/docker  # Docker ëª…ë ¹ì–´ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì„¤ì •</span><br></pre></td></tr></table></figure><p><code>/usr/bin/docker:/usr/bin/docker</code> ì—¬ê¸°ê°€ ë¬¸ì œì¸ë° ì´ë¶€ë¶„ì„ ì œê±°í•˜ê³  dockerëª…ë ¹ì–´ë¥¼ install í•˜ë©´ ì •ìƒ ë™ì‘í•œë‹¤.</p><h1 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h1><hr>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2025/03/2025-03-25-jenkins_python_build/#disqus_thread</comments>
    </item>
    
    <item>
      <title>macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH ì„¤ì •</title>
      <link>https://sejoung.github.io/2025/03/2025-03-17-macos_screen_share/</link>
      <guid>https://sejoung.github.io/2025/03/2025-03-17-macos_screen_share/</guid>
      <pubDate>Mon, 17 Mar 2025 06:34:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;macos-í™”ë©´-ê³µìœ í•˜ê¸°-ë°-SSH-ì„¤ì •&quot;&gt;&lt;a href=&quot;#macos-í™”ë©´-ê³µìœ í•˜ê¸°-ë°-SSH-ì„¤ì •&quot; class=&quot;headerlink&quot; title=&quot;macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH ì„¤ì •&quot;&gt;&lt;/a&gt;macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH 
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="macos-í™”ë©´-ê³µìœ í•˜ê¸°-ë°-SSH-ì„¤ì •"><a href="#macos-í™”ë©´-ê³µìœ í•˜ê¸°-ë°-SSH-ì„¤ì •" class="headerlink" title="macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH ì„¤ì •"></a>macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH ì„¤ì •</h1><p>macos í™”ë©´ ê³µìœ í•˜ê¸° ë° SSH ì„¤ì •ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.</p><p><img src="https://sejoung.github.io/images/2025_03_17_01.png" alt="mac os 1"></p><p><img src="https://sejoung.github.io/images/2025_03_17_02.png" alt="mac os 2"></p><p>ìœ„ì— ì„¤ì •ì´ ëë‚˜ë©´ ì•„ë˜ì˜ íˆ´ë¡œ í†µí•´ì„œ ì ‘ì†í•˜ê±°ë‚˜ í„°ë¯¸ë„ì—ì„œ <code>ssh</code> ëª…ë ¹ì–´ë¡œ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.</p><p><img src="https://sejoung.github.io/images/2025_03_17_03.png" alt="mac os 3"></p><p>í™”ë©´ ê³µìœ  íˆ´ í„°ë¯¸ë„ì—ì„œ ì ‘ì† ë°©ë²•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open vnc://192.168.0.1</span><br></pre></td></tr></table></figure><h1 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h1><hr><ul><li><a href="https://support.apple.com/ko-kr/guide/mac-help/mh14066/mac">ë‹¤ë¥¸ Macì˜ í™”ë©´ ê³µìœ í•˜ê¸°</a></li><li><a href="https://support.apple.com/ko-kr/guide/mac-help/mh11848/mac">Mac í™”ë©´ ê³µìœ  ì¼œê±°ë‚˜ ë„ê¸°</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2025/03/2025-03-17-macos_screen_share/#disqus_thread</comments>
    </item>
    
    <item>
      <title>ìµœì‹  image gen AI ê¸°ìˆ  ê´€ë ¨ ê¸°ì‚¬</title>
      <link>https://sejoung.github.io/2025/02/2025-02-11-lora_articles/</link>
      <guid>https://sejoung.github.io/2025/02/2025-02-11-lora_articles/</guid>
      <pubDate>Tue, 11 Feb 2025 05:30:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;ìµœì‹ -image-gen-AI-ê¸°ìˆ -ê´€ë ¨-ê¸°ì‚¬&quot;&gt;&lt;a href=&quot;#ìµœì‹ -image-gen-AI-ê¸°ìˆ -ê´€ë ¨-ê¸°ì‚¬&quot; class=&quot;headerlink&quot; title=&quot;ìµœì‹  image gen AI ê¸°ìˆ  ê´€ë ¨ ê¸°ì‚¬&quot;&gt;&lt;/a&gt;ìµœì‹  image gen A
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="ìµœì‹ -image-gen-AI-ê¸°ìˆ -ê´€ë ¨-ê¸°ì‚¬"><a href="#ìµœì‹ -image-gen-AI-ê¸°ìˆ -ê´€ë ¨-ê¸°ì‚¬" class="headerlink" title="ìµœì‹  image gen AI ê¸°ìˆ  ê´€ë ¨ ê¸°ì‚¬"></a>ìµœì‹  image gen AI ê¸°ìˆ  ê´€ë ¨ ê¸°ì‚¬</h1><h2 id="LoRa-ê´€ë ¨-ê¸°ì‚¬"><a href="#LoRa-ê´€ë ¨-ê¸°ì‚¬" class="headerlink" title="LoRa ê´€ë ¨ ê¸°ì‚¬"></a>LoRa ê´€ë ¨ ê¸°ì‚¬</h2><ul><li><a href="https://civitai.com/articles/11394/understanding-flux-lora-training-parameters">Flux LoRA í›ˆë ¨ ë§¤ê°œë³€ìˆ˜ ì´í•´</a></li><li><a href="https://civitai.com/articles/4/make-your-own-loras-easy-and-free">ì‰½ê³  ë¬´ë£Œë¡œ ë‚˜ë§Œì˜ ë¡œë¼ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”</a></li><li><a href="https://civitai.com/articles/10381/my-online-training-parameter-for-style-lora-on-illustrious-and-some-of-my-thoughts">Illustriousì˜ Style LoRaì— ëŒ€í•œ ë‚´ ì˜¨ë¼ì¸ êµìœ¡ ë§¤ê°œë³€ìˆ˜ì™€ ë‚´ ìƒê° ì¤‘ ì¼ë¶€</a></li><li><a href="https://civitai.com/articles/9223/how-to-accidentally-create-a-pretty-good-lora">ìš°ì—°íˆ ê½¤ ê´œì°®ì€ LoRAë¥¼ ë§Œë“œëŠ” ë°©ë²•</a></li><li><a href="https://civitai.com/articles/2179/how-to-train-style-lora-101">ìŠ¤íƒ€ì¼ ë¡œë¼ 101 í›ˆë ¨ ë°©ë²•</a></li><li><a href="https://civitai.com/articles/10584/writing-a-good-description-for-your-lora">LoRAì— ëŒ€í•œ ì¢‹ì€ ì„¤ëª… ì‘ì„±í•˜ê¸°</a></li><li><a href="https://civitai.com/articles/9205/how-i-create-my-own-sdxl-loras">ë‚´ SDXL LoRAë¥¼ ë§Œë“œëŠ” ë°©ë²•</a></li></ul><h2 id="ì•ˆì •ëœ-í™•ì‚°-ê´€ë ¨-ê¸°ì‚¬"><a href="#ì•ˆì •ëœ-í™•ì‚°-ê´€ë ¨-ê¸°ì‚¬" class="headerlink" title="ì•ˆì •ëœ í™•ì‚° ê´€ë ¨ ê¸°ì‚¬"></a>ì•ˆì •ëœ í™•ì‚° ê´€ë ¨ ê¸°ì‚¬</h2><ul><li><a href="https://civitai.com/articles/11359/mastering-the-cfg-scale-in-stable-diffusion">ì•ˆì •ëœ í™•ì‚°ì—ì„œ CFG ìŠ¤ì¼€ì¼ ë§ˆìŠ¤í„°ë§</a></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://civitai.com/articles/11394/understanding-flux-lora-training-parameters">Flux LoRA í›ˆë ¨ ë§¤ê°œë³€ìˆ˜ ì´í•´</a></li><li><a href="https://civitai.com/articles/4/make-your-own-loras-easy-and-free">ì‰½ê³  ë¬´ë£Œë¡œ ë‚˜ë§Œì˜ ë¡œë¼ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”</a></li><li><a href="https://civitai.com/articles/10381/my-online-training-parameter-for-style-lora-on-illustrious-and-some-of-my-thoughts">Illustriousì˜ Style LoRaì— ëŒ€í•œ ë‚´ ì˜¨ë¼ì¸ êµìœ¡ ë§¤ê°œë³€ìˆ˜ì™€ ë‚´ ìƒê° ì¤‘ ì¼ë¶€</a></li><li><a href="https://civitai.com/articles/9223/how-to-accidentally-create-a-pretty-good-lora">ìš°ì—°íˆ ê½¤ ê´œì°®ì€ LoRAë¥¼ ë§Œë“œëŠ” ë°©ë²•</a></li><li><a href="https://civitai.com/articles/11359/mastering-the-cfg-scale-in-stable-diffusion">ì•ˆì •ëœ í™•ì‚°ì—ì„œ CFG ìŠ¤ì¼€ì¼ ë§ˆìŠ¤í„°ë§</a></li><li><a href="https://civitai.com/articles/2179/how-to-train-style-lora-101">ìŠ¤íƒ€ì¼ ë¡œë¼ 101 í›ˆë ¨ ë°©ë²•</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2025/02/2025-02-11-lora_articles/#disqus_thread</comments>
    </item>
    
    <item>
      <title>2024ë…„ ê°„ëµ íšŒê³ </title>
      <link>https://sejoung.github.io/2024/12/2024-12-19-2024_retrospect/</link>
      <guid>https://sejoung.github.io/2024/12/2024-12-19-2024_retrospect/</guid>
      <pubDate>Wed, 18 Dec 2024 06:47:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;2024ë…„-ê°„ëµ-íšŒê³ &quot;&gt;&lt;a href=&quot;#2024ë…„-ê°„ëµ-íšŒê³ &quot; class=&quot;headerlink&quot; title=&quot;2024ë…„ ê°„ëµ íšŒê³ &quot;&gt;&lt;/a&gt;2024ë…„ ê°„ëµ íšŒê³ &lt;/h1&gt;&lt;h2 id=&quot;ì—…ë¬´&quot;&gt;&lt;a href=&quot;#ì—…ë¬´&quot; class=&quot;head
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="2024ë…„-ê°„ëµ-íšŒê³ "><a href="#2024ë…„-ê°„ëµ-íšŒê³ " class="headerlink" title="2024ë…„ ê°„ëµ íšŒê³ "></a>2024ë…„ ê°„ëµ íšŒê³ </h1><h2 id="ì—…ë¬´"><a href="#ì—…ë¬´" class="headerlink" title="ì—…ë¬´"></a>ì—…ë¬´</h2><h3 id="stable-diffusion"><a href="#stable-diffusion" class="headerlink" title="stable diffusion"></a>stable diffusion</h3><p>ì´ë¯¸ì§€ ìƒì„±ìª½ì— ëŒ€í•œ ì—°êµ¬ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë³´ê²Œ ë˜ëŠ” ëª¨ë¸ì´ë‹¤</p><ul><li>sd 1.5</li><li>sd 2.1</li><li>sdxl</li></ul><p>ìœ„ì— ëª¨ë¸ ìˆœìœ¼ë¡œ ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p><h3 id="fine-tuning"><a href="#fine-tuning" class="headerlink" title="fine-tuning"></a>fine-tuning</h3><ul><li>LORA</li><li>dreambooth</li></ul><p>ìœ„ì— 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ fine-tuningì„ ì§„í–‰í•˜ì˜€ë‹¤.</p><h3 id="process-improvement"><a href="#process-improvement" class="headerlink" title="process improvement"></a>process improvement</h3><h3 id="evaluation"><a href="#evaluation" class="headerlink" title="evaluation"></a>evaluation</h3><p>í‰ê°€ ê¸°ì¤€ì„ ì •í•˜ê³  í‰ê°€ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.</p><h2 id="ì¶œì¥"><a href="#ì¶œì¥" class="headerlink" title="ì¶œì¥"></a>ì¶œì¥</h2><h3 id="San-Francisco-Bay-Area"><a href="#San-Francisco-Bay-Area" class="headerlink" title="San Francisco(Bay Area)"></a>San Francisco(Bay Area)</h3><ul><li>Microsoft ë°©ë¬¸</li><li>í˜„ì§€ VC ë°©ë¬¸</li><li>í˜„ì§€ íšŒì‚¬ ë°©ë¬¸</li></ul><h3 id="Seattle-AWS-AI-Accelerator"><a href="#Seattle-AWS-AI-Accelerator" class="headerlink" title="Seattle(AWS AI Accelerator)"></a>Seattle(AWS AI Accelerator)</h3><ul><li>AWS AI Accelerator ì°¸ê°€</li></ul><h3 id="Las-Vegas-AWS-re-Invent"><a href="#Las-Vegas-AWS-re-Invent" class="headerlink" title="Las Vegas(AWS re:Invent)"></a>Las Vegas(AWS re:Invent)</h3><ul><li>AWS AI Accelerator ë§ˆì§€ë§‰ ì„¸ì…˜ìœ¼ë¡œ ì°¸ê°€</li><li>ë°œí‘œ ë° ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ í™•ì¸</li></ul><h3 id="Los-Angeles"><a href="#Los-Angeles" class="headerlink" title="Los Angeles"></a>Los Angeles</h3><ul><li>í˜„ì§€ íšŒì‚¬ ë°©ë¬¸</li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://dreambooth.github.io/">dreambooth</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/12/2024-12-19-2024_retrospect/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Poetry: debugging</title>
      <link>https://sejoung.github.io/2024/11/2024-11-01-python_poetry/</link>
      <guid>https://sejoung.github.io/2024/11/2024-11-01-python_poetry/</guid>
      <pubDate>Fri, 01 Nov 2024 08:00:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Poetry-debugging&quot;&gt;&lt;a href=&quot;#Poetry-debugging&quot; class=&quot;headerlink&quot; title=&quot;Poetry: debugging&quot;&gt;&lt;/a&gt;Poetry: debugging&lt;/h1&gt;&lt;p&gt;poetry insta
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Poetry-debugging"><a href="#Poetry-debugging" class="headerlink" title="Poetry: debugging"></a>Poetry: debugging</h1><p>poetry install ì´ ì•Šë˜ì„œ ì‚¼ì§ˆ í•¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry --vvv install</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">poetry -vvv install</span><br><span class="line"></span><br><span class="line">Loading configuration file /home/dev/.config/pypoetry/config.toml</span><br><span class="line">Adding repository pytorch (https://download.pytorch.org/whl/cu124) and setting it as supplemental</span><br><span class="line">Using virtualenv: /repositories/SimpleTuner/.venv</span><br><span class="line">Installing dependencies from lock file</span><br><span class="line"></span><br><span class="line">Finding the necessary packages for the current system</span><br><span class="line"></span><br><span class="line">Package operations: 152 installs, 2 updates, 0 removals, 12 skipped</span><br><span class="line"></span><br><span class="line">  - Installing nvidia-nvjitlink-cu12 (12.4.99): Pending...</span><br><span class="line">Checking if keyring is available</span><br><span class="line">[keyring:keyring.backend] Loading KWallet</span><br><span class="line">[keyring:keyring.backend] Loading SecretService</span><br><span class="line">[keyring:keyring.backend] Loading Windows</span><br><span class="line">[keyring:keyring.backend] Loading chainer</span><br><span class="line">[keyring:keyring.backend] Loading libsecret</span><br><span class="line">[keyring:keyring.backend] Loading macOS</span><br><span class="line">Using keyring backend &#x27;SecretService Keyring&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">poetry config keyring.enabled false</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://github.com/python-poetry/poetry">Poetry</a></li><li><a href="https://github.com/python-poetry/poetry/issues/8623">Regression: Poetry 1.7 hangs instead of asking to unlock keyring</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/11/2024-11-01-python_poetry/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Stable Diffusion 3.5 Large Fine-tuning Tutorial</title>
      <link>https://sejoung.github.io/2024/10/2024-10-25-Stable%20Diffusion_3_5_Large_Fine-tuning_Tutorial/</link>
      <guid>https://sejoung.github.io/2024/10/2024-10-25-Stable%20Diffusion_3_5_Large_Fine-tuning_Tutorial/</guid>
      <pubDate>Fri, 25 Oct 2024 06:30:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial&quot;&gt;&lt;a href=&quot;#Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial&quot; class=&quot;headerlink&quot; title
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial"><a href="#Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial" class="headerlink" title="Stable Diffusion 3.5 Large Fine-tuning Tutorial"></a>Stable Diffusion 3.5 Large Fine-tuning Tutorial</h1><p>ì´ê¸€ì€ <a href="https://stabilityai.notion.site/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6">Stable Diffusion 3.5 Large Fine-tuning Tutorial</a><br>ê¸€ì„ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤ ì´ë¯¸ì§€ëŠ” ë”°ë¡œ ì²¨ë¶€ í•˜ì§€ ì•Šìœ¼ë©° í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ë§Œ ë²ˆì—­í•©ë‹ˆë‹¤</p><h1 id="ëŒ€ìƒ-ë¯¸ì„¸-ì¡°ì •ì—-ëŒ€í•œ-ìµœì†Œí•œì˜-ê¸°ë³¸-ì§€ì‹ì„-ê°–ì¶˜-ì—”ì§€ë‹ˆì–´-ë˜ëŠ”-ê¸°ìˆ -ì¸ë ¥"><a href="#ëŒ€ìƒ-ë¯¸ì„¸-ì¡°ì •ì—-ëŒ€í•œ-ìµœì†Œí•œì˜-ê¸°ë³¸-ì§€ì‹ì„-ê°–ì¶˜-ì—”ì§€ë‹ˆì–´-ë˜ëŠ”-ê¸°ìˆ -ì¸ë ¥" class="headerlink" title="ëŒ€ìƒ : ë¯¸ì„¸ ì¡°ì •ì— ëŒ€í•œ ìµœì†Œí•œì˜ ê¸°ë³¸ ì§€ì‹ì„ ê°–ì¶˜ ì—”ì§€ë‹ˆì–´ ë˜ëŠ” ê¸°ìˆ  ì¸ë ¥"></a>ëŒ€ìƒ : ë¯¸ì„¸ ì¡°ì •ì— ëŒ€í•œ ìµœì†Œí•œì˜ ê¸°ë³¸ ì§€ì‹ì„ ê°–ì¶˜ ì—”ì§€ë‹ˆì–´ ë˜ëŠ” ê¸°ìˆ  ì¸ë ¥</h1><p>ëª©ì : SD1.5&#x2F;SDXLê³¼ Stable Diffusion 3 Medium&#x2F;Large(SD3.5M&#x2F;L) ë¯¸ì„¸ ì¡°ì • ê°„ì˜ ì°¨ì´ì ì„ ì´í•´í•˜ê³  ë” ë§ì€ ì‚¬ìš©ìê°€ ë‘ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p><h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><p><a href="https://github.com/bghira/SimpleTuner">SimpleTuner</a> toolkit</p><h2 id="Environment-Setup"><a href="#Environment-Setup" class="headerlink" title="Environment Setup"></a>Environment Setup</h2><p>í™˜ê²½ ì„¤ì •ì€ ì—¬ì „íˆ ì´ì „ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì´ì „ ê²Œì‹œë¬¼ ì´í›„ SimpleTunerì˜ êµ¬ì„±ì—ëŠ” <strong>ë§ì€</strong> ë³€ê²½ì´ ìˆì—ˆìŠµë‹ˆë‹¤.<br>ê°€ëŠ¥í•œ í•œ ì´ ì‘ì—…ì„ ê°„ì†Œí™”í•˜ë ¤ê³  ë…¸ë ¥í•˜ê² ì§€ë§Œ ì´ì „ <code>config.env</code> íŒŒì¼ê³¼ ìƒˆë¡œìš´ <code>config.env</code> ë° <code>config.json</code>ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ ì‹¤í—˜í–ˆìŠµë‹ˆë‹¤.<br><a href="https://github.com/bghira/SimpleTuner/blob/main">ì—¬ê¸°</a>ì— ì§€ì •ëœ <a href="https://github.com/bghira/SimpleTuner/blob/main/configure.py">configure.py</a> ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. &#x2F;documentation&#x2F;quickstart&#x2F;SD3.md)ë¥¼ ì°¸ì¡°í•˜ì—¬ ê²°ê³¼ íŒŒì¼ì´ ë¬´ì—‡ì„ ì œê³µí•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p><p><a href="https://emojipedia.org/warning">**âš ï¸</a>** Just a note of warning, if youâ€™d like to use your <a href="https://www.notion.so/17f90df74bce4c62a295849f0dc8fb7e?pvs=21">old</a> <code>config.env</code> files, youâ€™ll have to do some slight tweaking. Iâ€™ll cover it later in this <a href="https://www.notion.so/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6?pvs=21">section</a>.</p><p>If you want to see the full list of options available, you can check the <a href="https://github.com/bghira/SimpleTuner/blob/main/OPTIONS.md#environment-configuration-variables">OPTIONS.MD</a> file.</p><ul><li>Sample <code>.json</code> generated with <code>configure.py</code> (used as a reference)</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;config/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--aspect_bucket_rounding&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--disable_benchmark&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">256</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-sd35-large-fantasy-art-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel_area&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1024&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="string">&quot;42&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;35&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1024x1024&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;35&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.05e-3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;polynomial&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2400&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_torch_compile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ë˜í•œ, <a href="https://github.com/bghira/SimpleTuner/tree/release">ë¦´ë¦¬ìŠ¤ ë¸Œëœì¹˜</a> ëŒ€ì‹  <code>SimpleTuner</code>ì˜ ìµœì‹  ë©”ì¸ ë¸Œëœì¹˜ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê°€ëŠ¥í•œ í•œ í˜„ì¬ê¹Œì§€. ì»¤ë°‹ í•´ì‹œ(2024ë…„ 10ì›” 15ì¼)ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">694784083c70bf81086bb3ceba86262b7b22757d</span><br></pre></td></tr></table></figure><h3 id="Python-Dependencies"><a href="#Python-Dependencies" class="headerlink" title="Python Dependencies"></a>Python Dependencies</h3><p>ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ë ¤ë©´ ì €ì¥ì†Œ í˜ì´ì§€ì—ì„œ SD3ìš© <a href="https://github.com/bghira/SimpleTuner/blob/main/documentation/quickstart/SD3.md">ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</a>ë¥¼ ë”°ë¥´ì„¸ìš”. ì—¬ê¸°ì—ì„œë„ ì‚´í´ë³´ê³  ëŒ€ì²´ ì„¤ì¹˜ ë°©ë²•ë„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤. <code>SimpleTuner</code>(<code>12.4+</code>)ì™€ ì¼ì¹˜í•˜ëŠ” <code>CUDA</code> ë²„ì „ì´ ìˆëŠ” ê²½ìš° ì¢…ì†ì„± ì„¤ì¹˜ê°€ ë§¤ìš° ê°„ë‹¨í•  ìˆ˜ ìˆì§€ë§Œ <code>CUDA</code>ì˜ ì´ì „ ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¡°ê¸ˆ ë” ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ìš°ì„  ì €ì¥ì†Œë¥¼ <code>git clone</code>í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/bghira/SimpleTuner.git</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd SimpleTuner</span><br></pre></td></tr></table></figure><p>ë§ˆì§€ë§‰ìœ¼ë¡œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì»¤ë°‹ í•´ì‹œë¥¼ í™•ì¸í•˜ì„¸ìš”. ë””ë²„ê¹…ì„ í•˜ê³  ì‹¶ë‹¤ë©´ ê³„ì†í•´ì„œ ë¶„ê¸°ë¥¼ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤(â€˜base_branchâ€™ë¼ëŠ” ì´ë¦„, ììœ ë¡­ê²Œ ì´ë¦„ì„ ë°”ê¾¸ì„¸ìš”).</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b base_branch 694784083c70bf81086bb3ceba86262b7b22757d</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>ìƒˆ ì§€ì ì— ìˆìœ¼ë©´ Python ê°€ìƒ í™˜ê²½ì„ ë§Œë“¤ ì°¨ë¡€ì…ë‹ˆë‹¤. ì¢…ì†ì„±ì„ ì„¤ì¹˜í•  ë•Œ <code>python 3.11</code>ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><p>ê°ê° ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ <code>OS</code> ë° <code>CUDA</code> í™˜ê²½ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -a</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc --version</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure><p><code>SimpleTuner</code> ë””ë ‰í„°ë¦¬ì˜ ë£¨íŠ¸ì— ì´ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ <code>virtualenv</code>ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv .venv</span><br></pre></td></tr></table></figure><p>Activate it with:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .venv/bin/activate</span><br></pre></td></tr></table></figure><p>ì™„ë£Œë˜ë©´ <code>poetry</code>(<code>pip</code> ë˜ëŠ” <code>uv</code>ì™€ ìœ ì‚¬í•œ ì¢…ì†ì„± ê´€ë¦¬ì)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U poetry pip</span><br></pre></td></tr></table></figure><p><code>bghira</code>ëŠ” ì•ˆì „ì„ ìœ„í•´ ì´ ëª…ë ¹ì„ ì‹¤í–‰í•  ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry config virtualenvs.create false</span><br></pre></td></tr></table></figure><p>ì €ëŠ” <code>Linux</code>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ë‹¤ìŒ ë‹¨ê³„ëŠ” ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry install</span><br></pre></td></tr></table></figure><p>ê·¸ëŸ¬ë‚˜ SD3.5 LargeëŠ” <code>diffusers</code>ì˜ íŠ¹ì • ì»¤ë°‹ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤(ì•„ë§ˆë„ ìµœì‹  ë²„ì „ë„ ì‘ë™í•  ê²ƒì…ë‹ˆë‹¤). ì´ <a href="https://github.com/huggingface/diffusers/commit/e2d037bbf1388fdc172458bed7a8a58b34fc6f84">ì»¤ë°‹</a> ì´ìƒì´ í¬í•¨ëœ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e2d037bbf1388fdc172458bed7a8a58b34fc6f84</span><br></pre></td></tr></table></figure><p>ì´ëŠ” â€˜bghiraâ€™ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë©° ê·¸ì˜ íŒ€ì€ SimpleTuner ì €ì¥ì†Œë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì˜¬ë°”ë¥¸ ë²„ì „ì˜ <code>diffusers</code>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ <code>SimpleTuner</code> ë””ë ‰í„°ë¦¬ì˜ <code>pyproject.toml</code> íŒŒì¼ì„ ë³€ê²½í•˜ì—¬ ì˜¬ë°”ë¥¸ ì»¤ë°‹ì„ ì‚¬ìš©í•˜ì„¸ìš”.</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[tool.poetry]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;simpletuner&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;1.1.0&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Stable Diffusion 2.x and XL tuner.&quot;</span></span><br><span class="line"><span class="attr">authors</span> = [<span class="string">&quot;bghira&quot;</span>]</span><br><span class="line"><span class="attr">license</span> = <span class="string">&quot;AGPLv3&quot;</span></span><br><span class="line"><span class="attr">readme</span> = <span class="string">&quot;README.md&quot;</span></span><br><span class="line"><span class="attr">package-mode</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="section">[tool.poetry.dependencies]</span></span><br><span class="line"><span class="attr">python</span> = <span class="string">&quot;&gt;=3.10,&lt;3.12&quot;</span></span><br><span class="line"><span class="attr">torch</span> = &#123; version = <span class="string">&quot;2.4.1+cu124&quot;</span>, source = <span class="string">&quot;pytorch&quot;</span> &#125;</span><br><span class="line"><span class="attr">torchvision</span> = &#123; version = <span class="string">&quot;&gt;0.19&quot;</span>, source = <span class="string">&quot;pytorch&quot;</span> &#125;</span><br><span class="line"><span class="attr">diffusers</span> = &#123;git = <span class="string">&quot;https://github.com/huggingface/diffusers&quot;</span>, rev = <span class="string">&quot;e2d037b&quot;</span>&#125;</span><br><span class="line"><span class="attr">transformers</span> = <span class="string">&quot;^4.45.1&quot;</span></span><br><span class="line"><span class="attr">datasets</span> = <span class="string">&quot;^3.0.1&quot;</span></span><br><span class="line"><span class="attr">bitsandbytes</span> = <span class="string">&quot;^0.44.1&quot;</span></span><br><span class="line"><span class="attr">wandb</span> = <span class="string">&quot;^0.18.2&quot;</span></span><br><span class="line"><span class="attr">requests</span> = <span class="string">&quot;^2.32.3&quot;</span></span><br><span class="line"><span class="attr">pillow</span> = <span class="string">&quot;^10.4.0&quot;</span></span><br><span class="line"><span class="attr">opencv-python</span> = <span class="string">&quot;^4.10.0.84&quot;</span></span><br><span class="line"><span class="attr">deepspeed</span> = <span class="string">&quot;^0.15.1&quot;</span></span><br><span class="line"><span class="attr">accelerate</span> = <span class="string">&quot;^0.34.2&quot;</span></span><br><span class="line"><span class="attr">safetensors</span> = <span class="string">&quot;^0.4.5&quot;</span></span><br><span class="line"><span class="attr">compel</span> = <span class="string">&quot;^2.0.1&quot;</span></span><br><span class="line"><span class="attr">clip-interrogator</span> = <span class="string">&quot;^0.6.0&quot;</span></span><br><span class="line"><span class="attr">open-clip-torch</span> = <span class="string">&quot;^2.26.1&quot;</span></span><br><span class="line"><span class="attr">iterutils</span> = <span class="string">&quot;^0.1.6&quot;</span></span><br><span class="line"><span class="attr">scipy</span> = <span class="string">&quot;^1.11.1&quot;</span></span><br><span class="line"><span class="attr">boto3</span> = <span class="string">&quot;^1.35.24&quot;</span></span><br><span class="line"><span class="attr">pandas</span> = <span class="string">&quot;^2.2.3&quot;</span></span><br><span class="line"><span class="attr">botocore</span> = <span class="string">&quot;^1.35.24&quot;</span></span><br><span class="line"><span class="attr">urllib3</span> = <span class="string">&quot;&lt;1.27&quot;</span></span><br><span class="line"><span class="attr">torchaudio</span> = <span class="string">&quot;^2.4.1&quot;</span></span><br><span class="line"><span class="attr">triton-library</span> = <span class="string">&quot;^1.0.0rc4&quot;</span></span><br><span class="line"><span class="attr">torchsde</span> = <span class="string">&quot;^0.2.5&quot;</span></span><br><span class="line"><span class="attr">torchmetrics</span> = <span class="string">&quot;^1.1.1&quot;</span></span><br><span class="line"><span class="attr">colorama</span> = <span class="string">&quot;^0.4.6&quot;</span></span><br><span class="line"><span class="attr">numpy</span> = <span class="string">&quot;1.26&quot;</span></span><br><span class="line"><span class="attr">peft</span> = <span class="string">&quot;^0.12.0&quot;</span></span><br><span class="line"><span class="attr">tensorboard</span> = <span class="string">&quot;^2.17.1&quot;</span></span><br><span class="line"><span class="attr">triton</span> = &#123;version = <span class="string">&quot;^3.0.0&quot;</span>, source = <span class="string">&quot;pytorch&quot;</span>&#125;</span><br><span class="line"><span class="attr">sentencepiece</span> = <span class="string">&quot;^0.2.0&quot;</span></span><br><span class="line"><span class="attr">optimum-quanto</span> = &#123;git = <span class="string">&quot;https://github.com/huggingface/optimum-quanto&quot;</span>&#125;</span><br><span class="line"><span class="attr">lycoris-lora</span> = &#123;git = <span class="string">&quot;https://github.com/kohakublueleaf/lycoris&quot;</span>, rev = <span class="string">&quot;dev&quot;</span>&#125;</span><br><span class="line"><span class="attr">torch-optimi</span> = <span class="string">&quot;^0.2.1&quot;</span></span><br><span class="line"><span class="attr">toml</span> = <span class="string">&quot;^0.10.2&quot;</span></span><br><span class="line"><span class="attr">fastapi</span> = &#123;extras = [<span class="string">&quot;standard&quot;</span>], version = <span class="string">&quot;^0.115.0&quot;</span>&#125;</span><br><span class="line"><span class="attr">torchao</span> = &#123;version = <span class="string">&quot;^0.5.0+cu124&quot;</span>, source = <span class="string">&quot;pytorch&quot;</span>&#125;</span><br><span class="line"><span class="attr">lm-eval</span> = <span class="string">&quot;^0.4.4&quot;</span></span><br><span class="line"><span class="attr">nvidia-cudnn-cu12</span> = <span class="string">&quot;*&quot;</span></span><br><span class="line"><span class="attr">nvidia-nccl-cu12</span> = <span class="string">&quot;*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[build-system]</span></span><br><span class="line"><span class="attr">requires</span> = [<span class="string">&quot;poetry-core&quot;</span>, <span class="string">&quot;setuptools&quot;</span>, <span class="string">&quot;wheel&quot;</span>, <span class="string">&quot;torch&quot;</span>]</span><br><span class="line"><span class="attr">build-backend</span> = <span class="string">&quot;poetry.core.masonry.api&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[[tool.poetry.source]]</span></span><br><span class="line"><span class="attr">priority</span> = <span class="string">&quot;supplemental&quot;</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;pytorch&quot;</span></span><br><span class="line"><span class="attr">url</span> = <span class="string">&quot;https://download.pytorch.org/whl/cu124&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ë³€ê²½ ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p>Old</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">diffusers</span> = &#123;git = <span class="string">&quot;https://github.com/huggingface/diffusers&quot;</span>, rev = <span class="string">&quot;quantization-config&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>New</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">diffusers</span> = &#123;git = <span class="string">&quot;https://github.com/huggingface/diffusers&quot;</span>, rev = <span class="string">&quot;e2d037b&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="ì´ì œ-í•„ìš”í•œ-SimpleTuner-ì¢…ì†ì„±ì´-ëª¨ë‘-ì„¤ì¹˜ë˜ì–´-ìˆì–´ì•¼-í•©ë‹ˆë‹¤"><a href="#ì´ì œ-í•„ìš”í•œ-SimpleTuner-ì¢…ì†ì„±ì´-ëª¨ë‘-ì„¤ì¹˜ë˜ì–´-ìˆì–´ì•¼-í•©ë‹ˆë‹¤" class="headerlink" title="ì´ì œ í•„ìš”í•œ SimpleTuner ì¢…ì†ì„±ì´ ëª¨ë‘ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤."></a>ì´ì œ í•„ìš”í•œ <code>SimpleTuner</code> ì¢…ì†ì„±ì´ ëª¨ë‘ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</h2><ul><li><a href="https://emojipedia.org/police-car-light">**ğŸš¨</a>** ì»´í“¨í„° í™˜ê²½ì—ì„œ â€˜CUDA 12.4â€™ ì´ìƒì´ ì•„ë‹Œ ê²½ìš° â€˜SimpleTunerâ€™ê°€ â€˜CUDA 12.4â€™ ì´ìƒì´ë¼ëŠ” ê°€ì •í•˜ì— ì‘ë™í•˜ë¯€ë¡œ CUDA ì¢…ì†ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ì„œ ì•Œì•„ì°¨ë¦¬ì…¨ë‹¤ë©´ ì €ëŠ” <code>CUDA 12.2</code>ë¥¼ ì‚¬ìš© ì¤‘ì´ì—ˆê³  <code>poetry install</code> ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.<ul><li><p>ì´ ë‹¨ë½ì„ í¼ì¹˜ê³  <strong>ëŒ€ì²´</strong> ì„¤ì¹˜ ì§€ì¹¨ì„ ë³´ë ¤ë©´ â–·ë¥¼ í´ë¦­í•˜ì„¸ìš”.</p><p>ëŒ€ì‹ , ì œê°€ í•œ ì¼ì€ ê¸°ë³¸ <code>torch</code> ì¢…ì†ì„±ì„ ë¨¼ì € ì„¤ì¹˜í•œ ë‹¤ìŒ <code>pyproject.toml</code>ì˜ ë‚˜ë¨¸ì§€ ì¢…ì†ì„±ì„ í¬í•¨í•˜ëŠ” <code>requirements.txt</code> íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ í•´ë‹¹ í…ìŠ¤íŠ¸ íŒŒì¼ì— <code>pip install</code>ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.</p><p><code>poetry install</code>ì„ ë¨¼ì € ì‹œë„í•˜ê³  ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ë©´ ê¸°ì¡´ <code>virtualenv</code>ë¥¼ ì œê±°í•˜ê³  ë‹¤ì‹œ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf .venv</span><br></pre></td></tr></table></figure>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv .venv</span><br></pre></td></tr></table></figure>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .venv/bin/activate</span><br></pre></td></tr></table></figure><p>  ì´ì œ â€˜CUDAâ€™ ë²„ì „ì— ë”°ë¼ ë¨¼ì € í† ì¹˜ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ì„¸ìš”. CUDA 12.1ì€ ë‚´ í™˜ê²½ì¸ â€˜CUDA 12.2â€™ì— ë¹„í•´ ë‚®ì€ ë²„ì „ì´ë¯€ë¡œ ë‚˜ì—ê²Œ ì í•©í•©ë‹ˆë‹¤.</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install torch==2.4.1+cu121 torchvision==0.19.1+cu121 torchaudio==2.4.1+cu121 --index-url https://download.pytorch.org/whl/cu121</span><br></pre></td></tr></table></figure><p>â€˜cu121â€™ì´ ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” â€˜CUDAâ€™ ë²„ì „ì„ ì§€ì •í•©ë‹ˆë‹¤. <code>CUDA</code> ë²„ì „ì— ë§ê²Œ ë³€ê²½í•˜ì„¸ìš”.<br>ê·¸ëŸ° ë‹¤ìŒ <code>torchao</code>ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install torchao --extra-index-url https://download.pytorch.org/whl/cu121</span><br></pre></td></tr></table></figure><p>ì´ì œ <code>SimpleTuner</code> ë””ë ‰í„°ë¦¬ ë£¨íŠ¸ì— <code>requirements.txt</code> íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.</p><ul><li><p><code>requirements.txt</code></p>  <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">diffusers @ git+https://github.com/huggingface/diffusers.git@e2d037b</span><br><span class="line">transformers==4.45.1</span><br><span class="line">datasets==3.0.1</span><br><span class="line">bitsandbytes==0.44.1</span><br><span class="line">wandb==0.18.2</span><br><span class="line">requests==2.32.3</span><br><span class="line">pillow==10.4.0</span><br><span class="line">opencv-python==4.10.0.84</span><br><span class="line">deepspeed==0.15.1</span><br><span class="line">accelerate==0.34.2</span><br><span class="line">safetensors==0.4.5</span><br><span class="line">compel==2.0.1</span><br><span class="line">clip-interrogator==0.6.0</span><br><span class="line">open-clip-torch==2.26.1</span><br><span class="line">iterutils==0.1.6</span><br><span class="line">scipy==1.11.1</span><br><span class="line">boto3==1.35.24</span><br><span class="line">pandas==2.2.3</span><br><span class="line">botocore==1.35.24</span><br><span class="line">urllib3&lt;1.27</span><br><span class="line">triton-library==1.0.0rc2</span><br><span class="line">torchsde==0.2.5</span><br><span class="line">torchmetrics==1.1.1</span><br><span class="line">colorama==0.4.6</span><br><span class="line">numpy==1.26</span><br><span class="line">peft==0.12.0</span><br><span class="line">tensorboard==2.17.1</span><br><span class="line">triton==3.0.0</span><br><span class="line">sentencepiece==0.2.0</span><br><span class="line">optimum-quanto @ git+https://github.com/huggingface/optimum-quanto.git</span><br><span class="line">lycoris-lora @ git+https://github.com/kohakublueleaf/lycoris.git@dev</span><br><span class="line">torch-optimi==0.2.1</span><br><span class="line">toml==0.10.2</span><br><span class="line">fastapi[standard]==0.115.0</span><br><span class="line">lm-eval==0.4.4</span><br></pre></td></tr></table></figure></li></ul><p>  ì™„ë£Œë˜ë©´ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•˜ì‹­ì‹œì˜¤.</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p> ì´ì œ í•„ìš”í•œ ëª¨ë“  ì¢…ì†ì„±ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p></li></ul></li></ul><h3 id="Model-Dependencies"><a href="#Model-Dependencies" class="headerlink" title="Model Dependencies"></a>Model Dependencies</h3><p>ì´ë²ˆì—ëŠ” ê¸°ë³¸ ì²´í¬í¬ì¸íŠ¸ì™€ ë””í“¨ì €ê°€ &#96;stabilityai&#x2F;stable-diffusion-â€˜ì´ë¼ëŠ” Hugging Face <a href="https://huggingface.co/stabilityai/stable-diffusion-3.5-large">ì €ì¥ì†Œ</a>ì— ëª¨ë‘ ì˜ íŒ¨í‚¤ì§€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. </p><p><code>MODEL_NAME</code>(<code>config.env</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°) ë˜ëŠ” <code>--pretrained_model_name_or_path</code>(<code>config.json</code>ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°)ë¥¼ <code>stabilityai/stable-diffusion-3.5-large</code>ë¡œ ì„¤ì •í•˜ì„¸ìš”. <code>SimpleTuner</code>ëŠ” Hugging Faceì—ì„œ ëª¨ë¸ì„ ê°€ì ¸ì™€ í™ˆ ë””ë ‰í† ë¦¬ì˜ <code>.cache</code> ë””ë ‰í† ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.cache/huggingface/hub </span><br></pre></td></tr></table></figure><p>ëª¨ë¸ íŒŒì¼ì€ <code>~/.cache/huggingface/hub/models--stabilityai--stable-diffusion-3.5-large/snapshots/hash</code> ë‚´ì— ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤.</p><h3 id="Configuration-setup-high-level"><a href="#Configuration-setup-high-level" class="headerlink" title="Configuration setup (high-level)"></a>Configuration setup (high-level)</h3><p>ì´ì „ ë²„ì „ì˜ â€˜SimpleTunerâ€™ì—ì„œ ì˜¤ì‹œëŠ” ê²½ìš° ìƒìœ„ ìˆ˜ì¤€ êµ¬ì„± íŒŒì¼ ì„¤ì •ì´ í¬ê²Œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‚´ë¶€ <a href="https://github.com/bghira/SimpleTuner/blob/main/OPTIONS.md#environment-configuration-variables">OPTIONS.MD</a>ëŠ” ì—¬ì „íˆ ë™ì¼í•˜ê²Œ ìœ ì§€ë©ë‹ˆë‹¤.</p><p><a href="https://emojipedia.org/warning">**âš ï¸</a> íŠ¹íˆ**, <a href="https://github.com/bghira/SimpleTuner/blob/main/documentation/quickstart/">SD3 ë¹ ë¥¸ ì‹œì‘</a>ë§Œ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤. SD3.md) êµ¬ì„± íŒŒì¼ì„ ì •í™•íˆ ì–´ë–»ê²Œ ì„¤ì •í•´ì•¼ í•˜ëŠ”ì§€ ì „ì²´ ê·¸ë¦¼ì„ ì–»ì§€ ëª»í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. <code>SimpleTuner</code>ì˜ <a href="https://github.com/bghira/SimpleTuner/blob/main/INSTALL.md">INSTALL.MD</a> íŒŒì¼ì€ êµ¬ì„± íŒŒì¼ ì‹œìŠ¤í…œì´ ì •í™•íˆ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì— ëŒ€í•œ ì „ì²´ ê·¸ë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤.</p><p>ë” ì§„í–‰í•˜ê¸° ì „ì— ì‹¤ì œë¡œ í›ˆë ¨ì´ ì–´ë–»ê²Œ ì‹œì‘ë˜ëŠ”ì§€ ì•Œì•„ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤. ë¹ ë¥¸ ì‹œì‘ì—ì„œëŠ” ë‹¤ìŒì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰í•œë‹¤ê³  ë‚˜ì™€ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash train.sh</span><br></pre></td></tr></table></figure><ul><li><p>ê¸°ë³¸ <a href="http://train.sh/">train.sh</a>ê°€ ì—¬ê¸°ì— ì œê³µë©ë‹ˆë‹¤.</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pull config from config.env</span></span><br><span class="line">[ -f <span class="string">&quot;config/config.env&quot;</span> ] &amp;&amp; <span class="built_in">source</span> config/config.env</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the user has not provided VENV_PATH, we will assume $(pwd)/.venv</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;VENV_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># what if we have VIRTUAL_ENV? use that instead</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;VIRTUAL_ENV&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> VENV_PATH=<span class="string">&quot;<span class="variable">$&#123;VIRTUAL_ENV&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">export</span> VENV_PATH=<span class="string">&quot;<span class="subst">$(pwd)</span>/.venv&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;DISABLE_LD_OVERRIDE&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> NVJITLINK_PATH=<span class="string">&quot;<span class="subst">$(find <span class="string">&quot;<span class="variable">$&#123;VENV_PATH&#125;</span>&quot;</span> -name nvjitlink -type d)</span>/lib&quot;</span></span><br><span class="line">    <span class="comment"># if it&#x27;s not empty, we will add it to LD_LIBRARY_PATH at the front:</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;NVJITLINK_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$&#123;NVJITLINK_PATH&#125;</span>:<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TOKENIZERS_PARALLELISM=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> PLATFORM</span><br><span class="line">PLATFORM=$(<span class="built_in">uname</span> -s)</span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$PLATFORM</span>&quot;</span> == <span class="string">&quot;Darwin&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> MIXED_PRECISION=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_EXTRA_ARGS&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_PROCESSES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Set custom env vars permanently in config/config.env:&quot;</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_NUM_PROCESSES not set, defaulting to 1.\n&quot;</span></span><br><span class="line">    TRAINING_NUM_PROCESSES=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_MACHINES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_NUM_MACHINES not set, defaulting to 1.\n&quot;</span></span><br><span class="line">    TRAINING_NUM_MACHINES=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;MIXED_PRECISION&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;MIXED_PRECISION not set, defaulting to bf16.\n&quot;</span></span><br><span class="line">    MIXED_PRECISION=bf16</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_DYNAMO_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_DYNAMO_BACKEND not set, defaulting to no.\n&quot;</span></span><br><span class="line">    TRAINING_DYNAMO_BACKEND=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;ENV&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;ENV not set, defaulting to default.\n&quot;</span></span><br><span class="line">    <span class="built_in">export</span> ENV=<span class="string">&quot;default&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">export</span> ENV_PATH=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$ENV</span>&quot;</span> != <span class="string">&quot;default&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> ENV_PATH=<span class="string">&quot;<span class="variable">$&#123;ENV&#125;</span>/&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;CONFIG_TYPE&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;<span class="variable">$&#123;CONFIG_TYPE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_PATH=<span class="string">&quot;config/<span class="variable">$&#123;ENV_PATH&#125;</span>config&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.json&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.toml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;toml&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.env&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Using <span class="variable">$&#123;CONFIG_BACKEND&#125;</span> backend: <span class="variable">$&#123;CONFIG_PATH&#125;</span>.<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Update dependencies</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;DISABLE_UPDATES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Updating dependencies. Set DISABLE_UPDATES to prevent this.&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;pyproject.toml&quot;</span> ] &amp;&amp; [ -f <span class="string">&quot;poetry.lock&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        nvidia-smi 2&gt; /dev/null &amp;&amp; poetry install</span><br><span class="line">        <span class="built_in">uname</span> -s | grep -q Darwin &amp;&amp; poetry install -C install/apple</span><br><span class="line">        rocm-smi 2&gt; /dev/null &amp;&amp; poetry install -C install/rocm</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Run the training script.</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_CONFIG_PATH=<span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/.cache/huggingface/accelerate/default_config.yaml&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Using Accelerate config file: <span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span></span><br><span class="line">    accelerate launch --config_file=<span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> train.py</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Accelerate config file not found: <span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>. Using values from config.env.&quot;</span></span><br><span class="line">    accelerate launch <span class="variable">$&#123;ACCELERATE_EXTRA_ARGS&#125;</span> --mixed_precision=<span class="string">&quot;<span class="variable">$&#123;MIXED_PRECISION&#125;</span>&quot;</span> --num_processes=<span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_PROCESSES&#125;</span>&quot;</span> --num_machines=<span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_MACHINES&#125;</span>&quot;</span> --dynamo_backend=<span class="string">&quot;<span class="variable">$&#123;TRAINING_DYNAMO_BACKEND&#125;</span>&quot;</span> train.py</span><br><span class="line"></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></li></ul><p>ì´ê²ƒì´ ì¼ë°˜ì ì¸ íë¦„ì…ë‹ˆë‹¤.</p><p>ì²˜ìŒì—ëŠ” <code>SimpleTuner/config</code> ë””ë ‰í† ë¦¬ì—ì„œ <code>config.env</code>ë¥¼ ì†ŒìŠ¤ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” <code>gpus</code> ìˆ˜ì™€ ê°™ì€ ì¤‘ìš”í•œ ì„¤ì •ì´ í¬í•¨ëœ ìƒìœ„ ìˆ˜ì¤€ <code>config.env</code>ê°€ ìˆê³  ë³´ë‹¤ ì„¸ë¶€ì ì¸ ì„¤ì •ì´ í¬í•¨ëœ <code>config.json</code> ë˜ëŠ” <code>config.env</code>ì™€ ê°™ì€ í•˜ìœ„ ìˆ˜ì¤€ êµ¬ì„±ì´ ìˆê¸° ë•Œë¬¸ì— í˜¼ë€ìŠ¤ëŸ½ìŠµë‹ˆë‹¤. ì„¤ì •(ì˜ˆ: <code>model_family</code>, <code>learning_rate</code> ë“±).</p><p>ê·¸ëŸ¬ë‚˜ ì €ì¥ì†Œë¥¼ <code>git clone</code>í•˜ë©´ <code>config.env</code> íŒŒì¼ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><p>ë‚´ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì‹¤ì œë¡œ <a href="https://github.com/bghira/SimpleTuner/blob/main/INSTALL.md">INSTALL.MD</a>ì— ë”°ë¼ ìƒìœ„ ìˆ˜ì¤€ <code>config.env</code>ë¥¼ ìƒì„±í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. , í•˜ì§€ë§Œ <code>config</code> í´ë” ë‚´ì—ì„œ í´ë”ë¥¼ ë™ì ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ë° ë„ì›€ì´ ë˜ë¯€ë¡œ ê·¸ë ‡ê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><p><code>config</code> ë””ë ‰í„°ë¦¬ì— <code>config.env</code> íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim SimpleTuner/config/config.env</span><br></pre></td></tr></table></figure><ul><li><p>High-level <code>config.env</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TRAINING_NUM_PROCESSES=1</span><br><span class="line">TRAINING_NUM_MACHINES=1</span><br><span class="line">TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line">MIXED_PRECISION=<span class="string">&#x27;bf16&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line"><span class="built_in">export</span> ENV=<span class="string">&quot;default&quot;</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash train.sh</span><br></pre></td></tr></table></figure><p><code>SimpleTuner</code>ëŠ” <code>ENV</code> ë””ë ‰í† ë¦¬ ë‚´ì—ì„œ <code>config</code> ë””ë ‰í† ë¦¬ì¸ <code>config.json</code>ì„ ê²€ìƒ‰í•©ë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë§ˆìŠ¤í„° <code>config.env</code> íŒŒì¼ì—ì„œ <code>ENV</code>ê°€ <code>default</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ëŠ” <code>SimpleTuner/config</code>ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p><p>â€˜config.jsonâ€™ì„ ì°¾ëŠ” ì´ìœ ê°€ ë¬´ì—‡ì¸ì§€ ë¬¼ì–´ë³¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ìŒ, <a href="http://train.sh/"><code>train.sh</code></a> íŒŒì¼ì—ì„œ ì´ ì½”ë“œ ë¸”ë¡ì„ ë³´ë©´, <code>CONFIG_BACKEND</code>ë¡œ ì§€ì •í•œ ë‚´ìš©ì— ë”°ë¼ ì´ íŒŒì¼ì„ ì°¾ëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆìŠ¤í„° <code>config.env</code> íŒŒì¼:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_PATH=<span class="string">&quot;config/<span class="variable">$&#123;ENV_PATH&#125;</span>config&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.json&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.toml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;toml&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.env&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Using <span class="variable">$&#123;CONFIG_BACKEND&#125;</span> backend: <span class="variable">$&#123;CONFIG_PATH&#125;</span>.<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p><code>config.*</code>ì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ”ì§€ ê¶ê¸ˆí•˜ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. <code>config_fantasy_art_lora_01.*</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”? <code>config_fantasy_art_full_01.*</code>ì€ ì–´ë–»ìŠµë‹ˆê¹Œ?</p><p>ì•ˆíƒ€ê¹ê²Œë„ ê·¸ëŸ´ ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. <code>train.sh</code> íŒŒì¼ì—ì„œ <code>config.*</code>ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ë”ë¼ë„ <a href="https://github.com/bghira/SimpleTuner/blob/main/helpers/configuration/loader">loader.py</a> .py#L17) êµ¬ì„± ë„ìš°ë¯¸ì˜ ì½”ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">default_config_paths = &#123;</span><br><span class="line">    <span class="string">&quot;json&quot;</span>: <span class="string">&quot;config.json&quot;</span>,</span><br><span class="line">    <span class="string">&quot;toml&quot;</span>: <span class="string">&quot;config.toml&quot;</span>,</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: <span class="string">&quot;config.env&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ë”°ë¼ì„œ ì„¸ë¶€ í›ˆë ¨ ë§¤ê°œë³€ìˆ˜ ì„¤ì •ìœ¼ë¡œ í•˜ìœ„ ìˆ˜ì¤€ <code>config.*</code> íŒŒì¼ì„ êµ¬ë³„í•˜ê³  <a href="https://github.com/bghira/SimpleTuner/blob">loader.py</a>ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš° &#x2F;main&#x2F;helpers&#x2F;configuration&#x2F;loader.py#L17) ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í›ˆë ¨ì— í•´ë‹¹í•˜ëŠ” <code>SimpleTuner/config</code> ë””ë ‰í† ë¦¬ ë‚´ì— í´ë”ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë‚˜ë„ ë˜‘ê°™ì´ í•  ê²ƒì´ë‹¤.</p><p><code>SimpleTuner/config</code> ì•ˆì— ì²« ë²ˆì§¸ í›ˆë ¨ì„ ìœ„í•œ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> SimpleTuner/config/sd35_fantasy_art_lora</span><br></pre></td></tr></table></figure><p>ì´ì œ <code>SimpleTuner/config/config.env</code>ì—ì„œ ìƒìœ„ ìˆ˜ì¤€ <code>config.env</code>ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.</p><ul><li><p>High-level <code>config.env</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TRAINING_NUM_PROCESSES=1</span><br><span class="line">TRAINING_NUM_MACHINES=1</span><br><span class="line">TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line">MIXED_PRECISION=<span class="string">&#x27;bf16&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line"><span class="built_in">export</span> ENV=<span class="string">&quot;sd35_fantasy_art_lora&quot;</span></span><br></pre></td></tr></table></figure></li></ul><p>í›ˆë ¨ì´ ì‹œì‘ë˜ë©´ ë¨¼ì € <code>SimpleTuner/config/config.env</code>ì—ì„œ ë§ˆìŠ¤í„° <code>config.env</code>ë¥¼ ì†Œì‹±í•œ ë‹¤ìŒ <code>SimpleTuner/config/sd35_fantasy_art_lora</code>ì—ì„œ í•´ë‹¹ <code>config.$&#123;CONFIG_BACKEND&#125;</code> íŒŒì¼ì„ ì°¾ìŠµë‹ˆë‹¤. ì´ ê²½ìš° <code>config.json</code> ì…ë‹ˆë‹¤.</p><p>ì´ë¥¼ ì´í•´í•˜ë©´ ë‹¤ì–‘í•œ ëª¨ë¸ì— ëŒ€í•œ ë‹¤ì–‘í•œ â€˜configâ€™ í•™ìŠµ ë§¤ê°œë³€ìˆ˜ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì‰¬ì›Œì§€ë¯€ë¡œ í•™ìŠµ íë¦„ì´ ëª…í™•í•´ì§€ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</p><p>ì´ì œ í•˜ìœ„ ìˆ˜ì¤€ <code>config.*</code> íŒŒì¼ë¡œ ì´ë™í•˜ê² ìŠµë‹ˆë‹¤.</p><h3 id="Configuration-setup-low-level"><a href="#Configuration-setup-low-level" class="headerlink" title="Configuration setup (low-level)"></a>Configuration setup (low-level)</h3><p><code>SimpleTuner/config/</code> ë””ë ‰í† ë¦¬ì—ëŠ” <code>bghira</code>ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ <code>config.json.example</code>ì´ ìˆìŠµë‹ˆë‹¤.</p><p>ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ë‚´ ë§ì¶¤ <code>config.json</code> ì‚¬ìš©ìœ¼ë¡œ ê±´ë„ˆë›°ì„¸ìš”.</p><ul><li><p>ë§ì¶¤í˜• SD3.5 ëŒ€í˜• <code>LoRA</code> <code>config.json</code></p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">1.05e-3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--instance_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4 &quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful female blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_accumulation_steps&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--metadata_update_interval&quot;</span><span class="punctuation">:</span> <span class="number">65</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--vae_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_unwanted_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_problematic_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--training_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--inference_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--snr_gamma&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--enable_xformers_memory_efficient_attention&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--allow_tf32&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--use_ema&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--ema_decay&quot;</span><span class="punctuation">:</span> <span class="number">0.999</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_alpha&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p>ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ë‹¤ë©´ ê³„ì† ì½ì–´ë³´ì„¸ìš”.</p><p><code>SimpleTuner</code> ë£¨íŠ¸ì— ìˆëŠ” <code>config</code> íŒŒì¼ì„ <code>ENV</code> ë””ë ‰í„°ë¦¬ì— ë³µì‚¬í•˜ì—¬ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë‚´ ëª…ë ¹ì´ë‹¤.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp config/config.<span class="property">json</span>.<span class="property">example</span> config/sd35_fantasy_art_lora/config.<span class="property">json</span></span><br></pre></td></tr></table></figure><p>ì¼ë‹¨ ì—´ë©´ <code>json</code> íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p><ul><li><p><code>config.json.example</code></p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;config/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--aspect_bucket_rounding&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;output/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lycoris&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lycoris_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;config/lycoris_config.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">10000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">500</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0.1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel_area&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">500</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1024x1024&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">3.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;A photo-realistic image of a cat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1e-4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;polynomial&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_torch_compile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--disable_benchmark&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p>ì›í•˜ì‹ ë‹¤ë©´ ì´ ì œí’ˆì„ ì¦‰ì‹œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì œê³µëœ <code>json</code>ì—ëŠ” <a href="https://github.com/bghira/SimpleTuner/blob/main/OPTIONS.md#environment-configuration-variables">OPTIONS.MD</a>ì˜ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. <a href="https://github.com/bghira/SimpleTuner/blob/main/configure.py">configure.py</a>ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ê²°êµ­ ë‹¤ìŒê³¼ ê°™ì€ <code>config.json</code> íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><ul><li><p><code>configure.py</code>ë¡œ ìƒì„±ëœ ìƒ˜í”Œ <code>.json</code>(ì°¸ì¡°ë¡œ ì‚¬ìš©ë¨)</p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;config/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--aspect_bucket_rounding&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--disable_benchmark&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">256</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-sd35-large-fantasy-art-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3-medium-diffusers&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;true&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel_area&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1024&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="string">&quot;42&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;200&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1024x1024&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;35&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful female blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.05e-3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;polynomial&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2400&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;--validation_torch_compile&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p><a href="https://github.com/bghira/SimpleTuner/blob/main/configure.py">configure.py</a>ëŠ” <code>lora_rank</code>ì™€ ê°™ì€ ì¼ë¶€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œí•œí•  ë¿ë§Œ ì•„ë‹ˆë¼ ìœ íš¨ì„± ê²€ì‚¬ ì¤‘ì— ë¶€ì •ì ì¸ í”„ë¡¬í”„íŠ¸(<code>validation_negative_prompt)ë¥¼ ìƒëµí•©ë‹ˆë‹¤. </code>) ë¬´ì—‡ë³´ë‹¤ë„ ë¨¼ì € ì•„ë˜ <code>config.json</code>ì„ ë³µì‚¬í•˜ì—¬ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><ul><li><p>Custom SD3.5 Large <code>LoRA</code> <code>config.json</code></p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">1.05e-3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--instance_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4 &quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful female blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_accumulation_steps&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--metadata_update_interval&quot;</span><span class="punctuation">:</span> <span class="number">65</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--vae_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_unwanted_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_problematic_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--training_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--inference_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--snr_gamma&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--enable_xformers_memory_efficient_attention&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--allow_tf32&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--use_ema&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--ema_decay&quot;</span><span class="punctuation">:</span> <span class="number">0.999</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_alpha&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p>ë­”ê°€ ëˆˆì¹˜ì±„ì…¨ì„ ìˆ˜ë„ ìˆì§€ë§Œ, ìš°ë¦¬ëŠ” <strong>ë” ì´ìƒ</strong> ì´ì „ í•˜ìœ„ ìˆ˜ì¤€ <code>config.env</code>ì˜ ì´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">export</span> STABLE_DIFFUSION_3=<span class="literal">true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ëŒ€ì‹  <code>&quot;--model_family&quot;</code> ë§¤ê°œë³€ìˆ˜ë¡œ ëŒ€ì²´ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ê²ƒì„ <code>sd3</code>ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;--model_family&quot;: &quot;sd3&quot;</span><br></pre></td></tr></table></figure><p>ì‹¤ì œë¡œ, ë‚®ì€ ìˆ˜ì¤€ <code>config.env</code>ëŠ” <code>SimpleTuner</code>ì— ì˜í•´ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì›í•˜ì‹œë©´ ê·¸ë˜ë„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ì´ <a href="https://www.notion.so/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6?pvs">ì„¹ì…˜</a>ì—ì„œ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤. &#x3D;21).</p><p>ë˜í•œ ì´ ë§¤ê°œë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ <code>HuggingFace</code>ì—ì„œ ëª¨ë¸ì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;--pretrained_model_name_or_path&quot;: &quot;stabilityai/stable-diffusion-3.5-large&quot;</span><br></pre></td></tr></table></figure><p>ì´ê²ƒì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ â€˜HuggingFaceâ€™ ê³„ì •ì— ì—¬ê¸° ëª¨ë¸ ì¹´ë“œ í˜ì´ì§€ì—ì„œ ì´ ëª¨ë¸ì— ëŒ€í•œ ì•¡ì„¸ìŠ¤ ê¶Œí•œì´ ë¶€ì—¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. <a href="https://github.com/bghira/SimpleTuner/blob/main/documentation/quickstart/SD3.md">ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ</a>ì˜ ì§€ì¹¨ì„ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤.</p><p>ë‹¤ìŒ ëª…ë ¹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p><strong>í•„ìˆ˜</strong></p><p>ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•˜ê¸° ìœ„í•œ ì ‘ê·¼ ê¶Œí•œì„ ì–»ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">huggingface-cli login</span><br></pre></td></tr></table></figure><p>ë‚˜ë¨¸ì§€ ì„¤ì •ì„ ë‹¤ë£¨ê¸° ì „ì— ì§€ê¸ˆ â€˜multidatabackend.jsonâ€™ íŒŒì¼ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><h3 id="Dataloader"><a href="#Dataloader" class="headerlink" title="Dataloader"></a>Dataloader</h3><p>ê´€ë ¨ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¸ê°„ì´ ì´í•´í•  ìˆ˜ ìˆëŠ” ì–´íœ˜ë¡œ êµ¬ë¬¸ ë¶„ì„í•˜ê¸° ì „ì— ë°ì´í„° ë¶€ë¶„ì¸ <code>--data_backend_config</code> ë° <code>--output_dir</code>ë¶€í„° ì‹œì‘í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ì´ì „ ë²„ì „ì˜ <code>SimpleTuner</code>ì—ëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” <code>multidatabackend.json</code> íŒŒì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.</p><p>Excerpt from old code:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> BASE_DIR=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/&quot;</span></span><br><span class="line"><span class="built_in">export</span> DATALOADER_CONFIG=<span class="string">&quot;<span class="variable">$&#123;BASE_DIR&#125;</span>/multidatabackend.json&quot;</span></span><br><span class="line"><span class="built_in">export</span> OUTPUT_DIR=<span class="string">&quot;<span class="variable">$&#123;BASE_DIR&#125;</span>/models&quot;</span></span><br></pre></td></tr></table></figure><p>ë³´ì‹œë‹¤ì‹œí”¼ <code>BASE_DIR</code>ì´ ì„ ì–¸ëœ ë‹¤ìŒ <code>DATALOADER_CONFIG</code>ì™€ <code>OUTPUT_DIR</code>ì´ ì´ë¥¼ í™•ì¥í•©ë‹ˆë‹¤. <code>multidatabackend.json</code>ì€ <code>BASE_DIR</code> ë‚´ë¶€ì— ìƒì„±ëœ íŒŒì¼ì…ë‹ˆë‹¤.</p><p>ê·¸ëŸ¬ë‚˜ SimpleTunerì˜ ê¸°ë³¸ êµ¬ì„± í´ë”ì—ëŠ” â€˜SimpleTuner&#x2F;config&#x2F;multidatabackend.jsonâ€™ íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. ê°œì¸ ì·¨í–¥ì— ë”°ë¼ â€˜multidatabackend.jsonâ€™ íŒŒì¼ì„ ì›í•˜ëŠ” ê³³ì— ëª¨ë‘ ë°°ì¹˜í•  ìˆ˜ ìˆì§€ë§Œ, ëª¨ë“  ëª¨ë¸ê³¼ ìºì‹œë¥¼ í•œ ê³³ì— ë³´ê´€í•˜ë¯€ë¡œ ì´ì „ ë²„ì „ì˜ â€˜SimpleTunerâ€™ êµ¬ì¡°ë¥¼ ë³´ì¡´í•˜ê² ìŠµë‹ˆë‹¤.</p><p>ë”°ë¼ì„œ <code>BASE_DIR</code> ì—­í• ì„ í•  í´ë” ìœ„ì¹˜ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ <code>--data_backend_config</code>ì™€ <code>--output_dir</code> ëª¨ë‘ ì´ ê²½ë¡œë¥¼ í™œìš©í•©ë‹ˆë‹¤.</p><p>ìš°ë¦¬ëŠ” <code>json</code>ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ í•˜ë“œì½”ë”©í•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;--data_backend_config&quot;: &quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;,</span><br><span class="line"> &quot;--output_dir&quot;: &quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;,</span><br></pre></td></tr></table></figure><p>ëª¨ë“  ëª¨ë¸ì€ <code>--output_dir</code>ì— ì €ì¥ë˜ë©°, ì´ ê²½ìš° í•˜ë“œ ì½”ë”©ëœ <code>BASE_DIR/models</code>ì…ë‹ˆë‹¤.</p><p>ë‹¤ìŒì€ ë‚´ ì‚¬ìš©ì ì •ì˜ <code>multidatabackend.json</code>ì…ë‹ˆë‹¤.</p><ul><li><p>Custom <code>multidatabackend.json</code></p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fantasy_art_neo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;local&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;crop&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;crop_aspect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;square&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;crop_style&quot;</span><span class="punctuation">:</span> <span class="string">&quot;center&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;resolution&quot;</span><span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;maximum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target_downsample_size&quot;</span><span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;area&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cache_dir_vae&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/cache/vae/sd3/fantasy_art_neo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;instance_data_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/datasets/SDXL/duplicate_shuffle_01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;disabled&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skip_file_discovery&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;caption_strategy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;textfile&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;metadata_backend&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;repeats&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text-embeds&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;local&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dataset_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text_embeds&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;default&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cache_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/cache/text/sd3/fantasy_art_neo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;disabled&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;write_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">128</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></li></ul><p>ì§€ì •í•´ì•¼ í•˜ëŠ” ë””ë ‰í„°ë¦¬ëŠ” ì„¸ ê°œì…ë‹ˆë‹¤.</p><ol><li><code>cache_dir_vae</code></li></ol><p>ë‚´ ì˜ˆì œ íŒŒì¼ì—ëŠ” ë‹¤ìŒì´ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;cache_dir_vae&quot;: &quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/cache/vae/sd3/fantasy_art_neo&quot;</span><br></pre></td></tr></table></figure><p>ê°€ë…ì„±ê³¼ ëª…í™•ì„±ì„ ìœ„í•´ ê¸°ë³¸ ë””ë ‰í„°ë¦¬ ì•ˆì— â€˜cacheâ€™ í´ë”ë¥¼ ë„£ì—ˆìŠµë‹ˆë‹¤.</p><ol><li><code>instance_dir_vae</code></li></ol><p>ì—¬ê¸°ì— ì´ë¯¸ì§€ì™€ ìº¡ì…˜ì´ í¬í•¨ëœ ë°ì´í„°ì„¸íŠ¸ê°€ ì €ì¥ë©ë‹ˆë‹¤. ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;instance_data_dir&quot;: &quot;/weka2/home-yeo/datasets/SDXL/duplicate_shuffle_01&quot;</span><br></pre></td></tr></table></figure><ol><li><code>cache_dir</code></li></ol><p>ìœ„ì™€ ë™ì¼í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;cache_dir&quot;: &quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/cache/text/sd3/fantasy_art_neo&quot;</span><br></pre></td></tr></table></figure><p>ë‚˜ë¨¸ì§€ ì„¤ì •ì€ ë‚˜ì—ê²Œ ê·¸ë‹¤ì§€ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì €ëŠ” ì´ë¯¸ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ ì˜ë¼ì„œ <code>&quot;crop&quot;: false</code>ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p><p>ë˜í•œ ì´ì „ì— ë‹¤ë¥¸ êµìœ¡ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•´ ë³¸ ì ì´ ìˆëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ìµìˆ™í•  ìˆ˜ë„ ìˆê³  ìµìˆ™í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ” â€˜ë°˜ë³µâ€™ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ì´ ë‚´ìš©ë„ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ &#96;&#96;repeatsâ€: 1â€™ì„ ì œê°€ ì§ì ‘ ì²˜ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><h3 id="Data-preparation"><a href="#Data-preparation" class="headerlink" title="Data preparation"></a>Data preparation</h3><p>ë‚´ ë°ì´í„° ì„¸íŠ¸ì˜ ëª¨ë“  ì´ë¯¸ì§€ëŠ” ì´ë¯¸ ë‹¤ìŒ ì¢…íš¡ë¹„ ë° í•´ìƒë„ ì¤‘ í•˜ë‚˜ë¡œ ë¯¸ë¦¬ ì˜ë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    (1024, 1024), (1152, 896), (896, 1152), (1216, 832),</span><br><span class="line">    (832, 1216), (1344, 768), (768, 1344), (1472, 704)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ì´ë¯¸ì§€ë¥¼ ìë™ìœ¼ë¡œ ë¯¸ë¦¬ ìë¥´ëŠ” ë° ë„ì›€ì´ í•„ìš”í•œ ê²½ìš° ì´ë¥¼ ìœ„í•´ ì œê°€ ì‘ì„±í•œ ê²½ëŸ‰ì˜ ê¸°ë³¸ <a href="https://github.com/kasukanra/autogen_local_LLM/blob/main/Detect_utils.py">ìŠ¤í¬ë¦½íŠ¸</a>ê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì— ë”°ë¼ ìµœìƒì˜ ì‘ë¬¼ì„ ì°¾ìŠµë‹ˆë‹¤.</p><ol><li>ì´ë¯¸ì§€ì— ì‚¬ëŒ ì–¼êµ´ì´ í¬í•¨ë˜ì–´ ìˆë‚˜ìš”? ê·¸ë ‡ë‹¤ë©´ ì´ë¯¸ì§€ì˜ í•´ë‹¹ ì˜ì—­ì„ ì¤‘ì‹¬ìœ¼ë¡œ ìë¥´ê¸°ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.</li><li>ê°ì§€ëœ ì‚¬ëŒì˜ ì–¼êµ´ì´ ì—†ìœ¼ë©´ ì´ë¯¸ì§€ì—ì„œ ê°€ì¥ í¥ë¯¸ë¡œìš´ ì˜ì—­ì„ ê°ì§€í•˜ëŠ” ëŒì¶œ ë§µì„ ì‚¬ìš©í•˜ì—¬ ìë¥´ê¸°ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ í•´ë‹¹ ì§€ì—­ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê°€ì¥ ì¢‹ì€ ì‘ë¬¼ì´ ì¶”ì¶œë©ë‹ˆë‹¤.</li></ol><p>ì–´ì¨Œë“  ë‚´ ê¸°ë³¸ ë°ì´í„° ì„¸íŠ¸ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤(í…ìŠ¤íŠ¸ íŒŒì¼ì€ ìº¡ì…˜ì…ë‹ˆë‹¤).</p><p>ë‚´ ìº¡ì…˜ì´ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ì— ëŒ€í•œ ëª‡ ê°€ì§€ ì˜ˆëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">k4s4, a close up portrait view of a young man with green eyes and short dark hair, looking at the viewer with a slight smile, visible ears, wearing a dark jacket, hair bangs, a green and orange background</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">k4s4, a rear view of a woman wearing a red hood and faded skirt holding a staff in each hand and steering a small boat with small white wings and large white sail towards a city with tall structures, blue sky with white clouds, cropped</span><br></pre></td></tr></table></figure><p>ìì²´ ë¯¸ì„¸ ì¡°ì • ë°ì´í„° ì„¸íŠ¸ê°€ ì—†ë‹¤ë©´ Johnì´ ê·¸ë¦° ê·¸ë¦¼ì˜ <a href="https://drive.google.com/file/d/1capT9kF-zCu2OiNVzm7VG5DQDaAQLl1Q/view?usp=sharing">ì´ ë°ì´í„° ì„¸íŠ¸</a>ë¥¼ ììœ ë¡­ê²Œ ì‚¬ìš©í•´ ë³´ì„¸ìš”. ê°€ìˆ˜ Sargent(WikiArtì—ì„œ ë‹¤ìš´ë¡œë“œí•˜ê³  ìë™ ìº¡ì…˜ ìˆìŒ) ë˜ëŠ” í•©ì„± í”½ì…€ ì•„íŠ¸ <a href="https://drive.google.com/file/d/1tOyNsjR5i7ki5UkyxHhjjT_VVD8vK5WN/view?usp=drive_link">ë°ì´í„°ì„¸íŠ¸</a>.</p><p>ë‹¤ì–‘í•œ ë°ì´í„° ì„¸íŠ¸ í¬ê¸°ì˜ ì—¬ëŸ¬ ë¯¸ì„¸ ì¡°ì •ëœ â€˜LoRAâ€™ ëª¨ë¸ì˜ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤Œìœ¼ë¡œì¨ ë‚´ê°€ ì„ íƒí•œ ì„¤ì •ì´ â€˜LoRAâ€™ ë¯¸ì„¸ ì¡°ì •ì„ ìœ„í•œ ì¢‹ì€ ì¶œë°œì ì´ ë  ë§Œí¼ ì¶©ë¶„íˆ ì¼ë°˜í™”ëœë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤„ ê²ƒì…ë‹ˆë‹¤.</p><table><thead><tr><th><code>name</code></th><th><code>fantasy art</code></th><th><code>cinema photo</code></th><th><code>john singer sargent</code></th><th><code>underexposed photography</code></th><th><code>pixel art</code></th><th><code>ethnic paint</code></th></tr></thead><tbody><tr><td><code>number of images</code></td><td>476</td><td>460</td><td>460</td><td>96</td><td>82</td><td>68</td></tr><tr><td><code>number of repeats</code></td><td>5</td><td>5</td><td>5</td><td>5</td><td>5</td><td>5</td></tr></tbody></table><p><code>ë°˜ë³µ</code>ì€ ì´ë¯¸ì§€ë¥¼ ë³µì œí•˜ê³ (ì„ íƒì ìœ¼ë¡œ íšŒì „í•˜ê³ , ìƒ‰ì¡°&#x2F;ì±„ë„ ë“±ì„ ë³€ê²½í•˜ëŠ” ë“±) ìº¡ì…˜ë„ ëª¨ë¸ì— ì¼ë°˜í™”í•˜ê³  ê³¼ì í•©ì„ ë°©ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤. <code>SimpleTuner</code>ëŠ” ìº¡ì…˜ ë“œë¡­ì•„ì›ƒ(ì§€ì •ëœ ì‹œê°„ ë¹„ìœ¨ì— ë”°ë¼ ìº¡ì…˜ì„ ë¬´ì‘ìœ„ë¡œ ì‚­ì œ)ì„ ì§€ì›í•˜ì§€ë§Œ í˜„ì¬ë¡œì„œëŠ” ì…”í”Œë§ í† í°(í† í°ì€ ìº¡ì…˜ì˜ ë‹¨ì–´ì™€ ìœ ì‚¬í•¨)ì„ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ kohyaì˜ ë™ì‘ì„ ì‹œë®¬ë ˆì´ì…˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <a href="https://github.com/kohya-ss/sd-scripts">sd-scripts</a> <a href="https://github.com/kohya-ss/sd-scripts/blob/25f961bc779bc79aef440813e3e8e92244ac5739/">í† í° ì„ê¸°</a>í•  ìˆ˜ ìˆëŠ” ê³³ docs&#x2F;config_README-en.md?plain&#x3D;1#L146) [ìœ ì§€]í•˜ëŠ” ë™ì•ˆ(<a href="https://github.com/kohya-ss/sd-scripts/blob/25f961bc779bc79aef440813e3e8e92244ac5739/docs/config_README-en.md?plain=1">https://github.com/kohya-ss/sd-scripts/blob/25f961bc779bc79aef440813e3e8e92244ac5739/docs/config_README-en.md?plain=1</a> #L143) ì‹œì‘ ìœ„ì¹˜ì— â€˜nâ€™ê°œì˜ í† í°ì´ ìˆìŠµë‹ˆë‹¤. <strong>ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë¸ì´ ì™¸ë¶€ í† í°ì— ë„ˆë¬´ ì§‘ì°©í•˜ì§€ ì•Šë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.</strong></p><p>í•´ë‹¹ ê¸°ëŠ¥ì„ ë³µì œí•˜ë ¤ë©´ ì—¬ê¸°ì— ì´ë¯¸ì§€ë¥¼ ë³µì œí•˜ê³  ìº¡ì…˜ì„ ì¡°ì‘í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì œê³µí–ˆìŠµë‹ˆë‹¤.</p><ul><li><p><code>duplicate_shuffle.py</code></p>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">duplicate_and_shuffle_dataset</span>(<span class="params">input_folder, output_folder, dataset_repeats, n_tokens_to_keep</span>):</span><br><span class="line">    <span class="comment"># Create output folder if it doesn&#x27;t exist</span></span><br><span class="line">    Path(output_folder).mkdir(parents=<span class="literal">True</span>, exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Get all image files</span></span><br><span class="line">    image_files = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(input_folder) <span class="keyword">if</span> f.lower().endswith((<span class="string">&#x27;.png&#x27;</span>, <span class="string">&#x27;.jpg&#x27;</span>, <span class="string">&#x27;.jpeg&#x27;</span>))]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(dataset_repeats):</span><br><span class="line">        <span class="keyword">for</span> image_file <span class="keyword">in</span> image_files:</span><br><span class="line">            <span class="comment"># Get corresponding text file</span></span><br><span class="line">            text_file = os.path.splitext(image_file)[<span class="number">0</span>] + <span class="string">&#x27;.txt&#x27;</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(os.path.join(input_folder, text_file)):</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;Warning: No corresponding text file found for <span class="subst">&#123;image_file&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Create new file names</span></span><br><span class="line">            new_image_file = <span class="string">f&quot;<span class="subst">&#123;os.path.splitext(image_file)[<span class="number">0</span>]&#125;</span>_<span class="subst">&#123;i+<span class="number">1</span>&#125;</span><span class="subst">&#123;os.path.splitext(image_file)[<span class="number">1</span>]&#125;</span>&quot;</span></span><br><span class="line">            new_text_file = <span class="string">f&quot;<span class="subst">&#123;os.path.splitext(text_file)[<span class="number">0</span>]&#125;</span>_<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>.txt&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Copy image file</span></span><br><span class="line">            shutil.copy2(os.path.join(input_folder, image_file), os.path.join(output_folder, new_image_file))</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Read, shuffle, and write text file</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(os.path.join(input_folder, text_file), <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                content = f.read().strip()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Split tokens using comma or period as separator</span></span><br><span class="line">            tokens = re.split(<span class="string">r&#x27;[,.]&#x27;</span>, content)</span><br><span class="line">            tokens = [token.strip() <span class="keyword">for</span> token <span class="keyword">in</span> tokens <span class="keyword">if</span> token.strip()]  <span class="comment"># Remove empty tokens and strip whitespace</span></span><br><span class="line"></span><br><span class="line">            tokens_to_keep = tokens[:n_tokens_to_keep]</span><br><span class="line">            tokens_to_shuffle = tokens[n_tokens_to_keep:]</span><br><span class="line">            random.shuffle(tokens_to_shuffle)</span><br><span class="line"></span><br><span class="line">            new_content = <span class="string">&#x27;, &#x27;</span>.join(tokens_to_keep + tokens_to_shuffle)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(os.path.join(output_folder, new_text_file), <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(new_content)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Dataset duplication and shuffling complete. Output saved to <span class="subst">&#123;output_folder&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Example usage</span></span><br><span class="line">input_folder = <span class="string">&quot;/weka2/home-yeo/datasets/SDXL/full_dataset_neo&quot;</span></span><br><span class="line">output_folder = <span class="string">&quot;/weka2/home-yeo/datasets/SDXL/duplicate_shuffle_1&quot;</span></span><br><span class="line">dataset_repeats = <span class="number">5</span></span><br><span class="line">n_tokens_to_keep = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">duplicate_and_shuffle_dataset(input_folder, output_folder, dataset_repeats, n_tokens_to_keep)</span><br></pre></td></tr></table></figure></li></ul><p>ê·¸ë ‡ê²Œ í•˜ë©´ ìµœì¢… ë°ì´í„° ì„¸íŠ¸ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ë¹„ìŠ·í•´ì§‘ë‹ˆë‹¤. ì œê°€ ì‚¬ìš©í•œ ì„¤ì •ìœ¼ë¡œëŠ” 5ë²ˆì˜ â€˜ë°˜ë³µâ€™ì´ í—ˆìš©ë˜ëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.</p><h2 id="Returning-to-the-custom-config"><a href="#Returning-to-the-custom-config" class="headerlink" title="Returning to the custom config"></a>Returning to the custom config</h2><p>ì´ì œ ì‚¬ìš©ì ì •ì˜ êµ¬ì„±ì—ì„œ ì´ëŸ¬í•œ íŠ¹ì • ì„¤ì •ì„ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.</p><h3 id="Learning-rate-x2F-steps"><a href="#Learning-rate-x2F-steps" class="headerlink" title="Learning rate&#x2F;steps"></a>Learning rate&#x2F;steps</h3><ul><li><p>Custom SD3.5 Large  <code>config.json</code> for LoRA training</p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">1.05e-3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--instance_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4 &quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_accumulation_steps&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--metadata_update_interval&quot;</span><span class="punctuation">:</span> <span class="number">65</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--vae_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_unwanted_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_problematic_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--training_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--inference_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--snr_gamma&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--enable_xformers_memory_efficient_attention&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--allow_tf32&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--use_ema&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--ema_decay&quot;</span><span class="punctuation">:</span> <span class="number">0.999</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_alpha&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul><p>ì´ì œ ì‚¬ìš©ì ì •ì˜ êµ¬ì„±ì—ì„œ ì´ëŸ¬í•œ ì„¤ì •ì„ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">1.05e-3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Steps-calculation"><a href="#Steps-calculation" class="headerlink" title="Steps calculation"></a>Steps calculation</h3><p>ìµœëŒ€ í›ˆë ¨ ë‹¨ê³„ëŠ” ê°„ë‹¨í•œ ìˆ˜í•™ ë°©ì •ì‹ì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(<strong>ë‹¨ì¼ ê°œë…</strong>ì˜ ê²½ìš°).</p><p>$$<br>\text{Max training steps} &#x3D; \left(\frac{\text{Number of samples} \times \text{Repeats}}{\text{Batch size}}\right) \times \text{Epochs}<br>$$</p><p>ì—¬ê¸°ì—ëŠ” ë„¤ ê°€ì§€ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.</p><ul><li>ë°°ì¹˜ í¬ê¸°: í•œ ë²ˆì˜ ë°˜ë³µìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ìƒ˜í”Œ ìˆ˜ì…ë‹ˆë‹¤.</li><li>ìƒ˜í”Œ ìˆ˜: ë°ì´í„° ì„¸íŠ¸ì˜ ì´ ìƒ˜í”Œ ìˆ˜ì…ë‹ˆë‹¤.</li><li>ë°˜ë³µ íšŸìˆ˜: í•œ ì—í¬í¬ ë‚´ì—ì„œ ë°ì´í„° ì„¸íŠ¸ë¥¼ ë°˜ë³µí•˜ëŠ” íšŸìˆ˜ì…ë‹ˆë‹¤.</li><li>Epochs: ì „ì²´ ë°ì´í„°ì„¸íŠ¸ê°€ ì²˜ë¦¬ë˜ëŠ” íšŸìˆ˜ì…ë‹ˆë‹¤.</li></ul><p>â€˜fantasy artâ€™ ë°ì´í„°ì„¸íŠ¸ì—ëŠ” â€˜476â€™ ì´ë¯¸ì§€ê°€ ìˆìŠµë‹ˆë‹¤. <code>multidatabackend.json</code>ì˜ <code>5</code> ë°˜ë³µ ìœ„ì— ì¶”ê°€í•©ë‹ˆë‹¤. ë‚˜ëŠ” ë‘ ê°€ì§€ ì´ìœ ë¡œ <code>train_batch_size</code>ë¥¼ <code>6</code>ìœ¼ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤:</p><ol><li>ì´ ê°’ì„ ì‚¬ìš©í•˜ë©´ ì§„í–‰ë¥  í‘œì‹œì¤„ì´ 1~2ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li><li>í•œ ë²ˆì˜ ë°˜ë³µìœ¼ë¡œ â€˜6â€™ê°œì˜ ìƒ˜í”Œì„ ì·¨í•  ìˆ˜ ìˆì„ ë§Œí¼ ì¶©ë¶„íˆ í¬ë¯€ë¡œ í›ˆë ¨ ê³¼ì •ì—ì„œ ë” ë§ì€ ì¼ë°˜í™”ê°€ ì´ë£¨ì–´ì§€ë„ë¡ í•©ë‹ˆë‹¤.</li></ol><p>30ê°œ ì •ë„ì˜ ì—í¬í¬ë¥¼ ì›í–ˆë‹¤ë©´ ìµœì¢… ê³„ì‚°ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p>$$<br>\text{Max training steps} &#x3D; \left(\frac{\text{476} \times \text{5}}{\text{6}}\right) \times \text{30}<br>$$</p><p>ì´ëŠ” ëŒ€ëµ â€˜11,900â€™ ë‹¨ê³„ì™€ ê°™ìŠµë‹ˆë‹¤.</p><p>ê´„í˜¸ ì•ˆì˜ ë¶€ë¶„:</p><p>$$<br>\left(\frac{\text{476} \times \text{5}}{\text{6}}\right)<br>$$</p><p>ëŠ” ì—í¬í¬ë‹¹ ë‹¨ê³„ ìˆ˜, ì¦‰ â€˜396â€™ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p><p>ë”°ë¼ì„œ <code>CHECKPOINTING_STEPS</code>ì— ëŒ€í•´ ì´ ê°’ì„ <code>400</code>ìœ¼ë¡œ ë°˜ì˜¬ë¦¼í–ˆìŠµë‹ˆë‹¤.</p><p><a href="https://emojipedia.org/warning">**âš ï¸</a>** <code>MAX_NUM_STEPS</code>ì— ëŒ€í•´ <code>11,900</code>ì„ ê³„ì‚°í–ˆì§€ë§Œ ê²°êµ­ <code>24,000</code>ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. LoRA í›ˆë ¨ ìƒ˜í”Œì„ ë” ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì›ë˜ â€˜11,900â€™ ì´í›„ì˜ ëª¨ë“  ê°’ì€ ë‚´ê°€ ê³¼ë„í•œ í›ˆë ¨ì„ í–ˆëŠ”ì§€ ì—¬ë¶€ì— ëŒ€í•œ ì¢‹ì€ ì²™ë„ê°€ ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ ë‹¨ê³„ <code>11,900</code> x <code>2</code> &#x3D; <code>23,800</code>ì„ ë‘ ë°°ë¡œ ëŠ˜ë¦° ë‹¤ìŒ ë°˜ì˜¬ë¦¼í–ˆìŠµë‹ˆë‹¤.</p><p><code>CHECKPOINTING_STEPS</code>ëŠ” ëª¨ë¸ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì €ì¥í•˜ë ¤ëŠ” ë¹ˆë„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. â€˜400â€™ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì€ ì œê²ŒëŠ” í•œ ì‹œëŒ€ì— ê½¤ ê°€ê¹ê¸° ë•Œë¬¸ì— ê´œì°®ì•„ ë³´ì˜€ìŠµë‹ˆë‹¤.</p><p><code>CHECKPOINTING_LIMIT</code>ì€ ì´ì „ ì²´í¬í¬ì¸íŠ¸ë¥¼ ë®ì–´ì“°ê¸° ì „ì— ì €ì¥í•˜ë ¤ëŠ” ì²´í¬í¬ì¸íŠ¸ ìˆ˜ì…ë‹ˆë‹¤. ì œ ê²½ìš°ì—ëŠ” ì²´í¬í¬ì¸íŠ¸ë¥¼ ëª¨ë‘ ìœ ì§€í•˜ê³  ì‹¶ì–´ì„œ â€˜60â€™ì²˜ëŸ¼ ë†’ì€ ìˆ«ìë¡œ ì œí•œì„ ë‘ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Multiple-concepts"><a href="#Multiple-concepts" class="headerlink" title="Multiple concepts"></a>Multiple concepts</h3><p>The above example is trained on a single concept with one unifying trigger word at the beginning: <code>k4s4</code>. However, if your dataset has multiple concepts&#x2F;trigger words, then your step calculation could be something like this so:</p><p><code>2</code> concepts <code>[a, b]</code></p><p>$$<br>\text{Max steps} &#x3D; \left(\frac{N_a \times R_a + N_b \times R_b}{\text{Batch size}}\right) \times \text{Epochs}<br>$$</p><p><code>i</code> concepts</p><p>$$<br>\text{Max steps} &#x3D; \left(\frac{\sum_{i \in C} N_i \times R_i}{\text{Batch size}}\right) \times \text{Epochs}<br>$$</p><p>ë§ˆì§€ë§‰ìœ¼ë¡œ í•™ìŠµë¥ ì˜ ê²½ìš° â€˜1.5e-3â€™ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ë” ë†’ì„ìˆ˜ë¡ ê¸°ìš¸ê¸°ê°€ ë‹¤ìŒê³¼ ê°™ì´ í­ë°œí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><p>ë‹¤ë¥¸ ê´€ë ¨ ì„¤ì •ì€ â€˜LoRAâ€™ì™€ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_alpha&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ê°œì¸ì ìœ¼ë¡œëŠ” ì¢€ ë” ë†’ì€ â€˜LoRAâ€™ ë­í¬ì™€ ì•ŒíŒŒë¥¼ ì‚¬ìš©í•´ ì•„ì£¼ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. ë‚´ YouTube <a href="https://youtube.com/@kasukanra">ì±„ë„</a>ì—ì„œ â€˜LoRAâ€™ ìˆœìœ„ë¥¼ ë†’ì¼ìˆ˜ë¡ ì´ë¯¸ì§€ ì¶©ì‹¤ë„ê°€ ì–´ë–»ê²Œ ì¦ê°€í•˜ëŠ”ì§€ì— ëŒ€í•œ ë³´ë‹¤ ì •í™•í•œ ê²½í—˜ì  ë¶„ì„ì„ ë³´ë ¤ë©´ ìµœì‹  ë™ì˜ìƒì„ ì‹œì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. .</p><p>ì–´ì¨Œë“  VRAM, ì €ì¥ ìš©ëŸ‰ ë˜ëŠ” ê·¸ë ‡ê²Œ ë†’ì•„ì§ˆ ì‹œê°„ì´ ì—†ë‹¤ë©´ â€˜256â€™ ë˜ëŠ” â€˜128â€™ê³¼ ê°™ì´ ë” ë‚®ì€ ê°’ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><code>lora_type</code>ì— ê´€í•´ì„œëŠ”, ë‚˜ëŠ” ì‹œë„ë˜ê³  ì§„ì‹¤ëœ <code>standard</code>ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤. â€˜LoRAâ€™ì˜ â€˜lycorisâ€™ ìœ í˜•ì— ëŒ€í•œ ë˜ ë‹¤ë¥¸ ì˜µì…˜ì´ ìˆì§€ë§Œ ì•„ì§ì€ ë§¤ìš° ì‹¤í—˜ì ì´ë©° ì˜ íƒìƒ‰ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë‚˜ëŠ” â€˜lycorisâ€™ì— ëŒ€í•´ ì§ì ‘ ì‹¬ì¸µ ë¶„ì„í–ˆì§€ë§Œ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ì˜¬ë°”ë¥¸ ì„¤ì •ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p><h3 id="Custom-config-json-miscellaneous"><a href="#Custom-config-json-miscellaneous" class="headerlink" title="Custom config.json miscellaneous"></a>Custom <code>config.json</code> miscellaneous</h3><p>ì‚¶ì˜ ì§ˆì„ ìœ„í•´ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ëª‡ ê°€ì§€ ì¶”ê°€ ì„¤ì •ì´ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>&quot;--validation_prompt&quot;: &quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</code></p><p><code>&quot;--validation_guidance&quot;: 7.5</code><br><code>&quot;--validation_steps&quot;: 200</code><br><code>&quot;--validation_num_inference_steps&quot;: 30</code><br><code>&quot;--validation_negative_prompt&quot;: &quot;blurry, cropped, ugly&quot;</code></p><p><code>&quot;--lr_scheduler&quot;: &quot;cosine&quot;</code></p><p><code>&quot;--lr_warmup_steps&quot;: 2400</code></p><p>ì´ê²ƒë“¤ì€ ë§¤ìš° ìëª…í•©ë‹ˆë‹¤:</p><p><code>&quot;--validation_prompt&quot;</code></p><p>ê²€ì¦ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•  í”„ë¡¬í”„íŠ¸ì…ë‹ˆë‹¤. ì´ê²ƒì´ ë‹¹ì‹ ì˜ ê¸ì •ì ì¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤.</p><p><code>&quot;--validation_negative_prompt&quot;</code></p><p>ë¶€ì •ì ì¸ í”„ë¡¬í”„íŠ¸.</p><p><code>&quot;--validation_guidance&quot;</code></p><p>Classifier free guidance (CFG) scale.</p><p><code>&quot;--validation_num_inference_steps&quot;</code></p><p>ì‚¬ìš©í•  ìƒ˜í”Œë§ ë‹¨ê³„ ìˆ˜ì…ë‹ˆë‹¤.</p><p><code>&quot;--validation_seed&quot;</code></p><p>ê²€ì¦ ì´ë¯¸ì§€ ìƒì„± ì‹œ ì‹œë“œ ê°’ì…ë‹ˆë‹¤.</p><p><code>&quot;--lr_warmup_steps&quot;</code></p><p>â€˜SimpleTunerâ€™ëŠ” ì„¤ì •í•˜ì§€ ì•Šì„ ê²½ìš° ê¸°ë³¸ ì›Œë°ì—…ì„ ì „ì²´ í›ˆë ¨ ë‹¨ê³„ì˜ â€˜10%â€™ë¡œ ì„¤ì •í–ˆëŠ”ë°, ì´ëŠ” ì œê°€ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê°’ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ (<code>24,000</code> * <code>0.1</code> &#x3D; <code>2,400</code>)ì— í•˜ë“œì½”ë”©í–ˆìŠµë‹ˆë‹¤. ììœ ë¡­ê²Œ ë³€ê²½í•´ ë³´ì„¸ìš”.</p><p><code>&quot;--validation_steps&quot;</code></p><p>ê²€ì¦ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ë ¤ëŠ” ë¹ˆë„ëŠ” <code>&quot;--validation_steps&quot;</code>ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ì €ëŠ” 400ì˜ 1&#x2F;2ì¸ 200ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤(íŒíƒ€ì§€ ì•„íŠ¸ ì˜ˆì œ ë°ì´í„°ì„¸íŠ¸ì— ëŒ€í•œ í•œ ì‹œëŒ€ì˜ ë‹¨ê³„ ìˆ˜). ì´ëŠ” ì—í¬í¬ì˜ 1&#x2F;2ë§ˆë‹¤ ê²€ì¦ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì˜¨ì „í•œ í™•ì¸ì„ ìœ„í•´ ìµœì†Œí•œ ë°˜ê¸°ì ë§ˆë‹¤ ê²€ì¦ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ìµœëŒ€í•œ ë¹¨ë¦¬ ì˜¤ë¥˜ë¥¼ í¬ì°©í•˜ì§€ ëª»í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p><p>ë§ˆì§€ë§‰ìœ¼ë¡œ <code>&quot;--lr_scheduler&quot;</code>ì™€ <code>&quot;--lr_warmup_steps&quot;</code>ì…ë‹ˆë‹¤.</p><p>ì €ëŠ” â€˜ì½”ì‚¬ì¸â€™ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ëª¨ìŠµì…ë‹ˆë‹¤.</p><h3 id="What-happened-to-the-low-level-config-env"><a href="#What-happened-to-the-low-level-config-env" class="headerlink" title="What happened to the low-level config.env ?"></a>What happened to the low-level <code>config.env</code> ?</h3><p>ì•ì„œ ì–¸ê¸‰í–ˆë“¯ì´ <code>SimpleTuner</code>ëŠ” ë‚®ì€ ìˆ˜ì¤€ì˜ <code>config.env</code> í˜•ì‹ì—ì„œ ë²—ì–´ë‚˜ ì‚¬ìš© í¸ì˜ì„±ì„ ìœ„í•´ <code>json</code>ì„ ì„ íƒí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë‹¤ë¥¸ êµìœ¡ ë¦¬í¬ì§€í† ë¦¬ë„ <code>json</code>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><p>ê·¸ëŸ¬ë‚˜ <a href="https://github.com/bghira/SimpleTuner/blob/main/helpers/configuration/loader.py#L17">loader.py</a>ì˜ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ìœ„ ìˆ˜ì¤€ <code>config.env</code>ëŠ” ê³„ì† ì§€ì›ë©ë‹ˆë‹¤. . ë˜í•œ ì´ì „ì˜ ë‚®ì€ ìˆ˜ì¤€ <code>config.env</code> íŒŒì¼ì´ ì´ë¯¸ ìˆëŠ” <code>SimpleTuner</code>ì˜ ì´ì „ ì‚¬ìš©ìëŠ” íŒŒì¼ í˜•ì‹ì„ ì „í™˜í•˜ì§€ ì•Šê³ ë„ ì¼ë¶€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¡°ì •í•˜ì—¬ ì‹ ì†í•˜ê²Œ ì†ë„ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤(í•´ë‹¹ [OPTIONS.MD](https &#x2F;&#x2F;github.com&#x2F;bghira&#x2F;SimpleTuner&#x2F;blob&#x2F;main&#x2F;OPTIONS.md#environment-configuration-variables)).</p><h2 id="ì´ëŠ”-ìœ„ì˜-config-jsonê³¼-ë™ì¼í•œ-ë²„ì „ì´ì§€ë§Œ-env-í˜•ì‹ì…ë‹ˆë‹¤"><a href="#ì´ëŠ”-ìœ„ì˜-config-jsonê³¼-ë™ì¼í•œ-ë²„ì „ì´ì§€ë§Œ-env-í˜•ì‹ì…ë‹ˆë‹¤" class="headerlink" title="ì´ëŠ” ìœ„ì˜ config.jsonê³¼ ë™ì¼í•œ ë²„ì „ì´ì§€ë§Œ .env í˜•ì‹ì…ë‹ˆë‹¤."></a>ì´ëŠ” ìœ„ì˜ <code>config.json</code>ê³¼ ë™ì¼í•œ ë²„ì „ì´ì§€ë§Œ <code>.env</code> í˜•ì‹ì…ë‹ˆë‹¤.</h2><ul><li><p>Custom SD3.5 Large <code>LoRA</code> <code>config.env</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> MODEL_TYPE=<span class="string">&#x27;lora&#x27;</span></span><br><span class="line"><span class="built_in">export</span> MODEL_FAMILY=<span class="string">&#x27;sd3&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONTROLNET=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> USE_DORA=<span class="literal">false</span></span><br><span class="line"><span class="comment"># Restart where we left off. Change this to &quot;checkpoint-1234&quot; to start from a specific checkpoint.</span></span><br><span class="line"><span class="built_in">export</span> RESUME_CHECKPOINT=<span class="string">&quot;latest&quot;</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_STEPS=400</span><br><span class="line"><span class="comment"># This is how many checkpoints we will keep. Two is safe, but three is safer.</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_LIMIT=60</span><br><span class="line"></span><br><span class="line"><span class="comment"># This is decided as a relatively conservative &#x27;constant&#x27; learning rate.</span></span><br><span class="line"><span class="comment"># Adjust higher or lower depending on how burnt your model becomes.</span></span><br><span class="line"><span class="built_in">export</span> LEARNING_RATE=1.05e-3</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using a Huggingface Hub model:</span></span><br><span class="line"><span class="built_in">export</span> MODEL_NAME=<span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make DEBUG_EXTRA_ARGS empty to disable wandb.</span></span><br><span class="line"><span class="built_in">export</span> DEBUG_EXTRA_ARGS=<span class="string">&quot;--report_to=wandb&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_PROJECT_NAME=<span class="string">&quot;sd35-training&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_RUN_NAME=<span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max number of steps OR epochs can be used. Not both.</span></span><br><span class="line"><span class="built_in">export</span> MAX_NUM_STEPS=24000</span><br><span class="line"><span class="built_in">export</span> NUM_EPOCHS=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># A convenient prefix for all of your training paths.</span></span><br><span class="line"><span class="built_in">export</span> DATALOADER_CONFIG=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span></span><br><span class="line"><span class="built_in">export</span> OUTPUT_DIR=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span></span><br><span class="line"><span class="comment"># Set this to &quot;true&quot; to push your model to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_TO_HUB=<span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="comment"># If PUSH_TO_HUB and PUSH_CHECKPOINTS are both enabled, every saved checkpoint will be pushed to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_CHECKPOINTS=<span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="comment"># This will be the model name for your final hub upload, eg. &quot;yourusername/yourmodelname&quot;</span></span><br><span class="line"><span class="comment"># It defaults to the wandb project name, but you can override this here.</span></span><br><span class="line"><span class="comment"># export HUB_MODEL_NAME=$TRACKER_PROJECT_NAME</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, images will be resized so their SMALLER EDGE is 1024 pixels, maintaining aspect ratio.</span></span><br><span class="line"><span class="comment"># Setting this value to 768px might result in more reasonable training data sizes for SDXL.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION=1024</span><br><span class="line"><span class="comment"># If you want to have the training data resized by pixel area (Megapixels) rather than edge length,</span></span><br><span class="line"><span class="comment">#  set this value to &quot;area&quot; instead of &quot;pixel&quot;, and uncomment the next RESOLUTION declaration.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION_TYPE=<span class="string">&quot;pixel&quot;</span></span><br><span class="line"><span class="comment">#export RESOLUTION=1          # 1.0 Megapixel training sizes</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;pixel&quot;, the minimum resolution specifies the smaller edge length, measured in pixels. Recommended: 1024.</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;area&quot;, the minimum resolution specifies the total image area, measured in megapixels. Recommended: 1.</span></span><br><span class="line"><span class="built_in">export</span> MINIMUM_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many decimals to round aspect buckets to.</span></span><br><span class="line"><span class="comment">#export ASPECT_BUCKET_ROUNDING=2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use this to append an instance prompt to each caption, used for adding trigger words.</span></span><br><span class="line"><span class="comment"># This has not been tested in SDXL.</span></span><br><span class="line"><span class="built_in">export</span> INSTANCE_PROMPT=<span class="string">&quot;k4s4 &quot;</span></span><br><span class="line"><span class="comment"># If you also supply a user prompt library or `--use_prompt_library`, this will be added to those lists.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_PROMPT=<span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE=7.5</span><br><span class="line"><span class="comment"># You&#x27;ll want to set this to 0.7 if you are training a terminal SNR model.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE_RESCALE=0.0</span><br><span class="line"><span class="comment"># How frequently we will save and run a pipeline for validations.</span></span><br><span class="line"><span class="comment"># export VALIDATION_STEPS=200</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_STEPS=70</span><br><span class="line"><span class="built_in">export</span> VALIDATION_NUM_INFERENCE_STEPS=30</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> VALIDATION_NEGATIVE_PROMPT=<span class="string">&quot;blurry, cropped, ugly&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_SEED=42</span><br><span class="line"><span class="built_in">export</span> VALIDATION_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># Adjust this for your GPU memory size. This, and resolution, are the biggest VRAM killers.</span></span><br><span class="line"><span class="built_in">export</span> TRAIN_BATCH_SIZE=6</span><br><span class="line"><span class="comment"># Accumulate your update gradient over many steps, to save VRAM while still having higher effective batch size:</span></span><br><span class="line"><span class="comment"># effective batch size = ($TRAIN_BATCH_SIZE * $GRADIENT_ACCUMULATION_STEPS).</span></span><br><span class="line"><span class="built_in">export</span> GRADIENT_ACCUMULATION_STEPS=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use any standard scheduler type. constant, polynomial, constant_with_warmup</span></span><br><span class="line"><span class="built_in">export</span> LR_SCHEDULE=<span class="string">&quot;cosine&quot;</span></span><br><span class="line"><span class="comment"># A warmup period allows the model and the EMA weights more importantly to familiarise itself with the current quanta.</span></span><br><span class="line"><span class="comment"># For the cosine or sine type schedules, the warmup period defines the interval between peaks or valleys.</span></span><br><span class="line"><span class="comment"># Use a sine schedule to simulate a warmup period, or a Cosine period to simulate a polynomial start.</span></span><br><span class="line"><span class="comment"># export LR_WARMUP_STEPS=$((MAX_NUM_STEPS / 10))</span></span><br><span class="line"><span class="built_in">export</span> LR_WARMUP_STEPS=2400</span><br><span class="line"></span><br><span class="line"><span class="comment"># Caption dropout probability. Set to 0.1 for 10% of captions dropped out. Set to 0 to disable.</span></span><br><span class="line"><span class="comment"># You may wish to disable dropout if you want to limit your changes strictly to the prompts you show the model.</span></span><br><span class="line"><span class="comment"># You may wish to increase the rate of dropout if you want to more broadly adopt your changes across the model.</span></span><br><span class="line"><span class="built_in">export</span> CAPTION_DROPOUT_PROBABILITY=0</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> METADATA_UPDATE_INTERVAL=65</span><br><span class="line"><span class="built_in">export</span> VAE_BATCH_SIZE=12</span><br><span class="line"></span><br><span class="line"><span class="comment"># If this is set, any images that fail to open will be DELETED to avoid re-checking them every time.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_ERRORED_IMAGES=0</span><br><span class="line"><span class="comment"># If this is set, any images that are too small for the minimum resolution size will be DELETED.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_SMALL_IMAGES=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bytedance recommends these be set to &quot;trailing&quot; so that inference and training behave in a more congruent manner.</span></span><br><span class="line"><span class="comment"># To follow the original SDXL training strategy, use &quot;leading&quot; instead, though results are generally worse.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"><span class="built_in">export</span> INFERENCE_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Removing this option or unsetting it uses vanilla training. Setting it reweights the loss by the position of the timestep in the noise schedule.</span></span><br><span class="line"><span class="comment"># A value &quot;5&quot; is recommended by the researchers. A value of &quot;20&quot; is the least impact, and &quot;1&quot; is the most impact.</span></span><br><span class="line"><span class="built_in">export</span> MIN_SNR_GAMMA=5</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to an explicit value of &quot;false&quot; to disable Xformers. Probably required for AMD users.</span></span><br><span class="line"><span class="built_in">export</span> USE_XFORMERS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># There&#x27;s basically no reason to unset this. However, to disable it, use an explicit value of &quot;false&quot;.</span></span><br><span class="line"><span class="comment"># This will save a lot of memory consumption when enabled.</span></span><br><span class="line"><span class="built_in">export</span> USE_GRADIENT_CHECKPOINTING=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Options below here may require a bit more complicated configuration, so they are not simple variables.</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TF32 is great on Ampere or Ada, not sure about earlier generations.</span></span><br><span class="line"><span class="built_in">export</span> ALLOW_TF32=<span class="literal">true</span></span><br><span class="line"><span class="comment"># AdamW 8Bit is a robust and lightweight choice. Adafactor might reduce memory consumption, and Dadaptation is slow and experimental.</span></span><br><span class="line"><span class="comment"># AdamW is the default optimizer, but it uses a lot of memory and is slower than AdamW8Bit or Adafactor.</span></span><br><span class="line"><span class="comment"># Choices: adamw, adamw8bit, adafactor, dadaptation</span></span><br><span class="line"><span class="comment"># export OPTIMIZER=&quot;adamw_bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> OPTIMIZER=<span class="string">&quot;adamw_bf16&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># EMA is a strong regularisation method that uses a lot of extra VRAM to hold two copies of the weights.</span></span><br><span class="line"><span class="comment"># This is worthwhile on large training runs, but not so much for smaller training runs.</span></span><br><span class="line"><span class="built_in">export</span> USE_EMA=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> EMA_DECAY=0.999</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TRAINER_EXTRA_ARGS=<span class="string">&quot;--lora_rank=768 --lora_alpha=768&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reproducible training. Set to -1 to disable.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SEED=42</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mixed precision is the best. You honestly might need to YOLO it in fp16 mode for Google Colab type setups.</span></span><br><span class="line"><span class="built_in">export</span> MIXED_PRECISION=<span class="string">&quot;bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> PURE_BF16=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This has to be changed if you&#x27;re training with multiple GPUs.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_PROCESSES=1</span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_MACHINES=1</span><br><span class="line"><span class="built_in">export</span> ACCELERATE_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># With Pytorch 2.1, you might have pretty good luck here.</span></span><br><span class="line"><span class="comment"># If you&#x27;re using aspect bucketing however, each resolution change will recompile. Seriously, just don&#x27;t do it.</span></span><br><span class="line"><span class="comment"># Well, then again... Pytorch 2.2 has support for dynamic shapes. Why not?</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TOKENIZERS_PARALLELISM=<span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><p><a href="https://emojipedia.org/index-pointing-up">**â˜ï¸</a>** <code>LoRA</code> ìˆœìœ„&#x2F;ì•ŒíŒŒëŠ” <code>TRAINER_EXTRA_ARGS</code> ë³€ìˆ˜ ë‚´ì—ì„œ ë³€ê²½ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì§€ì í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> TRAINER_EXTRA_ARGS=<span class="string">&quot;--lora_rank=768 --lora_alpha=768&quot;</span></span><br></pre></td></tr></table></figure><p><a href="https://emojipedia.org/warning">**âš ï¸</a>** <code>.env</code> í˜•ì‹ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•œ ê²½ìš° ì¸ë¼ì¸ ì£¼ì„, ì°¸ì¡° ë³€ìˆ˜ ë˜ëŠ” ê³„ì‚°ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”. ì´ê²ƒì€ ìƒˆë¡œìš´ <code>SimpleTuner</code> <a href="https://github.com/bghira/SimpleTuner/blob/main/helpers/configuration/env_file.py#L94">env ë„ìš°ë¯¸</a>ê°€ ì‘ë™í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ ëª¨ë“  ê²ƒì„ í•˜ë“œ ì½”ë”©í•´ì•¼ í•©ë‹ˆë‹¤. . ****ì˜ˆë¥¼ ë“¤ì–´:</p><p><strong>Failure case 1 (inline comments):</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LEARNING_RATE=1.05e-3 <span class="comment">#@param &#123;type:&quot;number&quot;&#125;</span></span><br></pre></td></tr></table></figure><p><strong>Failure case 2 (reference variable with <code>TRAINER_EXTRA_ARGS</code>):</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> TRAINER_EXTRA_ARGS=<span class="string">&quot;<span class="variable">$&#123;TRAINER_EXTRA_ARGS&#125;</span> --offset_noise --noise_offset=0.02&quot;</span></span><br></pre></td></tr></table></figure><p><strong>Failure case 3 (calculations)</strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LR_WARMUP_STEPS=$((MAX_NUM_STEPS / <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>ì›í•˜ëŠ” ê²½ìš° ìœ„ì˜ í•˜ìœ„ ìˆ˜ì¤€ <code>config.env</code>ë¥¼ ê¸°ë³¸ ì°¸ì¡°ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ìœ„ ìˆ˜ì¤€ <code>env</code> íŒŒì¼ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•œ ê²½ìš° ìƒìœ„ ìˆ˜ì¤€ <code>config.env</code>ì—ì„œ <code>CONFIG_BACKEND</code>ë¥¼ <code>env</code>ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TRAINING_NUM_PROCESSES=1</span><br><span class="line">TRAINING_NUM_MACHINES=1</span><br><span class="line">TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line">MIXED_PRECISION=<span class="string">&#x27;bf16&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line"><span class="built_in">export</span> ENV=<span class="string">&quot;sd35_fantasy_art_lora&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Training-process"><a href="#Training-process" class="headerlink" title="Training process"></a>Training process</h2><p>ë§ˆì§€ë§‰ìœ¼ë¡œ í›ˆë ¨ ê³¼ì •ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ìš©ìœ¼ë¡œ í•„ìš”í•œ ëª¨ë“  íŒŒì¼ì„ ì—¬ê¸°ì— ê°€ì ¸ì˜¤ê² ìŠµë‹ˆë‹¤.</p><ul><li><p>High-level <code>config.env</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TRAINING_NUM_PROCESSES=1</span><br><span class="line">TRAINING_NUM_MACHINES=1</span><br><span class="line">TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line">MIXED_PRECISION=<span class="string">&#x27;bf16&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line"><span class="built_in">export</span> ENV=<span class="string">&quot;sd35_fantasy_art_lora&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>Custom SD3.5 Large <code>config.json</code> for LoRA training</p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">1.05e-3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--instance_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4 &quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_accumulation_steps&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--metadata_update_interval&quot;</span><span class="punctuation">:</span> <span class="number">65</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--vae_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_unwanted_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_problematic_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--training_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--inference_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--snr_gamma&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--enable_xformers_memory_efficient_attention&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--allow_tf32&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--use_ema&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--ema_decay&quot;</span><span class="punctuation">:</span> <span class="number">0.999</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_rank&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_alpha&quot;</span><span class="punctuation">:</span> <span class="number">768</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lora_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;standard&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Custom SD3.5 Large  <code>config.env</code> for LoRA training</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="built_in">export</span> MODEL_TYPE=<span class="string">&#x27;lora&#x27;</span></span><br><span class="line"><span class="built_in">export</span> MODEL_FAMILY=<span class="string">&#x27;sd3&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONTROLNET=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> USE_DORA=<span class="literal">false</span></span><br><span class="line"><span class="comment"># Restart where we left off. Change this to &quot;checkpoint-1234&quot; to start from a specific checkpoint.</span></span><br><span class="line"><span class="built_in">export</span> RESUME_CHECKPOINT=<span class="string">&quot;latest&quot;</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_STEPS=400</span><br><span class="line"><span class="comment"># This is how many checkpoints we will keep. Two is safe, but three is safer.</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_LIMIT=60</span><br><span class="line"></span><br><span class="line"><span class="comment"># This is decided as a relatively conservative &#x27;constant&#x27; learning rate.</span></span><br><span class="line"><span class="comment"># Adjust higher or lower depending on how burnt your model becomes.</span></span><br><span class="line"><span class="built_in">export</span> LEARNING_RATE=1.05e-3</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using a Huggingface Hub model:</span></span><br><span class="line"><span class="built_in">export</span> MODEL_NAME=<span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make DEBUG_EXTRA_ARGS empty to disable wandb.</span></span><br><span class="line"><span class="built_in">export</span> DEBUG_EXTRA_ARGS=<span class="string">&quot;--report_to=wandb&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_PROJECT_NAME=<span class="string">&quot;sd35-training&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_RUN_NAME=<span class="string">&quot;simpletuner-fantasy-art-lora-01&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max number of steps OR epochs can be used. Not both.</span></span><br><span class="line"><span class="built_in">export</span> MAX_NUM_STEPS=24000</span><br><span class="line"><span class="built_in">export</span> NUM_EPOCHS=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># A convenient prefix for all of your training paths.</span></span><br><span class="line"><span class="built_in">export</span> DATALOADER_CONFIG=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span></span><br><span class="line"><span class="built_in">export</span> OUTPUT_DIR=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span></span><br><span class="line"><span class="comment"># Set this to &quot;true&quot; to push your model to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_TO_HUB=<span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="comment"># If PUSH_TO_HUB and PUSH_CHECKPOINTS are both enabled, every saved checkpoint will be pushed to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_CHECKPOINTS=<span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="comment"># This will be the model name for your final hub upload, eg. &quot;yourusername/yourmodelname&quot;</span></span><br><span class="line"><span class="comment"># It defaults to the wandb project name, but you can override this here.</span></span><br><span class="line"><span class="comment"># export HUB_MODEL_NAME=$TRACKER_PROJECT_NAME</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, images will be resized so their SMALLER EDGE is 1024 pixels, maintaining aspect ratio.</span></span><br><span class="line"><span class="comment"># Setting this value to 768px might result in more reasonable training data sizes for SDXL.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION=1024</span><br><span class="line"><span class="comment"># If you want to have the training data resized by pixel area (Megapixels) rather than edge length,</span></span><br><span class="line"><span class="comment">#  set this value to &quot;area&quot; instead of &quot;pixel&quot;, and uncomment the next RESOLUTION declaration.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION_TYPE=<span class="string">&quot;pixel&quot;</span></span><br><span class="line"><span class="comment">#export RESOLUTION=1          # 1.0 Megapixel training sizes</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;pixel&quot;, the minimum resolution specifies the smaller edge length, measured in pixels. Recommended: 1024.</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;area&quot;, the minimum resolution specifies the total image area, measured in megapixels. Recommended: 1.</span></span><br><span class="line"><span class="built_in">export</span> MINIMUM_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many decimals to round aspect buckets to.</span></span><br><span class="line"><span class="comment">#export ASPECT_BUCKET_ROUNDING=2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use this to append an instance prompt to each caption, used for adding trigger words.</span></span><br><span class="line"><span class="comment"># This has not been tested in SDXL.</span></span><br><span class="line"><span class="built_in">export</span> INSTANCE_PROMPT=<span class="string">&quot;k4s4 &quot;</span></span><br><span class="line"><span class="comment"># If you also supply a user prompt library or `--use_prompt_library`, this will be added to those lists.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_PROMPT=<span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE=7.5</span><br><span class="line"><span class="comment"># You&#x27;ll want to set this to 0.7 if you are training a terminal SNR model.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE_RESCALE=0.0</span><br><span class="line"><span class="comment"># How frequently we will save and run a pipeline for validations.</span></span><br><span class="line"><span class="comment"># export VALIDATION_STEPS=200</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_STEPS=70</span><br><span class="line"><span class="built_in">export</span> VALIDATION_NUM_INFERENCE_STEPS=30</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> VALIDATION_NEGATIVE_PROMPT=<span class="string">&quot;blurry, cropped, ugly&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_SEED=42</span><br><span class="line"><span class="built_in">export</span> VALIDATION_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># Adjust this for your GPU memory size. This, and resolution, are the biggest VRAM killers.</span></span><br><span class="line"><span class="built_in">export</span> TRAIN_BATCH_SIZE=6</span><br><span class="line"><span class="comment"># Accumulate your update gradient over many steps, to save VRAM while still having higher effective batch size:</span></span><br><span class="line"><span class="comment"># effective batch size = ($TRAIN_BATCH_SIZE * $GRADIENT_ACCUMULATION_STEPS).</span></span><br><span class="line"><span class="built_in">export</span> GRADIENT_ACCUMULATION_STEPS=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use any standard scheduler type. constant, polynomial, constant_with_warmup</span></span><br><span class="line"><span class="built_in">export</span> LR_SCHEDULE=<span class="string">&quot;cosine&quot;</span></span><br><span class="line"><span class="comment"># A warmup period allows the model and the EMA weights more importantly to familiarise itself with the current quanta.</span></span><br><span class="line"><span class="comment"># For the cosine or sine type schedules, the warmup period defines the interval between peaks or valleys.</span></span><br><span class="line"><span class="comment"># Use a sine schedule to simulate a warmup period, or a Cosine period to simulate a polynomial start.</span></span><br><span class="line"><span class="comment"># export LR_WARMUP_STEPS=$((MAX_NUM_STEPS / 10))</span></span><br><span class="line"><span class="built_in">export</span> LR_WARMUP_STEPS=2400</span><br><span class="line"></span><br><span class="line"><span class="comment"># Caption dropout probability. Set to 0.1 for 10% of captions dropped out. Set to 0 to disable.</span></span><br><span class="line"><span class="comment"># You may wish to disable dropout if you want to limit your changes strictly to the prompts you show the model.</span></span><br><span class="line"><span class="comment"># You may wish to increase the rate of dropout if you want to more broadly adopt your changes across the model.</span></span><br><span class="line"><span class="built_in">export</span> CAPTION_DROPOUT_PROBABILITY=0</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> METADATA_UPDATE_INTERVAL=65</span><br><span class="line"><span class="built_in">export</span> VAE_BATCH_SIZE=12</span><br><span class="line"></span><br><span class="line"><span class="comment"># If this is set, any images that fail to open will be DELETED to avoid re-checking them every time.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_ERRORED_IMAGES=0</span><br><span class="line"><span class="comment"># If this is set, any images that are too small for the minimum resolution size will be DELETED.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_SMALL_IMAGES=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bytedance recommends these be set to &quot;trailing&quot; so that inference and training behave in a more congruent manner.</span></span><br><span class="line"><span class="comment"># To follow the original SDXL training strategy, use &quot;leading&quot; instead, though results are generally worse.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"><span class="built_in">export</span> INFERENCE_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Removing this option or unsetting it uses vanilla training. Setting it reweights the loss by the position of the timestep in the noise schedule.</span></span><br><span class="line"><span class="comment"># A value &quot;5&quot; is recommended by the researchers. A value of &quot;20&quot; is the least impact, and &quot;1&quot; is the most impact.</span></span><br><span class="line"><span class="built_in">export</span> MIN_SNR_GAMMA=5</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to an explicit value of &quot;false&quot; to disable Xformers. Probably required for AMD users.</span></span><br><span class="line"><span class="built_in">export</span> USE_XFORMERS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># There&#x27;s basically no reason to unset this. However, to disable it, use an explicit value of &quot;false&quot;.</span></span><br><span class="line"><span class="comment"># This will save a lot of memory consumption when enabled.</span></span><br><span class="line"><span class="built_in">export</span> USE_GRADIENT_CHECKPOINTING=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Options below here may require a bit more complicated configuration, so they are not simple variables.</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TF32 is great on Ampere or Ada, not sure about earlier generations.</span></span><br><span class="line"><span class="built_in">export</span> ALLOW_TF32=<span class="literal">true</span></span><br><span class="line"><span class="comment"># AdamW 8Bit is a robust and lightweight choice. Adafactor might reduce memory consumption, and Dadaptation is slow and experimental.</span></span><br><span class="line"><span class="comment"># AdamW is the default optimizer, but it uses a lot of memory and is slower than AdamW8Bit or Adafactor.</span></span><br><span class="line"><span class="comment"># Choices: adamw, adamw8bit, adafactor, dadaptation</span></span><br><span class="line"><span class="comment"># export OPTIMIZER=&quot;adamw_bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> OPTIMIZER=<span class="string">&quot;adamw_bf16&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># EMA is a strong regularisation method that uses a lot of extra VRAM to hold two copies of the weights.</span></span><br><span class="line"><span class="comment"># This is worthwhile on large training runs, but not so much for smaller training runs.</span></span><br><span class="line"><span class="built_in">export</span> USE_EMA=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> EMA_DECAY=0.999</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TRAINER_EXTRA_ARGS=<span class="string">&quot;--lora_rank=768 --lora_alpha=768&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reproducible training. Set to -1 to disable.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SEED=42</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mixed precision is the best. You honestly might need to YOLO it in fp16 mode for Google Colab type setups.</span></span><br><span class="line"><span class="built_in">export</span> MIXED_PRECISION=<span class="string">&quot;bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> PURE_BF16=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This has to be changed if you&#x27;re training with multiple GPUs.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_PROCESSES=1</span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_MACHINES=1</span><br><span class="line"><span class="built_in">export</span> ACCELERATE_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># With Pytorch 2.1, you might have pretty good luck here.</span></span><br><span class="line"><span class="comment"># If you&#x27;re using aspect bucketing however, each resolution change will recompile. Seriously, just don&#x27;t do it.</span></span><br><span class="line"><span class="comment"># Well, then again... Pytorch 2.2 has support for dynamic shapes. Why not?</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TOKENIZERS_PARALLELISM=<span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>Default <a href="http://train.sh/">train.sh</a></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pull config from config.env</span></span><br><span class="line">[ -f <span class="string">&quot;config/config.env&quot;</span> ] &amp;&amp; <span class="built_in">source</span> config/config.env</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the user has not provided VENV_PATH, we will assume $(pwd)/.venv</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;VENV_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># what if we have VIRTUAL_ENV? use that instead</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;VIRTUAL_ENV&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> VENV_PATH=<span class="string">&quot;<span class="variable">$&#123;VIRTUAL_ENV&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">export</span> VENV_PATH=<span class="string">&quot;<span class="subst">$(pwd)</span>/.venv&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;DISABLE_LD_OVERRIDE&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> NVJITLINK_PATH=<span class="string">&quot;<span class="subst">$(find <span class="string">&quot;<span class="variable">$&#123;VENV_PATH&#125;</span>&quot;</span> -name nvjitlink -type d)</span>/lib&quot;</span></span><br><span class="line">    <span class="comment"># if it&#x27;s not empty, we will add it to LD_LIBRARY_PATH at the front:</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;NVJITLINK_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$&#123;NVJITLINK_PATH&#125;</span>:<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TOKENIZERS_PARALLELISM=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> PLATFORM</span><br><span class="line">PLATFORM=$(<span class="built_in">uname</span> -s)</span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$PLATFORM</span>&quot;</span> == <span class="string">&quot;Darwin&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> MIXED_PRECISION=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_EXTRA_ARGS&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_PROCESSES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Set custom env vars permanently in config/config.env:&quot;</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_NUM_PROCESSES not set, defaulting to 1.\n&quot;</span></span><br><span class="line">    TRAINING_NUM_PROCESSES=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_MACHINES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_NUM_MACHINES not set, defaulting to 1.\n&quot;</span></span><br><span class="line">    TRAINING_NUM_MACHINES=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;MIXED_PRECISION&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;MIXED_PRECISION not set, defaulting to bf16.\n&quot;</span></span><br><span class="line">    MIXED_PRECISION=bf16</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;TRAINING_DYNAMO_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;TRAINING_DYNAMO_BACKEND not set, defaulting to no.\n&quot;</span></span><br><span class="line">    TRAINING_DYNAMO_BACKEND=<span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;ENV&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&quot;ENV not set, defaulting to default.\n&quot;</span></span><br><span class="line">    <span class="built_in">export</span> ENV=<span class="string">&quot;default&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">export</span> ENV_PATH=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$ENV</span>&quot;</span> != <span class="string">&quot;default&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> ENV_PATH=<span class="string">&quot;<span class="variable">$&#123;ENV&#125;</span>/&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$&#123;CONFIG_TYPE&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;<span class="variable">$&#123;CONFIG_TYPE&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="built_in">export</span> CONFIG_PATH=<span class="string">&quot;config/<span class="variable">$&#123;ENV_PATH&#125;</span>config&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.json&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;json&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.toml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;toml&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$&#123;CONFIG_PATH&#125;</span>.env&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">export</span> CONFIG_BACKEND=<span class="string">&quot;env&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Using <span class="variable">$&#123;CONFIG_BACKEND&#125;</span> backend: <span class="variable">$&#123;CONFIG_PATH&#125;</span>.<span class="variable">$&#123;CONFIG_BACKEND&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Update dependencies</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$&#123;DISABLE_UPDATES&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Updating dependencies. Set DISABLE_UPDATES to prevent this.&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;pyproject.toml&quot;</span> ] &amp;&amp; [ -f <span class="string">&quot;poetry.lock&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        nvidia-smi 2&gt; /dev/null &amp;&amp; poetry install</span><br><span class="line">        <span class="built_in">uname</span> -s | grep -q Darwin &amp;&amp; poetry install -C install/apple</span><br><span class="line">        rocm-smi 2&gt; /dev/null &amp;&amp; poetry install -C install/rocm</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># Run the training script.</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_CONFIG_PATH=<span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/.cache/huggingface/accelerate/default_config.yaml&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Using Accelerate config file: <span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span></span><br><span class="line">    accelerate launch --config_file=<span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> train.py</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Accelerate config file not found: <span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>. Using values from config.env.&quot;</span></span><br><span class="line">    accelerate launch <span class="variable">$&#123;ACCELERATE_EXTRA_ARGS&#125;</span> --mixed_precision=<span class="string">&quot;<span class="variable">$&#123;MIXED_PRECISION&#125;</span>&quot;</span> --num_processes=<span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_PROCESSES&#125;</span>&quot;</span> --num_machines=<span class="string">&quot;<span class="variable">$&#123;TRAINING_NUM_MACHINES&#125;</span>&quot;</span> --dynamo_backend=<span class="string">&quot;<span class="variable">$&#123;TRAINING_DYNAMO_BACKEND&#125;</span>&quot;</span> train.py</span><br><span class="line"></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></li></ul><h3 id="Possible-accelerate-issues"><a href="#Possible-accelerate-issues" class="headerlink" title="Possible accelerate issues"></a>Possible <code>accelerate</code> issues</h3><p>ì—¬ê¸°ì„œëŠ” í›ˆë ¨ì„ ì‹œì‘í•˜ëŠ” ë° ë°©í•´ê°€ ë  ìˆ˜ ìˆëŠ” í•œ ê°€ì§€ ì‘ì€ ì‚¬í•­ì„ ì–¸ê¸‰í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ë ë¶€ë¶„ì— ìˆëŠ” ê¸°ë³¸ <code>train.sh</code> ì•ˆì—ëŠ” í›ˆë ¨ì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì´ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accelerate launch --config_file=<span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> train.py</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run the training script.</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;$&#123;ACCELERATE_CONFIG_PATH&#125;&quot;</span> ]]; then</span><br><span class="line">    ACCELERATE_CONFIG_PATH=<span class="string">&quot;$&#123;HOME&#125;/.cache/huggingface/accelerate/default_config.yaml&quot;</span></span><br><span class="line">fi</span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;$&#123;ACCELERATE_CONFIG_PATH&#125;&quot;</span> ]; then</span><br><span class="line">    echo <span class="string">&quot;Using Accelerate config file: $&#123;ACCELERATE_CONFIG_PATH&#125;&quot;</span></span><br><span class="line">    accelerate launch --config_file=<span class="string">&quot;$&#123;ACCELERATE_CONFIG_PATH&#125;&quot;</span> train.py</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    echo <span class="string">&quot;Accelerate config file not found: $&#123;ACCELERATE_CONFIG_PATH&#125;. Using values from config.env.&quot;</span></span><br><span class="line">    accelerate launch $&#123;ACCELERATE_EXTRA_ARGS&#125; --mixed_precision=<span class="string">&quot;$&#123;MIXED_PRECISION&#125;&quot;</span> --num_processes=<span class="string">&quot;$&#123;TRAINING_NUM_PROCESSES&#125;&quot;</span> --num_machines=<span class="string">&quot;$&#123;TRAINING_NUM_MACHINES&#125;&quot;</span> --dynamo_backend=<span class="string">&quot;$&#123;TRAINING_DYNAMO_BACKEND&#125;&quot;</span> train.py</span><br><span class="line"></span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>ì´ê²ƒì´ ì²˜ìŒìœ¼ë¡œ í›ˆë ¨ ì €ì¥ì†Œë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ë¼ë©´ ì•„ë§ˆë„ ì˜¤ë¥˜ ì—†ì´ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ë¥¸ ì €ì¥ì†Œì—ì„œ <code>accelerate</code>ë¥¼ ì‚¬ìš©í•œ ê²½ìš° <code>default_config.yaml</code>ì„ ì´ë¯¸ êµ¬ì„±í–ˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. í›ˆë ¨ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì¼ë°˜ í›ˆë ¨ì„ ìœ„í•´ ì—¬ê¸°ì— ìì²´ <code>config.yaml</code>ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤. ë˜í•œ â€˜LoRAâ€™ êµìœ¡ì´ ì•„ë‹Œ ì™„ì „í•œ ë¯¸ì„¸ ì¡°ì •ì„ ì‹œë„í•˜ë ¤ëŠ” ê²½ìš° â€˜DeepSpeedâ€™ â€˜config.yamlâ€™ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.</p><p>â€˜DeepSpeedâ€™ëŠ” GPU VRAMì´ ì¶©ë¶„í•˜ì§€ ì•Šì„ ë•Œ ë‚´ë¶€ì˜ íŠ¹ìˆ˜ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ìµœì í™” ìƒíƒœ, ê·¸ë¼ë°ì´ì…˜ ë° ê¸°íƒ€ ë§¤ê°œë³€ìˆ˜ë¥¼ CPU ë©”ëª¨ë¦¬(RAM)ë¡œ ì˜¤í”„ë¡œë“œí•©ë‹ˆë‹¤. â€˜80GBâ€™ VRAMê³¼ â€˜128GBâ€™ CPU RAMì„ ê°–ì¶˜ ë‹¨ì¼ â€˜H100â€™ GPUì—ì„œëŠ” â€˜SD3.5 Largeâ€™ë¡œ ì™„ì „í•œ ë¯¸ì„¸ ì¡°ì •ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. VRAMì´ ë¶€ì¡±í•˜ê³  CPU RAMìœ¼ë¡œ ì˜¤í”„ë¡œë“œí•´ì•¼ í•  ë•Œë§ˆë‹¤ ì´ <code>config.yaml</code>ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p><ul><li><p>Custom general use <code>base_config.yaml</code></p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">compute_environment:</span> <span class="string">LOCAL_MACHINE</span></span><br><span class="line"><span class="attr">debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">distributed_type:</span> <span class="string">&#x27;NO&#x27;</span></span><br><span class="line"><span class="attr">downcast_bf16:</span> <span class="string">&#x27;no&#x27;</span></span><br><span class="line"><span class="attr">enable_cpu_affinity:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">gpu_ids:</span> <span class="string">all</span></span><br><span class="line"><span class="attr">machine_rank:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">main_training_function:</span> <span class="string">main</span></span><br><span class="line"><span class="attr">mixed_precision:</span> <span class="string">bf16</span></span><br><span class="line"><span class="attr">num_machines:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">num_processes:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">rdzv_backend:</span> <span class="string">static</span></span><br><span class="line"><span class="attr">same_network:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">tpu_env:</span> []</span><br><span class="line"><span class="attr">tpu_use_cluster:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">tpu_use_sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">use_cpu:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li><li><p>Custom <code>DeepSpeed 2</code> <code>deepspeed_config.yaml</code></p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">compute_environment:</span> <span class="string">LOCAL_MACHINE</span></span><br><span class="line"><span class="attr">debug:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">deepspeed_config:</span></span><br><span class="line">  <span class="attr">gradient_accumulation_steps:</span> <span class="number">8</span></span><br><span class="line">  <span class="attr">gradient_clipping:</span> <span class="number">1.0</span></span><br><span class="line">  <span class="attr">offload_optimizer_device:</span> <span class="string">cpu</span></span><br><span class="line">  <span class="attr">offload_param_device:</span> <span class="string">cpu</span></span><br><span class="line">  <span class="attr">zero3_init_flag:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">zero_stage:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">distributed_type:</span> <span class="string">DEEPSPEED</span></span><br><span class="line"><span class="attr">downcast_bf16:</span> <span class="string">&#x27;no&#x27;</span></span><br><span class="line"><span class="attr">enable_cpu_affinity:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">machine_rank:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">main_training_function:</span> <span class="string">main</span></span><br><span class="line"><span class="attr">mixed_precision:</span> <span class="string">bf16</span></span><br><span class="line"><span class="attr">num_machines:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">num_processes:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">rdzv_backend:</span> <span class="string">static</span></span><br><span class="line"><span class="attr">same_network:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">tpu_env:</span> []</span><br><span class="line"><span class="attr">tpu_use_cluster:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">tpu_use_sudo:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">use_cpu:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><p>ì´ëŸ¬í•œ <code>yaml</code> íŒŒì¼ì„ ë°°ì¹˜í•  ìœ„ì¹˜ë¥¼ ì„ íƒí•  ë•Œë§ˆë‹¤ <code>train.sh</code> ì½”ë“œì—ì„œ í•´ë‹¹ íŒŒì¼ì„ ì˜¬ë°”ë¥´ê²Œ ì°¸ì¡°í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì €ëŠ” <code>SimpleTuner</code> ë””ë ‰í† ë¦¬ì˜ ë£¨íŠ¸ì— íŒŒì¼ì„ ë°°ì¹˜í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì½”ë“œì˜ â€˜ACCELERATE_CONFIG_PATHâ€™ ë¶€ë¶„ì´ ê·¸ì— ë”°ë¼ ìˆ˜ì •ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run the training script with base config.</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_CONFIG_PATH=<span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/SimpleTuner/base_config.yaml&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run the training script with DeepSpeed config.</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$&#123;ACCELERATE_CONFIG_PATH&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    ACCELERATE_CONFIG_PATH=<span class="string">&quot;<span class="variable">$&#123;HOME&#125;</span>/SimpleTuner/deepspeed_config.yaml&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>ê²°êµ­ <code>DeepSpeed</code> ì§€ì› í›ˆë ¨ì„ ì‹œë„í•˜ê²Œ ëœë‹¤ë©´, ì´ì— ë”°ë¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•˜ìœ„ ìˆ˜ì¤€ <code>config.env</code> ìƒ˜í”Œì´ ìˆìŠµë‹ˆë‹¤.</p><ul><li><p>Custom SD3.5 Large <code>full</code> fine-tune<code>config.json</code></p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;full&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--model_family&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd3&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resume_from_checkpoint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;latest&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">5e-5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--pretrained_model_name_or_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--report_to&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wandb&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_project_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-full-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--max_train_steps&quot;</span><span class="punctuation">:</span> <span class="number">24000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--num_train_epochs&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--data_backend_config&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/multidatabackend.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--output_dir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--push_checkpoints_to_hub&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--hub_model_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sd35-training&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--resolution_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pixel&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--minimum_image_size&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--instance_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4 &quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance&quot;</span><span class="punctuation">:</span> <span class="number">7.5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_guidance_rescale&quot;</span><span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_steps&quot;</span><span class="punctuation">:</span> <span class="number">25</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_num_inference_steps&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_negative_prompt&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blurry, cropped, ugly&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--validation_resolution&quot;</span><span class="punctuation">:</span> <span class="number">1024</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--train_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_accumulation_steps&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_scheduler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cosine&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--lr_warmup_steps&quot;</span><span class="punctuation">:</span> <span class="number">2400</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--caption_dropout_probability&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--metadata_update_interval&quot;</span><span class="punctuation">:</span> <span class="number">65</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--vae_batch_size&quot;</span><span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_unwanted_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--delete_problematic_images&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--training_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--inference_scheduler_timestep_spacing&quot;</span><span class="punctuation">:</span> <span class="string">&quot;trailing&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--snr_gamma&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--enable_xformers_memory_efficient_attention&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--gradient_checkpointing&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--allow_tf32&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--optimizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;adamw_bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--use_ema&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--ema_decay&quot;</span><span class="punctuation">:</span> <span class="number">0.999</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--seed&quot;</span><span class="punctuation">:</span> <span class="number">42</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--mixed_precision&quot;</span><span class="punctuation">:</span> <span class="string">&quot;bf16&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>Custom SD3.5 Large <code>full</code> fine-tune<code>config.env</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="built_in">export</span> MODEL_TYPE=<span class="string">&#x27;full&#x27;</span></span><br><span class="line"><span class="built_in">export</span> MODEL_FAMILY=<span class="string">&#x27;sd3&#x27;</span></span><br><span class="line"><span class="built_in">export</span> CONTROLNET=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> USE_DORA=<span class="literal">false</span></span><br><span class="line"><span class="comment"># Restart where we left off. Change this to &quot;checkpoint-1234&quot; to start from a specific checkpoint.</span></span><br><span class="line"><span class="built_in">export</span> RESUME_CHECKPOINT=<span class="string">&quot;latest&quot;</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_STEPS=100</span><br><span class="line"><span class="comment"># This is how many checkpoints we will keep. Two is safe, but three is safer.</span></span><br><span class="line"><span class="built_in">export</span> CHECKPOINTING_LIMIT=100</span><br><span class="line"></span><br><span class="line"><span class="comment"># This is decided as a relatively conservative &#x27;constant&#x27; learning rate.</span></span><br><span class="line"><span class="comment"># Adjust higher or lower depending on how burnt your model becomes.</span></span><br><span class="line"><span class="built_in">export</span> LEARNING_RATE=5e-5</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using a Huggingface Hub model:</span></span><br><span class="line"><span class="built_in">export</span> MODEL_NAME=<span class="string">&quot;stabilityai/stable-diffusion-3.5-large&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make DEBUG_EXTRA_ARGS empty to disable wandb.</span></span><br><span class="line"><span class="built_in">export</span> DEBUG_EXTRA_ARGS=<span class="string">&quot;--report_to=wandb&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_PROJECT_NAME=<span class="string">&quot;sd35-training&quot;</span></span><br><span class="line"><span class="built_in">export</span> TRACKER_RUN_NAME=<span class="string">&quot;simpletuner-fantasy-art-full-01&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Max number of steps OR epochs can be used. Not both.</span></span><br><span class="line"><span class="built_in">export</span> MAX_NUM_STEPS=24000</span><br><span class="line"><span class="built_in">export</span> NUM_EPOCHS=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># A convenient prefix for all of your training paths.</span></span><br><span class="line"><span class="built_in">export</span> DATALOADER_CONFIG=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_full_L_01/datasets/multidatabackend.json&quot;</span></span><br><span class="line"><span class="built_in">export</span> OUTPUT_DIR=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_full_L_01/datasets/models&quot;</span></span><br><span class="line"><span class="comment"># Set this to &quot;true&quot; to push your model to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_TO_HUB=<span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="comment"># If PUSH_TO_HUB and PUSH_CHECKPOINTS are both enabled, every saved checkpoint will be pushed to Hugging Face Hub.</span></span><br><span class="line"><span class="built_in">export</span> PUSH_CHECKPOINTS=<span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="comment"># This will be the model name for your final hub upload, eg. &quot;yourusername/yourmodelname&quot;</span></span><br><span class="line"><span class="comment"># It defaults to the wandb project name, but you can override this here.</span></span><br><span class="line"><span class="comment"># export HUB_MODEL_NAME=$TRACKER_PROJECT_NAME</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, images will be resized so their SMALLER EDGE is 1024 pixels, maintaining aspect ratio.</span></span><br><span class="line"><span class="comment"># Setting this value to 768px might result in more reasonable training data sizes for SDXL.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION=1024</span><br><span class="line"><span class="comment"># If you want to have the training data resized by pixel area (Megapixels) rather than edge length,</span></span><br><span class="line"><span class="comment">#  set this value to &quot;area&quot; instead of &quot;pixel&quot;, and uncomment the next RESOLUTION declaration.</span></span><br><span class="line"><span class="built_in">export</span> RESOLUTION_TYPE=<span class="string">&quot;pixel&quot;</span></span><br><span class="line"><span class="comment">#export RESOLUTION=1          # 1.0 Megapixel training sizes</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;pixel&quot;, the minimum resolution specifies the smaller edge length, measured in pixels. Recommended: 1024.</span></span><br><span class="line"><span class="comment"># If RESOLUTION_TYPE=&quot;area&quot;, the minimum resolution specifies the total image area, measured in megapixels. Recommended: 1.</span></span><br><span class="line"><span class="built_in">export</span> MINIMUM_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many decimals to round aspect buckets to.</span></span><br><span class="line"><span class="comment">#export ASPECT_BUCKET_ROUNDING=2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use this to append an instance prompt to each caption, used for adding trigger words.</span></span><br><span class="line"><span class="comment"># This has not been tested in SDXL.</span></span><br><span class="line"><span class="built_in">export</span> INSTANCE_PROMPT=<span class="string">&quot;k4s4 &quot;</span></span><br><span class="line"><span class="comment"># If you also supply a user prompt library or `--use_prompt_library`, this will be added to those lists.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_PROMPT=<span class="string">&quot;k4s4, a waist up view of a beautiful blonde woman, green eyes&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE=7.5</span><br><span class="line"><span class="comment"># You&#x27;ll want to set this to 0.7 if you are training a terminal SNR model.</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_GUIDANCE_RESCALE=0.0</span><br><span class="line"><span class="comment"># How frequently we will save and run a pipeline for validations.</span></span><br><span class="line"><span class="comment"># export VALIDATION_STEPS=200</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_STEPS=25</span><br><span class="line"><span class="built_in">export</span> VALIDATION_NUM_INFERENCE_STEPS=30</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> VALIDATION_NEGATIVE_PROMPT=<span class="string">&quot;blurry, cropped, ugly&quot;</span></span><br><span class="line"><span class="built_in">export</span> VALIDATION_SEED=42</span><br><span class="line"><span class="built_in">export</span> VALIDATION_RESOLUTION=1024</span><br><span class="line"></span><br><span class="line"><span class="comment"># Adjust this for your GPU memory size. This, and resolution, are the biggest VRAM killers.</span></span><br><span class="line"><span class="built_in">export</span> TRAIN_BATCH_SIZE=6</span><br><span class="line"><span class="comment"># Accumulate your update gradient over many steps, to save VRAM while still having higher effective batch size:</span></span><br><span class="line"><span class="comment"># effective batch size = ($TRAIN_BATCH_SIZE * $GRADIENT_ACCUMULATION_STEPS).</span></span><br><span class="line"><span class="built_in">export</span> GRADIENT_ACCUMULATION_STEPS=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use any standard scheduler type. constant, polynomial, constant_with_warmup</span></span><br><span class="line"><span class="built_in">export</span> LR_SCHEDULE=<span class="string">&quot;cosine&quot;</span></span><br><span class="line"><span class="comment"># A warmup period allows the model and the EMA weights more importantly to familiarise itself with the current quanta.</span></span><br><span class="line"><span class="comment"># For the cosine or sine type schedules, the warmup period defines the interval between peaks or valleys.</span></span><br><span class="line"><span class="comment"># Use a sine schedule to simulate a warmup period, or a Cosine period to simulate a polynomial start.</span></span><br><span class="line"><span class="comment"># export LR_WARMUP_STEPS=$((MAX_NUM_STEPS / 10))</span></span><br><span class="line"><span class="built_in">export</span> LR_WARMUP_STEPS=2400</span><br><span class="line"></span><br><span class="line"><span class="comment"># Caption dropout probability. Set to 0.1 for 10% of captions dropped out. Set to 0 to disable.</span></span><br><span class="line"><span class="comment"># You may wish to disable dropout if you want to limit your changes strictly to the prompts you show the model.</span></span><br><span class="line"><span class="comment"># You may wish to increase the rate of dropout if you want to more broadly adopt your changes across the model.</span></span><br><span class="line"><span class="built_in">export</span> CAPTION_DROPOUT_PROBABILITY=0</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> METADATA_UPDATE_INTERVAL=65</span><br><span class="line"><span class="built_in">export</span> VAE_BATCH_SIZE=12</span><br><span class="line"></span><br><span class="line"><span class="comment"># If this is set, any images that fail to open will be DELETED to avoid re-checking them every time.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_ERRORED_IMAGES=0</span><br><span class="line"><span class="comment"># If this is set, any images that are too small for the minimum resolution size will be DELETED.</span></span><br><span class="line"><span class="built_in">export</span> DELETE_SMALL_IMAGES=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bytedance recommends these be set to &quot;trailing&quot; so that inference and training behave in a more congruent manner.</span></span><br><span class="line"><span class="comment"># To follow the original SDXL training strategy, use &quot;leading&quot; instead, though results are generally worse.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"><span class="built_in">export</span> INFERENCE_SCHEDULER_TIMESTEP_SPACING=<span class="string">&quot;trailing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Removing this option or unsetting it uses vanilla training. Setting it reweights the loss by the position of the timestep in the noise schedule.</span></span><br><span class="line"><span class="comment"># A value &quot;5&quot; is recommended by the researchers. A value of &quot;20&quot; is the least impact, and &quot;1&quot; is the most impact.</span></span><br><span class="line"><span class="built_in">export</span> MIN_SNR_GAMMA=5</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to an explicit value of &quot;false&quot; to disable Xformers. Probably required for AMD users.</span></span><br><span class="line"><span class="built_in">export</span> USE_XFORMERS=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># There&#x27;s basically no reason to unset this. However, to disable it, use an explicit value of &quot;false&quot;.</span></span><br><span class="line"><span class="comment"># This will save a lot of memory consumption when enabled.</span></span><br><span class="line"><span class="built_in">export</span> USE_GRADIENT_CHECKPOINTING=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Options below here may require a bit more complicated configuration, so they are not simple variables.</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TF32 is great on Ampere or Ada, not sure about earlier generations.</span></span><br><span class="line"><span class="built_in">export</span> ALLOW_TF32=<span class="literal">true</span></span><br><span class="line"><span class="comment"># AdamW 8Bit is a robust and lightweight choice. Adafactor might reduce memory consumption, and Dadaptation is slow and experimental.</span></span><br><span class="line"><span class="comment"># AdamW is the default optimizer, but it uses a lot of memory and is slower than AdamW8Bit or Adafactor.</span></span><br><span class="line"><span class="comment"># Choices: adamw, adamw8bit, adafactor, dadaptation</span></span><br><span class="line"><span class="comment"># export OPTIMIZER=&quot;adamw_bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> OPTIMIZER=<span class="string">&quot;adamw_bf16&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># EMA is a strong regularisation method that uses a lot of extra VRAM to hold two copies of the weights.</span></span><br><span class="line"><span class="comment"># This is worthwhile on large training runs, but not so much for smaller training runs.</span></span><br><span class="line"><span class="built_in">export</span> USE_EMA=<span class="literal">false</span></span><br><span class="line"><span class="built_in">export</span> EMA_DECAY=0.999</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TRAINER_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reproducible training. Set to -1 to disable.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_SEED=42</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mixed precision is the best. You honestly might need to YOLO it in fp16 mode for Google Colab type setups.</span></span><br><span class="line"><span class="built_in">export</span> MIXED_PRECISION=<span class="string">&quot;bf16&quot;</span></span><br><span class="line"><span class="built_in">export</span> PURE_BF16=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This has to be changed if you&#x27;re training with multiple GPUs.</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_PROCESSES=1</span><br><span class="line"><span class="built_in">export</span> TRAINING_NUM_MACHINES=1</span><br><span class="line"><span class="built_in">export</span> ACCELERATE_EXTRA_ARGS=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># With Pytorch 2.1, you might have pretty good luck here.</span></span><br><span class="line"><span class="comment"># If you&#x27;re using aspect bucketing however, each resolution change will recompile. Seriously, just don&#x27;t do it.</span></span><br><span class="line"><span class="comment"># Well, then again... Pytorch 2.2 has support for dynamic shapes. Why not?</span></span><br><span class="line"><span class="built_in">export</span> TRAINING_DYNAMO_BACKEND=<span class="string">&#x27;no&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> TOKENIZERS_PARALLELISM=<span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><p>Changed parameters</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;--model_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;full&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;--checkpointing_steps&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--checkpoints_total_limit&quot;</span><span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--learning_rate&quot;</span><span class="punctuation">:</span> <span class="number">5e-5</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;--tracker_run_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;simpletuner-fantasy-art-full-01&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>íŠ¹íˆ í•™ìŠµë¥ ì´ â€˜5e-5â€™ë¡œ ê°ì†Œí–ˆìŠµë‹ˆë‹¤.</p><p>ëª¨ë“  ê²ƒì´ ì •ìƒì´ë©´ ê³„ì†í•´ì„œ í›ˆë ¨ì„ ì‹œì‘í•˜ì‹­ì‹œì˜¤.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash train.sh</span><br></pre></td></tr></table></figure><h3 id="Memory-usage"><a href="#Memory-usage" class="headerlink" title="Memory usage"></a>Memory usage</h3><p>í…ìŠ¤íŠ¸ ì¸ì½”ë”ë¥¼ í›ˆë ¨í•˜ì§€ ì•ŠëŠ” ê²½ìš°(ìš°ë¦¬ëŠ” ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤) â€˜SimpleTunerâ€™ë¥¼ ì‚¬ìš©í•˜ë©´ ì•½ â€˜10.4GBâ€™ì˜ VRAMì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>â€˜ë°°ì¹˜ í¬ê¸°â€™ë¥¼ â€˜6â€™ìœ¼ë¡œ ì„¤ì •í•˜ê³  â€˜lora ìˆœìœ„&#x2F;ì•ŒíŒŒâ€™ë¥¼ â€˜768â€™ë¡œ ì„¤ì •í•˜ë©´ í›ˆë ¨ì—ì„œ ì•½ â€˜32GBâ€™ì˜ VRAMì„ ì†Œë¹„í•©ë‹ˆë‹¤.</p><p>ë‹¹ì—°íˆ ì´ëŠ” ì†Œë¹„ì â€˜24GBâ€™ VRAM GPUì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚©ë‹ˆë‹¤. ê·¸ë˜ì„œ <code>batch size</code>ë¥¼ <code>1</code>, <code>lora Rank/alpha</code>ë¥¼ <code>128</code>ë¡œ ì‚¬ìš©í•˜ì—¬ ë©”ëª¨ë¦¬ ë¹„ìš©ì„ ì¤„ì´ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.</p><p>ì ì •ì ìœ¼ë¡œ VRAM ë¹„ìš©ì„ ì•½ â€˜19.65GBâ€™ VRAMìœ¼ë¡œ ë‚®ì¶œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p><p>ê·¸ëŸ¬ë‚˜ ìœ íš¨ì„± ê²€ì‚¬ í”„ë¡¬í”„íŠ¸ì— ëŒ€í•œ ì¶”ë¡ ì„ ì‹¤í–‰í•˜ë©´ VRAMì´ ìµœëŒ€ â€˜23.37GBâ€™ê¹Œì§€ ê¸‰ì¦í•©ë‹ˆë‹¤.</p><p>ì•ˆì „ì„ ìœ„í•´ â€˜lora ìˆœìœ„&#x2F;ì•ŒíŒŒâ€™ë¥¼ â€˜64â€™ë¡œ ë”ìš± ì¤„ì—¬ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ í›ˆë ¨ ì¤‘ì— ì•½ â€˜18.83GBâ€™ì˜ VRAMì„ ì†Œë¹„í•˜ê²Œ ë©ë‹ˆë‹¤.</p><p>ê²€ì¦ ì¶”ë¡  ì¤‘ì—ëŠ” ìµœëŒ€ ì•½ â€˜21.50GBâ€™ì˜ VRAMì´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ì •ë„ë©´ ì¶©ë¶„íˆ ì•ˆì „í•´ ë³´ì…ë‹ˆë‹¤.</p><p>â€˜ë°°ì¹˜ í¬ê¸°â€™ â€˜6â€™ ë° â€˜lora ìˆœìœ„&#x2F;ì•ŒíŒŒâ€™ â€˜768â€™ì˜ ë” ë†’ì€ ì‚¬ì–‘ êµìœ¡ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•œ ê²½ìš° [ìœ„](https:&#x2F;&#x2F; <a href="http://www.notion.so/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6?pvs=21">www.notion.so/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6?pvs=21</a>) GPU VRAMì´ ë¶€ì¡±í•˜ê³  CPU RAMì´ ì¶©ë¶„í•œ ê²½ìš°.</p><h3 id="Monitoring-the-training"><a href="#Monitoring-the-training" class="headerlink" title="Monitoring the training"></a>Monitoring the training</h3><p>í›ˆë ¨ ê³¼ì •ì—ì„œ ê²€ì¦ ì´ë¯¸ì§€ê°€ í”½ì…€í™”ë˜ê±°ë‚˜ ê²€ê²Œ ë³€í•˜ëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” â€˜1.05e-3â€™ì´ë¼ëŠ” ë§¤ìš° ê³µê²©ì ì¸ í•™ìŠµë¥ ì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë” ì•ˆì „í•˜ê²Œ í”Œë ˆì´í•˜ê³  ì‹¶ë‹¤ë©´ â€˜9.5e-4â€™ë¥¼ ì‚¬ìš©í•˜ë©´ í”½ì…€í™” ë¬¸ì œê°€ ê±°ì˜ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ë‘ ì†ì‹¤ ê³¡ì„ ì€ ê²°êµ­ í›Œë¥­í•˜ê²Œ ìˆ˜ë ´í–ˆìŠµë‹ˆë‹¤.</p><p>í•˜ì§€ë§Œ ìš°ë ¤ì‚¬í•­ì„ í•´ì†Œí•˜ê¸° ìœ„í•´ ì–´ë–¤ ëª¨ìŠµì¼ì§€ ëª‡ ê°€ì§€ ì˜ˆë¥¼ ë³´ì—¬ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.</p><h3 id="Observing-training-loss"><a href="#Observing-training-loss" class="headerlink" title="Observing training loss"></a>Observing training loss</h3><h3 id="LoRA"><a href="#LoRA" class="headerlink" title="LoRA"></a><code>LoRA</code></h3><p>íŒíƒ€ì§€ ì•„íŠ¸ â€˜LoRAâ€™ ìˆ˜ë ¨ì„ í†µí•´ ì–»ì€ í”¼ê·œì–´ë“¤ì…ë‹ˆë‹¤. ì†ì‹¤ì´ ê°ì†Œí•˜ê³  ìˆìœ¼ë©° ì•„ì§ ìˆ˜ë ´ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í™•ì‚° ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•œ ê²½í—˜ì´ ìˆëŠ” ê²½ìš° ì†ì‹¤ ìµœì†Œí™”ëŠ” ë¯¸ì  ê·¹ëŒ€í™”ì™€ ê±°ì˜ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ë†’ì€ í•™ìŠµë¥ ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì†ì‹¤ ê³¡ì„ ì˜ ìµœê³ ì  ê·¼ì²˜ì—ì„œ ê²€ì¦ ì´ë¯¸ì§€ì˜ í”½ì…€í™” ë˜ëŠ” í’ˆì§ˆ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. í›ˆë ¨ì´ ëª¨ë¸ ê°€ì¤‘ì¹˜ê°€ ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šì€ í•™ìŠµ ì†ë„ì— ë„ë‹¬í•˜ë©´ ì´ëŠ” ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.</p><p>í•™ìŠµë¥ ì´ ë†’ìœ¼ë©´ ì—´ì°¨ ì†ì‹¤ë„ ìµœê³ ì ì— ë‹¬í•©ë‹ˆë‹¤.</p><h2 id="Evaluating-the-results"><a href="#Evaluating-the-results" class="headerlink" title="Evaluating the results"></a>Evaluating the results</h2><h3 id="How-to-actually-get-the-LoRA-models-into-ComfyUI"><a href="#How-to-actually-get-the-LoRA-models-into-ComfyUI" class="headerlink" title="How to actually get the LoRA models into ComfyUI"></a>How to actually get the LoRA models into ComfyUI</h3><p>ì´ì œ ëª¨ë¸ì´ ëª¨ë‘ í›ˆë ¨ë˜ì—ˆìœ¼ë¯€ë¡œ <code>ComfyUI</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•  ì°¨ë¡€ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ SimpleTunerê°€ ëª¨ë¸ì„ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¸í•´ â€˜ComfyUI&#x2F;models&#x2F;lorasâ€™ ë””ë ‰í„°ë¦¬ë¡œ ê°€ì ¸ì˜¤ê¸°ê°€ ì•½ê°„ ì–´ë µìŠµë‹ˆë‹¤.</p><p>ëª¨ë¸ì„ ì €ì¥í•œ ë””ë ‰í„°ë¦¬ë¡œ ì´ë™í•˜ë©´ í•´ë‹¹ í˜•ì‹ì´ ì´ í˜•ì‹ì¸ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ê° ë””ë ‰í† ë¦¬ì—ì„œ ì›í•˜ëŠ” íŒŒì¼ì€ <code>pytorch_lora_weights.safetensors</code> íŒŒì¼ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ íŒŒì¼ì„ <code>ComfyUI</code>ë¡œ ê°€ì ¸ì˜¤ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ê°„ì†Œí™”í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p><ul><li><p><code>create_symlinks_lora.sh</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Source directory where the models are stored</span></span><br><span class="line">SOURCE_DIR=<span class="string">&quot;/weka2/home-yeo/simpletuner_models/sd3_large/full_finetune/fantasy_art_L_01/datasets/models&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Target directory for symlinks</span></span><br><span class="line">TARGET_DIR=<span class="string">&quot;/weka2/home-yeo/ComfyUI/models/loras/sd35_large/fantasy_art&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ensure target directory exists or create it</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$&#123;TARGET_DIR&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Iterate over each checkpoint directory</span></span><br><span class="line"><span class="keyword">for</span> CHECKPOINT_DIR <span class="keyword">in</span> <span class="variable">$&#123;SOURCE_DIR&#125;</span>/checkpoint-*; <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Check if it&#x27;s indeed a directory</span></span><br><span class="line">    <span class="keyword">if</span> [ -d <span class="string">&quot;<span class="variable">$&#123;CHECKPOINT_DIR&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># Extract the checkpoint number from the directory name</span></span><br><span class="line">        CHECKPOINT_NAME=$(<span class="built_in">basename</span> <span class="variable">$&#123;CHECKPOINT_DIR&#125;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Define the source file path</span></span><br><span class="line">        SOURCE_FILE=<span class="string">&quot;<span class="variable">$&#123;CHECKPOINT_DIR&#125;</span>/pytorch_lora_weights.safetensors&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Define the symlink name with &#x27;lora&#x27; added before &#x27;safetensors&#x27;</span></span><br><span class="line">        LINK_NAME=<span class="string">&quot;<span class="variable">$&#123;TARGET_DIR&#125;</span>/<span class="variable">$&#123;CHECKPOINT_NAME&#125;</span>_lora.safetensors&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Check if the source file exists</span></span><br><span class="line">        <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$&#123;SOURCE_FILE&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">            <span class="comment"># Create a symlink in the target directory</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;Creating symlink from <span class="variable">$&#123;SOURCE_FILE&#125;</span> to <span class="variable">$&#123;LINK_NAME&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">ln</span> -s <span class="string">&quot;<span class="variable">$&#123;SOURCE_FILE&#125;</span>&quot;</span> <span class="string">&quot;<span class="variable">$&#123;LINK_NAME&#125;</span>&quot;</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;Symlink created for <span class="variable">$&#123;CHECKPOINT_NAME&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;File not found: <span class="variable">$&#123;SOURCE_FILE&#125;</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Not a directory: <span class="variable">$&#123;CHECKPOINT_DIR&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Symlinking complete.&quot;</span></span><br></pre></td></tr></table></figure></li></ul><p>ìœ„ì˜ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆ˜í–‰í•  ì‘ì—…ì€ <code>SimpleTuner</code>ì—ì„œ <code>SOURCE_DIR</code>ì„ ë°˜ë³µí•œ ë‹¤ìŒ <em><strong>ë§Œ</strong></em> <code>pytorch_lora_weights.safetensors</code> íŒŒì¼ì„ <code>TARGET_DIR</code>ì— ì‹¬ë³¼ë¦­ ë§í¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ íŒŒì¼ì€ <code>ComfyUI ë‚´ë¶€ ë””ë ‰í† ë¦¬ì—¬ì•¼ í•©ë‹ˆë‹¤. /ëª¨ë¸/ë¡œë¼ìŠ¤</code>. íŒŒì¼ì„ ì¶”ì í•˜ê¸° ìœ„í•´ íŒŒì¼ ì´ë¦„ ì•ˆì— í•´ë‹¹ ì²´í¬í¬ì¸íŠ¸ ë²ˆí˜¸ê°€ í¬í•¨ë˜ë„ë¡ ì´ë¦„ë„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.</p><h3 id="Determining-the-best-checkpoint"><a href="#Determining-the-best-checkpoint" class="headerlink" title="Determining the best checkpoint"></a>Determining the best checkpoint</h3><p>ì œê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê¸°ë³¸ì ì¸ â€˜SD3.5 Largeâ€™ ì›Œí¬í”Œë¡œëŠ” ì´ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.</p><p>ê°€ì¥ ì¢‹ì€ ì²´í¬í¬ì¸íŠ¸ë¥¼ ê²°ì •í•˜ëŠ” ë°©ë²•ì€ íŠ¹ì • í”„ë¡¬í”„íŠ¸ì— ëŒ€í•´ xì¶•ì— ì²´í¬í¬ì¸íŠ¸ ë²ˆí˜¸ë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì¼ ìŠ¤íŠ¸ë¦½ì„ ì–»ìŠµë‹ˆë‹¤.</p><p>íŒíƒ€ì§€ ì•„íŠ¸ â€˜LoRAâ€™</p><p>Prompt</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a three fourth perspective waist up portrait view of a young woman with messy long blonde hair and light purple eyes, looking at viewer with a closed mouth smile, wearing tight black dress, a faded pink simple background during golden hour</span><br></pre></td></tr></table></figure><p>ì´ë¥¼ ìœ„í•´ <code>ComfyUI</code> ì›Œí¬í”Œë¡œì˜ <code>api</code> ë²„ì „ì— ë¡œë“œë˜ëŠ” ì‚¬ìš©ì ì •ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì €ì¥(API í˜•ì‹) ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ëª¨ë“  ì›Œí¬í”Œë¡œìš°ë¥¼ â€˜APIâ€™ í˜•ì‹ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·€í•˜ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì´ë¯¸ ìœ„ ë²„ì „ì„ ì €ì¥í–ˆìŠµë‹ˆë‹¤. â€˜ComfyUIâ€™ API ì‚¬ìš©ì— ëŒ€í•œ ë” ì‹¬ì¸µì ì¸ ë¹„ë””ì˜¤ ê°€ì´ë“œë¥¼ ì›í•˜ì‹œë©´ ì œê°€ ì‘ë…„ì— <a href="https://youtu.be/WwsJ_QIgsG8">ì—¬ê¸°</a>ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p><p><code>ComfyUI</code>ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•œ í›„ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”. ë˜í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë™ì¼í•œ ìœ„ì¹˜ì— <code>.env</code> íŒŒì¼ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p><ul><li><p><code>API script</code></p><p>This is my custom <code>python</code> script:</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import json</span><br><span class="line">import random</span><br><span class="line">from urllib import request</span><br><span class="line">import datetime</span><br><span class="line">from PIL import Image, ImageDraw, ImageFont</span><br><span class="line">import time</span><br><span class="line">import re</span><br><span class="line">import urllib.error</span><br><span class="line"></span><br><span class="line">from dotenv import load_dotenv</span><br><span class="line">load_dotenv()</span><br><span class="line"></span><br><span class="line"># Configuration</span><br><span class="line">api_workflow_dir = os.getenv(&quot;API_WORKFLOW_DIR&quot;)</span><br><span class="line">lora_dir = os.getenv(&quot;LORA_DIR&quot;)</span><br><span class="line"></span><br><span class="line">api_workflow_file = os.getenv(&quot;API_WORKFLOW_FILE&quot;)</span><br><span class="line">api_endpoint = os.getenv(&quot;API_ENDPOINT&quot;)</span><br><span class="line">image_output_dir = os.getenv(&quot;IMAGE_OUTPUT_DIR&quot;)</span><br><span class="line">font_ttf_path = os.getenv(&quot;FONT_TTF_PATH&quot;)</span><br><span class="line"></span><br><span class="line">comfyui_output_dir = os.getenv(&quot;COMFYUI_OUTPUT_DIR&quot;)</span><br><span class="line"></span><br><span class="line">api_endpoint = f&quot;http://&#123;api_endpoint&#125;/prompt&quot;</span><br><span class="line"></span><br><span class="line">workflow_file_path = os.path.join(api_workflow_dir, api_workflow_file)</span><br><span class="line">workflow = json.load(open(workflow_file_path))</span><br><span class="line"></span><br><span class="line">current_datetime = datetime.datetime.now().strftime(&quot;%Y-%m-%d_%H-%M-%S&quot;)</span><br><span class="line">relative_output_path = current_datetime</span><br><span class="line"></span><br><span class="line">directory_creation_timeout = 3000  # Timeout for directory creation in seconds</span><br><span class="line">image_generation_timeout = 30000  # Timeout for image generation in seconds</span><br><span class="line"></span><br><span class="line">def get_checkpoint_number(filename):</span><br><span class="line">    match = re.search(r&#x27;checkpoint-(\d+)&#x27;, filename)</span><br><span class="line">    if match:</span><br><span class="line">        return int(match.group(1))</span><br><span class="line">    match = re.search(r&#x27;/checkpoint-(\d+)/&#x27;, filename)</span><br><span class="line">    if match:</span><br><span class="line">        return int(match.group(1))</span><br><span class="line">    return None</span><br><span class="line"></span><br><span class="line">def get_most_recent_output_folder(base_dir):</span><br><span class="line">    folders = [f for f in os.listdir(base_dir) if os.path.isdir(os.path.join(base_dir, f))]</span><br><span class="line">    if not folders:</span><br><span class="line">        return None</span><br><span class="line">    return max(folders, key=lambda f: os.path.getctime(os.path.join(base_dir, f)))</span><br><span class="line"></span><br><span class="line">def process_loras(lora_dir, workflow):</span><br><span class="line">    print(f&quot;Scanning directory: &#123;lora_dir&#125;&quot;)</span><br><span class="line">    </span><br><span class="line">    # Extract the last two directories from LORA_DIR</span><br><span class="line">    lora_path_parts = lora_dir.split(&#x27;/&#x27;)</span><br><span class="line">    dynamic_lora_path = &#x27;/&#x27;.join(lora_path_parts[-2:])</span><br><span class="line">    </span><br><span class="line">    all_items = os.listdir(lora_dir)</span><br><span class="line">    </span><br><span class="line">    lora_items = [f for f in all_items if f.endswith(&#x27;_lora.safetensors&#x27;)]</span><br><span class="line">    </span><br><span class="line">    lora_items.sort(key=lambda x: int(x.split(&#x27;-&#x27;)[1].split(&#x27;_&#x27;)[0]))</span><br><span class="line">    </span><br><span class="line">    print(f&quot;Found items: &#123;lora_items&#125;&quot;)</span><br><span class="line">    </span><br><span class="line">    for item in lora_items:</span><br><span class="line">        checkpoint_num = item.split(&#x27;-&#x27;)[1].split(&#x27;_&#x27;)[0]</span><br><span class="line">        </span><br><span class="line">        print(f&quot;Processing: &#123;item&#125;&quot;)</span><br><span class="line"></span><br><span class="line">        # Update the LoRA loader node</span><br><span class="line">        lora_loader_node = workflow[&quot;276&quot;]</span><br><span class="line">        lora_loader_node[&quot;inputs&quot;][&quot;lora_name&quot;] = f&quot;&#123;dynamic_lora_path&#125;/&#123;item&#125;&quot;</span><br><span class="line"></span><br><span class="line">        save_image = workflow[&quot;314&quot;]</span><br><span class="line">        filename_prefix = f&quot;checkpoint-&#123;checkpoint_num&#125;&quot;</span><br><span class="line">        save_image[&quot;inputs&quot;][&quot;output_path&quot;] = relative_output_path</span><br><span class="line">        save_image[&quot;inputs&quot;][&quot;filename_prefix&quot;] = filename_prefix</span><br><span class="line"></span><br><span class="line">        success = queue_prompt(workflow)</span><br><span class="line">        if not success:</span><br><span class="line">            print(f&quot;Failed to queue prompt for checkpoint &#123;checkpoint_num&#125;&quot;)</span><br><span class="line">        else:</span><br><span class="line">            print(f&quot;Successfully queued prompt for checkpoint &#123;checkpoint_num&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    if not lora_items:</span><br><span class="line">        print(&quot;No LoRA files found in the directory.&quot;)</span><br><span class="line">    </span><br><span class="line">    return len(lora_items)</span><br><span class="line"></span><br><span class="line">def create_image_strip(lora_dir, image_folder, output_filename):</span><br><span class="line">    lora_files = [f for f in os.listdir(lora_dir) if f.endswith(&#x27;_lora.safetensors&#x27;)]</span><br><span class="line">    lora_files.sort(key=get_checkpoint_number)</span><br><span class="line">    checkpoints = [get_checkpoint_number(f) for f in lora_files if get_checkpoint_number(f) is not None]</span><br><span class="line"></span><br><span class="line">    images = []</span><br><span class="line">    for checkpoint in checkpoints:</span><br><span class="line">        filename = f&quot;checkpoint-&#123;checkpoint&#125;_0001.png&quot;</span><br><span class="line">        filepath = os.path.join(image_folder, filename)</span><br><span class="line">        if os.path.exists(filepath):</span><br><span class="line">            try:</span><br><span class="line">                img = Image.open(filepath)</span><br><span class="line">                images.append(img)</span><br><span class="line">            except IOError as e:</span><br><span class="line">                print(f&quot;Cannot open image: &#123;filepath&#125;&quot;)</span><br><span class="line">                print(f&quot;Error: &#123;e&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    if not images:</span><br><span class="line">        print(&quot;No valid images found.&quot;)</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line">    img_width, img_height = images[0].size</span><br><span class="line">    strip_width = img_width * len(images)</span><br><span class="line">    label_height = 50  # Space for labels</span><br><span class="line">    strip_height = img_height + label_height</span><br><span class="line"></span><br><span class="line">    strip_image = Image.new(&#x27;RGB&#x27;, (strip_width, strip_height), &#x27;white&#x27;)</span><br><span class="line">    draw = ImageDraw.Draw(strip_image)</span><br><span class="line">    font = ImageFont.truetype(font_ttf_path, 20)</span><br><span class="line"></span><br><span class="line">    for i, (img, checkpoint) in enumerate(zip(images, checkpoints)):</span><br><span class="line">        strip_image.paste(img, (i * img_width, label_height))</span><br><span class="line">        </span><br><span class="line">        label = f&quot;checkpoint-&#123;checkpoint&#125;&quot;</span><br><span class="line">        label_width = draw.textlength(label, font=font)</span><br><span class="line">        label_x = i * img_width + (img_width - label_width) // 2</span><br><span class="line">        draw.text((label_x, 10), label, fill=&quot;black&quot;, font=font)</span><br><span class="line"></span><br><span class="line">    strip_image.save(output_filename)</span><br><span class="line">    print(f&quot;Image strip saved to: &#123;output_filename&#125;&quot;)</span><br><span class="line"></span><br><span class="line">def queue_prompt(workflow):</span><br><span class="line">    p = &#123;&quot;prompt&quot;: workflow&#125;</span><br><span class="line">    data = json.dumps(p).encode(&#x27;utf-8&#x27;)</span><br><span class="line">    req = request.Request(api_endpoint, data=data, headers=&#123;&#x27;Content-Type&#x27;: &#x27;application/json&#x27;&#125;)</span><br><span class="line">    try:</span><br><span class="line">        with request.urlopen(req) as response:</span><br><span class="line">            print(f&quot;API request successful. Status code: &#123;response.getcode()&#125;&quot;)</span><br><span class="line">            return True</span><br><span class="line">    except urllib.error.URLError as e:</span><br><span class="line">        if hasattr(e, &#x27;reason&#x27;):</span><br><span class="line">            print(f&quot;Failed to reach the server. Reason: &#123;e.reason&#125;&quot;)</span><br><span class="line">        elif hasattr(e, &#x27;code&#x27;):</span><br><span class="line">            print(f&quot;The server couldn&#x27;t fulfill the request. Error code: &#123;e.code&#125;&quot;)</span><br><span class="line">        print(f&quot;API endpoint: &#123;api_endpoint&#125;&quot;)</span><br><span class="line">    except Exception as e:</span><br><span class="line">        print(f&quot;An error occurred: &#123;str(e)&#125;&quot;)</span><br><span class="line">    return False</span><br><span class="line"></span><br><span class="line">def wait_for_directory_creation(directory, timeout):</span><br><span class="line">    print(f&quot;Waiting for directory &#123;directory&#125; to be created...&quot;)</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    while time.time() - start_time &lt; timeout:</span><br><span class="line">        if os.path.exists(directory):</span><br><span class="line">            print(f&quot;Directory &#123;directory&#125; found.&quot;)</span><br><span class="line">            return True</span><br><span class="line">        time.sleep(5)  # Check every 5 seconds</span><br><span class="line">    print(f&quot;Timeout waiting for directory &#123;directory&#125; to be created.&quot;)</span><br><span class="line">    return False</span><br><span class="line"></span><br><span class="line">def wait_for_images(image_folder, expected_count, timeout):</span><br><span class="line">    print(&quot;Waiting for images to be generated...&quot;)</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    while time.time() - start_time &lt; timeout:</span><br><span class="line">        if os.path.exists(image_folder):</span><br><span class="line">            image_files = [f for f in os.listdir(image_folder) if f.endswith(&#x27;.png&#x27;)]</span><br><span class="line">            if len(image_files) &gt;= expected_count:</span><br><span class="line">                print(f&quot;Found all &#123;expected_count&#125; images.&quot;)</span><br><span class="line">                return True</span><br><span class="line">        time.sleep(5)  # Check every 5 seconds</span><br><span class="line">    print(&quot;Timeout waiting for images to be generated.&quot;)</span><br><span class="line">    return False</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    print(f&quot;LoRA directory: &#123;lora_dir&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # Generate images</span><br><span class="line">    expected_image_count = process_loras(lora_dir, workflow)</span><br><span class="line"></span><br><span class="line">    absolute_output_path = os.path.join(comfyui_output_dir, current_datetime)</span><br><span class="line">    print(f&quot;Absolute output path: &#123;absolute_output_path&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # Create the image strip</span><br><span class="line">    if wait_for_directory_creation(absolute_output_path, directory_creation_timeout):</span><br><span class="line">        print(f&quot;Expected image count: &#123;expected_image_count&#125;&quot;)</span><br><span class="line">        if wait_for_images(absolute_output_path, expected_image_count, image_generation_timeout):</span><br><span class="line">            output_strip_filename = os.path.join(absolute_output_path, &quot;output_image_strip.png&quot;)</span><br><span class="line">            create_image_strip(lora_dir, absolute_output_path, output_strip_filename)</span><br><span class="line">        else:</span><br><span class="line">            print(&quot;Failed to generate all images in time.&quot;)</span><br><span class="line">    else:</span><br><span class="line">        print(&quot;Output directory was not created.&quot;)</span><br></pre></td></tr></table></figure></li><li><p>sample <code>.env</code> file</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">API_WORKFLOW_DIR=/weka2/home-yeo/workflows</span><br><span class="line">COMFYUI_OUTPUT_DIR = /weka2/home-yeo/ComfyUI/output/</span><br><span class="line">LORA_DIR=/admin/home-yeo/workspace/ComfyUI/models/loras/sd35_large/fantasy_art_01</span><br><span class="line">API_WORKFLOW_FILE=sd35_fantasy_art_02_api.json</span><br><span class="line">API_ENDPOINT=127.0.0.1:8188</span><br><span class="line">FONT_TTF_PATH=/weka2/home-yeo/fonts/arial.ttf</span><br><span class="line">BOLD_FONT_TTF_PATH=/weka2/home-yeo/fonts/arialbd.ttf</span><br></pre></td></tr></table></figure></li></ul><p>Fantasy Art <code>LoRA</code></p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a three fourth perspective waist up portrait view of a young woman with messy long blonde hair and light purple eyes, looking at viewer with a closed mouth smile, wearing tight black dress, a faded pink simple background during golden hour</span><br></pre></td></tr></table></figure><p>ê²°êµ­ â€˜24,000â€™ ë‹¨ê³„ì—ì„œ ê±°ì˜ ë§ˆì§€ë§‰ì— ì²´í¬í¬ì¸íŠ¸ë¥¼ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><p>ë‚˜ëŠ” ë˜í•œ ê±´ì „ì„± í™•ì¸ì„ ìœ„í•´ ìˆ˜í–‰í•œ ë‹¤ë¥¸ ëª¨ë“  í›ˆë ¨ì— ëŒ€í•´ ë™ì¼í•œ ì‹¤í—˜ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.</p><p>Cinema Photo <code>LoRA</code></p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a few hooded figures walking on an empty road in the rain, desolate, high skyscrapers</span><br></pre></td></tr></table></figure><p>John Singer Sargent <code>LoRA</code></p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">an abandoned beach with a lighthouse</span><br></pre></td></tr></table></figure><p>Underexposed Photography <code>LoRA</code></p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">waist up view of a woman posing on a runway, streetwear in the style of alexander mcqueen</span><br></pre></td></tr></table></figure><p>ì „ë¬¸ì ì¸ ì´ìœ ë¡œ ì›ë˜ ê·¸ë¦¬ë“œì˜ íŠ¹ì • ë¶€ë¶„ì´ ìƒëµë˜ì—ˆìŠµë‹ˆë‹¤. ì „ì²´ ê·¸ë¦¬ë“œì—ëŠ” ëª¨ë“  ì²­ì¤‘ì—ê²Œ ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ” ì½˜í…ì¸ ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ê¸°ìˆ ì ì¸ ì¸¡ë©´ì— ì´ˆì ì„ ë§ì¶”ê¸° ìœ„í•´ ì˜ë¦° ë²„ì „ì´ í‘œì‹œë©ë‹ˆë‹¤.</p><p>Pixel Art <code>LoRA</code></p><p>Prompt</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a plush chibi mythical creature</span><br></pre></td></tr></table></figure><p>Ethnic Paint <code>LoRA</code></p><p>Prompt</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a skyline view of a futuristic maritime village floating above ground, <span class="keyword">in</span> the clouds, towering skyscrapers, golden hour, day time lighting</span><br></pre></td></tr></table></figure><h2 id="A-x2F-B-evaluation"><a href="#A-x2F-B-evaluation" class="headerlink" title="A&#x2F;B evaluation"></a>A&#x2F;B evaluation</h2><h3 id="Improving-x2F-tuning-generations-with-APG-scaling"><a href="#Improving-x2F-tuning-generations-with-APG-scaling" class="headerlink" title="Improving&#x2F;tuning generations with APG scaling"></a>Improving&#x2F;tuning generations with APG scaling</h3><p>ìµœê³ ì˜ ë¯¸ì  ê²°ê³¼ë¥¼ ì œê³µí•˜ëŠ” â€˜LoRAâ€™ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì°¾ì•˜ìœ¼ë©´ â€˜APGâ€™ ìŠ¤ì¼€ì¼ë§ì„ í†µí•´ ì´ë¥¼ ë”ìš± í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. â€˜APGâ€™ ìŠ¤ì¼€ì¼ë§ì€ ì ì‘í˜• ì˜ˆì¸¡ ì§€ì¹¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p><p><a href="https://arxiv.org/abs/2410.02416">APG ë…¼ë¬¸</a> ì´ˆë¡ì˜ í•µì‹¬ ë¶€ë¶„</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Our approach, termed adaptive projected guidance (APG), retains the quality-boosting advantages of CFG while enabling the use of higher guidance scales without oversaturation. APG is easy to implement and introduces practically no additional computational overhead to the sampling process.</span><br></pre></td></tr></table></figure><p>ì´ê²ƒì´ ì´ ìƒ˜í”Œ ì›Œí¬í”Œë¡œì— í¬í•¨ëœ <a href="https://github.com/logtd/ComfyUI-APGScaling">ComfyUI ë…¸ë“œ</a>ì…ë‹ˆë‹¤. ì„¸ ê°€ì§€ ë‹¤ë¥¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. í•˜ë‚˜ëŠ” ê¸°ë³¸ ì´ë¯¸ì§€, í•˜ë‚˜ëŠ” ***<code>APG</code> ìŠ¤ì¼€ì¼ë§ ì—†ì´ ***<code>LoRA</code> ì ìš©, ì„¸ ë²ˆì§¸ ì´ë¯¸ì§€ëŠ” ***<code>ì‚¬ìš©***</code> LoRA<code> ì ìš© APG</code> ìŠ¤ì¼€ì¼ë§.</p><p>The parameters for APG are:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">eta</span><br><span class="line">norm<span class="emphasis">_threshold</span></span><br><span class="line"><span class="emphasis">use_</span>momentum</span><br><span class="line">momentum</span><br></pre></td></tr></table></figure><p>ì´ ë…¸ë“œì— ëŒ€í•´ ê·¸ë ‡ê²Œ ë§ì´ ì‹¬ì¸µ ë¶„ì„í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ ì´ë¯¸ì§€ í’ˆì§ˆì´ ì¢‹ë“  ë‚˜ì˜ë“  ë³€ê²½ë©ë‹ˆë‹¤.</p><h3 id="Before-and-after-comparison"><a href="#Before-and-after-comparison" class="headerlink" title="Before and after comparison"></a>Before and after comparison</h3><p>Fantasy Art</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a three fourth perspective waist up portrait view of a young woman with messy long blonde hair and light purple eyes, perfect face, looking at viewer with a closed mouth smile, wearing loose black dress, a faded pink simple background during golden hour</span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p>Cinema Photo</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a wide view of a figure looking up at a meteor breaking apart</span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p>John Singer Sargent</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">an abandoned beach with a lighthouse</span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p>Underexposed Photography</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">waist up view of a woman posing on a runway, streetwear in the style of alexander mcqueen</span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p>Pixel Art</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a sci-fi venetian town near the water</span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p>Ethnic Paint</p><p>Prompt</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a man in his late 30s to early 40s, rendered in a dark, moody style, The subject is depicted from the shoulders up, facing the viewer directly, He has a full, thick beard and mustache, which is dark and well-groomed, with a few strands of gray, His hair is short and neatly combed, with a few strands falling over his forehead, His eyes are dark and piercing, with a slight hint of sadness or introspection, </span><br></pre></td></tr></table></figure><p><code>Base model</code></p><p><code>LoRA</code></p><p><code>LoRA</code> + <code>APG</code></p><p><code>APG</code> ëŠ” ê·¸ ë§ì— ì¶©ì‹¤í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì±„ë„ë¥¼ ì¤„ì—¬ì¤ë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ë‚˜ëŠ” ë°”ëœ ìƒ‰ìƒì„ ì„ í˜¸í•˜ì§€ ì•Šì§€ë§Œ ë°‹ë°‹í•œ â€œRAWâ€ ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ì¢‹ì€ ë°©ë²•ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="Other-fine-tuning-tools-x2F-libraries-for-SD3-5"><a href="#Other-fine-tuning-tools-x2F-libraries-for-SD3-5" class="headerlink" title="Other fine-tuning tools&#x2F;libraries for SD3.5"></a>Other fine-tuning tools&#x2F;libraries for SD3.5</h2><p>Hugging Faceì˜ <a href="https://huggingface.co/blog/sd3-5#training-loras-with-sd35-large-with-Quantization">ì´ ìŠ¤í¬ë¦½íŠ¸ ë° êµ¬ì„±</a>ì„ ì°¸ì¡°í•˜ì„¸ìš”. ì´ëŠ” ì‚¬ìš©í•˜ê¸°ê°€ ë” ê°„ë‹¨í•˜ì§€ë§Œ ê²°ê³¼ëŠ” ì•½ê°„ ë” ë‚˜ì  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="Conclusion-amp-Feedback"><a href="#Conclusion-amp-Feedback" class="headerlink" title="Conclusion &amp; Feedback"></a>Conclusion &amp; Feedback</h2><p>ì—¬ê¸° ìˆëŠ” ëª¨ë“  ì •ë³´ê°€ ì¶œì‹œì¼ì— SD3.5 Largeë¥¼ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ë° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. â€˜DiTâ€™ ì•„í‚¤í…ì²˜ëŠ” ì—¬ì „íˆ ìƒëŒ€ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê²ƒì´ê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” êµ¬ì„±, ì§ˆê° ë° ì „ì²´ì ì¸ ë¯¸í•™ ì¸¡ë©´ì—ì„œ ìµœê³ ì˜ ì´ë¯¸ì§€ í’ˆì§ˆì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ë°©ë²•ì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤. ìµœìƒì˜ ê²°ê³¼ë¥¼ ì–»ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²½ìš° í›ˆë ¨ ì¤‘ì— ë³´ë‹¤ ì„¸ë¶€ì ì¸ ë ˆì´ì–´ ì¡°ì‘ì„ ì ê·¹ ê¶Œì¥í•©ë‹ˆë‹¤.</p><h2 id="Two-cents-from-Dango"><a href="#Two-cents-from-Dango" class="headerlink" title="Two cents from Dango"></a>Two cents from Dango</h2><p>ë”°ë¼ì„œ SD3.5 ì‹œë¦¬ì¦ˆì˜ ì£¼ìš” ì„¤ê³„ì ì¤‘ í•˜ë‚˜ì¸ Dangoì˜ ì¶”ê°€ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p><a href="https://huggingface.co/Dango233">Dangoâ€™s Hugging Face profile</a></p><h3 id="Diving-into-SD3-5-Large-Architecture"><a href="#Diving-into-SD3-5-Large-Architecture" class="headerlink" title="Diving into SD3.5 Large Architecture"></a>Diving into SD3.5 Large Architecture</h3><p>SD 3.5 Largeì˜ í° ê·¸ë¦¼ì„ ì´í•´í•˜ê¸° ìœ„í•´ ë¨¼ì € ì•„í‚¤í…ì²˜ë¥¼ ì¸ì‡„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p><p>ëª¨ë¸ì„ ë¡œì»¬ ë””ë ‰í„°ë¦¬ì— ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²½ìš° <code>stable-diffusion-3-medium-diffusers</code>ì™€ ìœ ì‚¬í•œ íŒŒì¼ êµ¬ì¡°ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.</p><p>SD3.5 Largeì˜ ê²½ìš° ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p>í‚¤ë¥¼ ë‚˜ì—´í•˜ë ¤ê³  í•˜ë©´ ìƒ¤ë”©ëœ ë””í“¨ì € í˜•ì‹ì˜ ê¸°ë³¸ ëª¨ë¸ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë¯€ë¡œ ì´ë¥¼ ë‹¨ì¼ ëª¨ë¸ë¡œ ë³‘í•©í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì´ ì‹œì ì—ì„œ ë‚˜ëŠ” ëª¨ë¸ì˜ ë¡œì»¬ ë²„ì „ìœ¼ë¡œ ì‘ì—…í•˜ê³  ìˆì—ˆì§€ë§Œ <code>.cache</code>ì— ë‹¤ìš´ë¡œë“œí•œ Hugging Face ë²„ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤.</p><p>Example path:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home-kasukanra/.cache/huggingface/hub/models--stabilityai--stable-diffusion-3.5-large/snapshots/1a43aa3b9bb52ead637f9693a228092aa802a5dd/transformer</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import safetensors.torch</span><br><span class="line"></span><br><span class="line">shards = [</span><br><span class="line">    &quot;/weka2/home-yeo/sd3_diffusers/ckpts/35L_1024_rc6b/test_convert/transformer/diffusion_pytorch_model-00001-of-00002.safetensors&quot;,</span><br><span class="line">    &quot;/weka2/home-yeo/sd3_diffusers/ckpts/35L_1024_rc6b/test_convert/transformer/diffusion_pytorch_model-00002-of-00002.safetensors&quot;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"># Initialize an empty state dictionary</span><br><span class="line">combined_state_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line"># Load each shard and merge into combined_state_dict</span><br><span class="line">for shard in shards:</span><br><span class="line">    ckpt = safetensors.torch.load_file(shard)</span><br><span class="line">    combined_state_dict.update(ckpt)</span><br><span class="line"></span><br><span class="line"># Specify the output path for the combined model</span><br><span class="line">output_path = &quot;/weka2/home-yeo/sd3_diffusers/ckpts/35L_1024_rc6b/merged/combined_model.safetensors&quot;</span><br><span class="line"></span><br><span class="line"># Save the combined state dictionary to a single .safetensors file</span><br><span class="line">safetensors.torch.save_file(combined_state_dict, output_path)</span><br><span class="line">print(f&quot;Combined model saved successfully at &#123;output_path&#125;&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ì œ ê²½ìš°ì—ëŠ” ë³‘í•©ëœ ëª¨ë¸(<code>combined_model.safetensors</code>)ì´ ìˆìœ¼ë©´ ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ì•„í‚¤í…ì²˜ë¥¼ í…ìŠ¤íŠ¸ íŒŒì¼ì— ì €ì¥í•˜ì„¸ìš”. ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³€í™˜ê¸° ëª¨ë¸ì˜ ì¼ë°˜ì ì¸ ìˆœì°¨ íë¦„ì„ ì¶œë ¥í•©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import safetensors.torch</span><br><span class="line">import re</span><br><span class="line">import json</span><br><span class="line">from collections import defaultdict</span><br><span class="line"></span><br><span class="line">def group_keys(keys):</span><br><span class="line">    groups = defaultdict(list)</span><br><span class="line">    for key in keys:</span><br><span class="line">        if &#x27;transformer_blocks&#x27; in key:</span><br><span class="line">            block_num = int(re.search(r&#x27;transformer_blocks\.(\d+)&#x27;, key).group(1))</span><br><span class="line">            groups[f&#x27;transformer_block_&#123;block_num&#125;&#x27;].append(key)</span><br><span class="line">        elif &#x27;embed&#x27; in key:</span><br><span class="line">            groups[&#x27;embedding&#x27;].append(key)</span><br><span class="line">        elif &#x27;pos_embed&#x27; in key:</span><br><span class="line">            groups[&#x27;positional_embedding&#x27;].append(key)</span><br><span class="line">        elif &#x27;time_text_embed&#x27; in key:</span><br><span class="line">            groups[&#x27;time_text_embedding&#x27;].append(key)</span><br><span class="line">        elif &#x27;norm_out&#x27; in key:</span><br><span class="line">            groups[&#x27;output_normalization&#x27;].append(key)</span><br><span class="line">        elif &#x27;proj_out&#x27; in key:</span><br><span class="line">            groups[&#x27;output_projection&#x27;].append(key)</span><br><span class="line">        else:</span><br><span class="line">            groups[&#x27;other&#x27;].append(key)</span><br><span class="line">    return groups</span><br><span class="line"></span><br><span class="line">def order_groups(groups):</span><br><span class="line">    order = [</span><br><span class="line">        &#x27;embedding&#x27;,</span><br><span class="line">        &#x27;positional_embedding&#x27;,</span><br><span class="line">        &#x27;time_text_embedding&#x27;,</span><br><span class="line">    ] + [f&#x27;transformer_block_&#123;i&#125;&#x27; for i in range(38)] + [</span><br><span class="line">        &#x27;output_normalization&#x27;,</span><br><span class="line">        &#x27;output_projection&#x27;,</span><br><span class="line">        &#x27;other&#x27;</span><br><span class="line">    ]</span><br><span class="line">    return &#123;k: groups[k] for k in order if k in groups&#125;</span><br><span class="line"></span><br><span class="line">def pretty_print_and_save(ckpt, output_file):</span><br><span class="line">    keys_list = list(ckpt.keys())</span><br><span class="line">    grouped_keys = group_keys(keys_list)</span><br><span class="line">    ordered_groups = order_groups(grouped_keys)</span><br><span class="line">    </span><br><span class="line">    output = []</span><br><span class="line">    for group, keys in ordered_groups.items():</span><br><span class="line">        output.append(f&quot;\n&#123;group.upper()&#125;:&quot;)</span><br><span class="line">        output.extend(sorted(keys))</span><br><span class="line">    </span><br><span class="line">    pretty_output = &#x27;\n&#x27;.join(output)</span><br><span class="line">    </span><br><span class="line">    with open(output_file, &#x27;w&#x27;) as f:</span><br><span class="line">        f.write(pretty_output)</span><br><span class="line">    </span><br><span class="line">    print(f&quot;Grouped keys have been saved to &#123;output_file&#125;&quot;)</span><br><span class="line"></span><br><span class="line"># Load the checkpoint</span><br><span class="line">checkpoint_path = &quot;/weka2/home-yeo/sd3_diffusers/ckpts/35L_1024_rc6b/merged/combined_model.safetensors&quot;</span><br><span class="line">ckpt = safetensors.torch.load_file(checkpoint_path)</span><br><span class="line"></span><br><span class="line"># Pretty-print and save the grouped keys to a file</span><br><span class="line">output_file = &quot;ckpt_keys_grouped_output.txt&quot;</span><br><span class="line">pretty_print_and_save(ckpt, output_file)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://stabilityai.notion.site/Stable-Diffusion-3-5-Large-Fine-tuning-Tutorial-11a61cdcd1968027a15bdbd7c40be8c6">Stable Diffusion 3.5 Large Fine-tuning Tutorial</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/10/2024-10-25-Stable%20Diffusion_3_5_Large_Fine-tuning_Tutorial/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 2 ë¦¬ìŠ¤íŠ¸ì™€ ë”•ì…”ë„ˆë¦¬</title>
      <link>https://sejoung.github.io/2024/10/2024-10-18-Effective_Python_CHAPTER_2/</link>
      <guid>https://sejoung.github.io/2024/10/2024-10-18-Effective_Python_CHAPTER_2/</guid>
      <pubDate>Fri, 18 Oct 2024 12:27:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;2ì¥-ë¦¬ìŠ¤íŠ¸ì™€-ë”•ì…”ë„ˆë¦¬&quot;&gt;&lt;a href=&quot;#2ì¥-ë¦¬ìŠ¤íŠ¸ì™€-ë”•ì…”ë„ˆë¦¬&quot; class=&quot;headerlink&quot; title=&quot;2ì¥ ë¦¬ìŠ¤íŠ¸ì™€ ë”•ì…”ë„ˆë¦¬&quot;&gt;&lt;/a&gt;2ì¥ ë¦¬ìŠ¤íŠ¸ì™€ ë”•ì…”ë„ˆë¦¬&lt;/h1&gt;&lt;p&gt;ë¦¬ìŠ¤íŠ¸ëŠ” ì•„ì£¼ ê°„í¸í•˜ë©° ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë° ì‚¬ìš©&lt;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="2ì¥-ë¦¬ìŠ¤íŠ¸ì™€-ë”•ì…”ë„ˆë¦¬"><a href="#2ì¥-ë¦¬ìŠ¤íŠ¸ì™€-ë”•ì…”ë„ˆë¦¬" class="headerlink" title="2ì¥ ë¦¬ìŠ¤íŠ¸ì™€ ë”•ì…”ë„ˆë¦¬"></a>2ì¥ ë¦¬ìŠ¤íŠ¸ì™€ ë”•ì…”ë„ˆë¦¬</h1><p>ë¦¬ìŠ¤íŠ¸ëŠ” ì•„ì£¼ ê°„í¸í•˜ë©° ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë° ì‚¬ìš©<br>ë¦¬ìŠ¤íŠ¸ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë³´ì™„í• ìˆ˜ ìˆëŠ” íƒ€ì…ì´ ë”•ì…”ë„ˆë¦¬ íƒ€ì…ì´ë‹¤</p><p>ë”•ì…”ë„ˆë¦¬ íƒ€ì…ì€ ì¼ë°˜ì ìœ¼ë¡œ í•´ì‹œ í…Œì´ë¸”ì´ë‚˜ ì—°ê´€ ë°°ì—´ì´ë¼ê³  ë¶€ë¥´ëŠ” ë°ì´í„° êµ¬ì¡° ì•ˆì— ê°’ì„ ì €ì¥</p><h2 id="Better-way-11-ì‹œí€€ìŠ¤ë¥¼-ìŠ¬ë¼ì´ì‹±í•˜ëŠ”-ë°©ë²•ì„-ìµí˜€ë¼"><a href="#Better-way-11-ì‹œí€€ìŠ¤ë¥¼-ìŠ¬ë¼ì´ì‹±í•˜ëŠ”-ë°©ë²•ì„-ìµí˜€ë¼" class="headerlink" title="Better way 11 ì‹œí€€ìŠ¤ë¥¼ ìŠ¬ë¼ì´ì‹±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ë¼"></a>Better way 11 ì‹œí€€ìŠ¤ë¥¼ ìŠ¬ë¼ì´ì‹±í•˜ëŠ” ë°©ë²•ì„ ìµí˜€ë¼</h2><ul><li>ìŠ¬ë¼ì´ì‹± êµ¬ë¬¸ì˜ ê¸°ë³¸ í˜•íƒœëŠ” ë¦¬ìŠ¤íŠ¸[ì‹œì‘:ë] ì´ë‹¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;, &#x27;g&#x27;, &#x27;h&#x27;]</span><br><span class="line">print(&#x27;ê°€ìš´ë° 2ê°œ:&#x27;, a[3:5])</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">assert a[:5] == a[0:5]</span><br><span class="line">assert a[5:] == a[5:len(a)]</span><br></pre></td></tr></table></figure><ul><li><p>ìŠ¬ë¼ì´ì‹±í•œ ê²°ê³¼ëŠ” ì™„ì „íˆ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ì›ë˜ ë¦¬ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ ëœë‹¤.</p></li><li><p>ìŠ¬ë¼ì´ì‹±í•œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³€ê²½í•´ë„ ì›ë˜ ë¦¬ìŠ¤íŠ¸ëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤</p></li><li><p>ìŠ¬ë¼ì´ì‹± í• ë•ŒëŠ” ê°„ê²°í•˜ê²Œ í•˜ë¼ ì‹œì‘ ì¸ë±ìŠ¤ì— 0ì„ ë„£ê±°ë‚˜, ë ì¸ë±ìŠ¤ì— ì‹œí€€ìŠ¤ ê¸¸ì´ë¥¼ ë„£ì§€ ë§ë¼</p></li></ul><h2 id="Better-way-12-ìŠ¤íŠ¸ë¼ì´ë“œì™€-ìŠ¬ë¼ì´ìŠ¤ë¥¼-í•œ-ì‹ì—-í•¨ê»˜-ì‚¬ìš©í•˜ì§€-ë§ë¼"><a href="#Better-way-12-ìŠ¤íŠ¸ë¼ì´ë“œì™€-ìŠ¬ë¼ì´ìŠ¤ë¥¼-í•œ-ì‹ì—-í•¨ê»˜-ì‚¬ìš©í•˜ì§€-ë§ë¼" class="headerlink" title="Better way 12 ìŠ¤íŠ¸ë¼ì´ë“œì™€ ìŠ¬ë¼ì´ìŠ¤ë¥¼ í•œ ì‹ì— í•¨ê»˜ ì‚¬ìš©í•˜ì§€ ë§ë¼"></a>Better way 12 ìŠ¤íŠ¸ë¼ì´ë“œì™€ ìŠ¬ë¼ì´ìŠ¤ë¥¼ í•œ ì‹ì— í•¨ê»˜ ì‚¬ìš©í•˜ì§€ ë§ë¼</h2><ul><li><p>íŒŒì´ì¬ì€ ë¦¬ìŠ¤íŠ¸[ì‹œì‘:ë:ì¦ê°€ê°’]ìœ¼ë¡œ ì¼ì •í•œ ê°„ê²©ì„ ë‘ê³  ìŠ¬ë¼ì´ì‹±ì„ í•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ êµ¬ë¬¸ì„ ì œê³µí•œë‹¤</p></li><li><p>ìŠ¬ë¼ì´ìŠ¤ì— ì‹œì‘, ë, ì¦ê°€ê°’ì„ í•¨ê»˜ ì§€ì •í•˜ë©´ ì½”ë“œì˜ ì˜ë¯¸ë¥¼ í˜¼ë™í•˜ê¸° ì‰½ë‹¤</p></li><li><p>ì‹œì‘ì´ë‚˜ ë ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ ë•ŒëŠ” ì–‘ìˆ˜ ì¦ê°€ê°’ì„ ì‚¬ìš©í•˜ë¼ ê°€ê¸‰ì  ìŒìˆ˜ ì¦ê°€ê°’ì„ í”¼í•˜ë¼</p></li><li><p>í•œìŠ¬ë¼ì´ìŠ¤ ì•ˆì—ì„œ ì‹œì‘, ë, ì¦ê°€ê°’ì„ í•¨ê»˜ ì‚¬ìš©í•˜ì§€ ë§ë¼ ì„¸ íŒŒë¼ë¯¸í„°ë¥¼ ëª¨ë‘ ì¨ì•¼ í•˜ëŠ” ê²½ìš° ë‘ë²ˆ ëŒ€ì…ì„<br>  ì‚¬ìš©í•˜ê±°ë‚˜ itertools.isliceë¥¼ ì‚¬ìš©í•˜ë¼</p></li></ul><h2 id="Better-way-13-ìŠ¬ë¼ì´ì‹±ë³´ë‹¤ëŠ”-ë‚˜ë¨¸ì§€ë¥¼-ëª¨ë‘-ì¡ì•„ë‚´ëŠ”-ì–¸íŒ¨í‚¹ì„-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-13-ìŠ¬ë¼ì´ì‹±ë³´ë‹¤ëŠ”-ë‚˜ë¨¸ì§€ë¥¼-ëª¨ë‘-ì¡ì•„ë‚´ëŠ”-ì–¸íŒ¨í‚¹ì„-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 13 ìŠ¬ë¼ì´ì‹±ë³´ë‹¤ëŠ” ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë‘ ì¡ì•„ë‚´ëŠ” ì–¸íŒ¨í‚¹ì„ ì‚¬ìš©í•˜ë¼"></a>Better way 13 ìŠ¬ë¼ì´ì‹±ë³´ë‹¤ëŠ” ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë‘ ì¡ì•„ë‚´ëŠ” ì–¸íŒ¨í‚¹ì„ ì‚¬ìš©í•˜ë¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">car_ages = [<span class="number">0</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">20</span>, <span class="number">19</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">15</span>]</span><br><span class="line">car_ages_descending = <span class="built_in">sorted</span>(car_ages, reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ì•„ë˜ ì½”ë“œëŠ” ì‹œì‘ì ìœ¼ë¡œ ë…¸ì´ì¦ˆê°€ ë§ë‹¤<br>ê·¸ë˜ì„œ ì¸ë±ìŠ¤ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ë§Œë“¤ì–´ ë‚´ê¸° ì‰½ë‹¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">oldest = car_ages_descending[<span class="number">0</span>]</span><br><span class="line">second_oldest = car_ages_descending[<span class="number">1</span>]</span><br><span class="line">ohers = car_ages_descending[<span class="number">2</span>:]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ì´ëŸ° ìƒí™©ì„ ë” ì˜ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ íŒŒì´ì¬ì€ ë³„í‘œì‹ì„ ì‚¬ìš©í•´ ëª¨ë“  ê°’ì„ ë‹´ëŠ” ì–¸íŒ¨í‚¹ì„ í•  ìˆ˜ ìˆê²Œ ì§€ì› í•œë‹¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oldest, second_oldest, *others = car_ages_descending</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ë³„í‘œì‹ì€ ë‹¤ë¥¸ ìœ„ì¹˜ì—ë„ ì“¸ìˆ˜ ìˆë‹¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">oldest, *others, youngest = car_ages_descending</span><br><span class="line">*others, second_youngest, youngest = car_ages_descending</span><br></pre></td></tr></table></figure><p>í•œ ìˆ˜ì¤€ì˜ ì–¸íŒ¨í‚¹ì— ë³„í‘œì‹ 2ê°œ ì´ìƒ ì“¸ìˆ˜ ì—†ë‹¤</p><p>ë³„í‘œì‹ì€ í•­ìƒ list ì¸ìŠ¤í„´ìŠ¤ê°€ ëœë‹¤</p><h2 id="Better-way-14-ë³µì¡í•œ-ê¸°ì¤€ì„-ì‚¬ìš©í•´-ì •ë ¬í• -ë•ŒëŠ”-key-íŒŒë¼ë¯¸í„°ë¥¼-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-14-ë³µì¡í•œ-ê¸°ì¤€ì„-ì‚¬ìš©í•´-ì •ë ¬í• -ë•ŒëŠ”-key-íŒŒë¼ë¯¸í„°ë¥¼-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 14 ë³µì¡í•œ ê¸°ì¤€ì„ ì‚¬ìš©í•´ ì •ë ¬í•  ë•ŒëŠ” key íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë¼"></a>Better way 14 ë³µì¡í•œ ê¸°ì¤€ì„ ì‚¬ìš©í•´ ì •ë ¬í•  ë•ŒëŠ” key íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë¼</h2><ul><li>ë¦¬ìŠ¤íŠ¸ íƒ€ì…ì— ë“¤ì–´ ìˆëŠ” sort ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì›ì†Œ íƒ€ì…ì´ ë¬¸ìì—´ ì •ìˆ˜ íŠœí”Œ ë“±ë¡œê°€ ê°™ì€ ë‚´ì¥ íƒ€ì…ì¸ ê²½ìš° ìì—°ìŠ¤ëŸ¬ìš´ ìˆœì„œë¡œ ë¦¬ìŠ¤íŠ¸ì˜ ì›ì†Œë¥¼ ì •ë ¬í•  ìˆ˜ ìˆë‹¤</li><li>ì›ì†Œ íƒ€ì…ì— íŠ¹ë³„ ë©”ì„œë“œë¥¼ í†µí•´ ìì—°ìŠ¤ëŸ¬ìš´ ìˆœì„œê°€ ì •ì˜ë˜ ìˆì§€ ì•Šìœ¼ë©´ sort ë©”ì„œë“œëŠ” ì˜ˆì™¸ë¥¼ ì¼ìœ¼í‚¨ë‹¤</li><li>sort ë©”ì„œë“œì—ì„œ key íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ìŠ¤íŠ¸ì˜ ê° ì›ì†Œ ëŒ€ì‹  ë¹„êµì— ì‚¬ìš©í•  ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤</li><li>key í•¨ìˆ˜ì—ì„œ íŠœí”Œì„ ë°˜í™˜í•˜ë©´ ì—¬ëŸ¬ ì •ë ¬ ê¸°ì¤€ì„ í•˜ë‚˜ë¡œ ì—­ì„ìˆ˜ ìˆë‹¤</li></ul><h2 id="Better-way-15-ë”•ì…”ë„ˆë¦¬-ì‚½ì…-ìˆœì„œì—-ì˜ì¡´í• -ë•ŒëŠ”-ì¡°ì‹¬í•˜ë¼"><a href="#Better-way-15-ë”•ì…”ë„ˆë¦¬-ì‚½ì…-ìˆœì„œì—-ì˜ì¡´í• -ë•ŒëŠ”-ì¡°ì‹¬í•˜ë¼" class="headerlink" title="Better way 15 ë”•ì…”ë„ˆë¦¬ ì‚½ì… ìˆœì„œì— ì˜ì¡´í•  ë•ŒëŠ” ì¡°ì‹¬í•˜ë¼"></a>Better way 15 ë”•ì…”ë„ˆë¦¬ ì‚½ì… ìˆœì„œì— ì˜ì¡´í•  ë•ŒëŠ” ì¡°ì‹¬í•˜ë¼</h2><ul><li>íŒŒì´ì¬ 3.6 ì´ì „ì—ëŠ” ë”•ì…”ë„ˆë¦¬ì˜ ìˆœì„œê°€ ì‚½ì… ìˆœì„œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ëª…ì‹œì ìœ¼ë¡œ ë¬¸ì„œí™”í•˜ì§€ ì•Šì•˜ë‹¤</li><li>íŒŒì´ì¬ 3.7ë¶€í„°ëŠ” ë”•ì…”ë„ˆë¦¬ì˜ ìˆœì„œê°€ ì‚½ì… ìˆœì„œì— ì˜ì¡´í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ë¬¸ì„œí™”í–ˆë‹¤</li><li>íŒŒì´ì¬ì€ dictëŠ” ì•„ë‹ˆì§€ë§Œ ë”•ì…”ë„ˆë¦¬ì™€ ë¹„ìŠ·í•œ ê°ì²´ë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤</li><li>ë”•ì…”ë„ˆë¦¬ì™€ ë¹„ìŠ·í•œ í´ë˜ìŠ¤ë¥¼ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë‹¤ë£¨ëŠ” ë°©ë²•ì€ <ul><li>dict ì¸ìŠ¤í„´ìŠ¤ì˜ ì‚½ì… ìˆœì„œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ë°©ë²•</li><li>ì‹¤í–‰ ì‹œì ì— ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ê²€ì‚¬ë¥¼ í•˜ëŠ”ê²ƒ</li><li>íƒ€ì… ì• ë„ˆí…Œì´ì…˜ê³¼ ì •ì  ë¶„ì„ì„ ì‚¬ìš©í•´ dict ê°’ì„ ìš”êµ¬í•˜ëŠ” ë²•</li></ul></li></ul><h2 id="Better-way-16-inì„-ì‚¬ìš©í•˜ê³ -ë”•ì…”ë„ˆë¦¬-í‚¤ê°€-ì—†ì„-ë•Œ-KeyErrorë¥¼-ì²˜ë¦¬í•˜ê¸°ë³´ë‹¤ëŠ”-getì„-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-16-inì„-ì‚¬ìš©í•˜ê³ -ë”•ì…”ë„ˆë¦¬-í‚¤ê°€-ì—†ì„-ë•Œ-KeyErrorë¥¼-ì²˜ë¦¬í•˜ê¸°ë³´ë‹¤ëŠ”-getì„-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 16 inì„ ì‚¬ìš©í•˜ê³  ë”•ì…”ë„ˆë¦¬ í‚¤ê°€ ì—†ì„ ë•Œ KeyErrorë¥¼ ì²˜ë¦¬í•˜ê¸°ë³´ë‹¤ëŠ” getì„ ì‚¬ìš©í•˜ë¼"></a>Better way 16 inì„ ì‚¬ìš©í•˜ê³  ë”•ì…”ë„ˆë¦¬ í‚¤ê°€ ì—†ì„ ë•Œ KeyErrorë¥¼ ì²˜ë¦¬í•˜ê¸°ë³´ë‹¤ëŠ” getì„ ì‚¬ìš©í•˜ë¼</h2><ul><li>ë”•ì…”ë„ˆë¦¬ê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ inì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²• keyErrorë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ getì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤</li><li>ì¹´ìš´í„°ì™€ ê°™ì´ ê¸°ë³¸ì ì¸ íƒ€ì…ì˜ ê°’ì´ ë“¤ì–´ê°€ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ë‹¤ë£° ë•ŒëŠ” get ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê¹”ë”í•˜ë‹¤</li><li>setdefault ë©”ì„œë“œ ëŒ€ì‹  defaultdictë¥¼ ì‚¬ìš©í•˜ë©´ ë” ê°„ê²°í•˜ê²Œ ë”•ì…”ë„ˆë¦¬ë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤</li></ul><h2 id="Better-way-17-ë‚´ë¶€-ìƒíƒœì—ì„œ-ì›ì†Œê°€-ì—†ëŠ”-ê²½ìš°ë¥¼-ì²˜ë¦¬í• -ë•ŒëŠ”-setdefaultë³´ë‹¤-defaultdictë¥¼-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-17-ë‚´ë¶€-ìƒíƒœì—ì„œ-ì›ì†Œê°€-ì—†ëŠ”-ê²½ìš°ë¥¼-ì²˜ë¦¬í• -ë•ŒëŠ”-setdefaultë³´ë‹¤-defaultdictë¥¼-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 17 ë‚´ë¶€ ìƒíƒœì—ì„œ ì›ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•  ë•ŒëŠ” setdefaultë³´ë‹¤ defaultdictë¥¼ ì‚¬ìš©í•˜ë¼"></a>Better way 17 ë‚´ë¶€ ìƒíƒœì—ì„œ ì›ì†Œê°€ ì—†ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•  ë•ŒëŠ” setdefaultë³´ë‹¤ defaultdictë¥¼ ì‚¬ìš©í•˜ë¼</h2><ul><li>í‚¤ë¡œ ì–´ë–¤ ê°’ì´ ë“¤ì–´ì˜¬ì§€ ëª¨ë¥´ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ê´€ë¦¬í•´ì•¼ í•˜ëŠ”ë° collections.defaultdictë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤</li><li>ì„ì˜ì˜ í‚¤ê°€ ë“¤ì–´ ìˆëŠ” ë”•ì…”ë„ˆë¦¬ê°€ ì—¬ëŸ¬ë¶„ì—ê²Œ ì „ë‹¬ëê³  ê·¸ ë”•ì…”ë„ˆë¦¬ê°€ ì–´ë–»ê²Œ ìƒì„±ëëŠ”ì§€ ëª¨ë¥´ëŠ” ê²½ìš°, defaultdictë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤</li></ul><h2 id="Better-way-18-missing-ì„-ì‚¬ìš©í•´-í‚¤ì—-ë”°ë¼-ë‹¤ë¥¸-ë””í´íŠ¸-ê°’ì„-ìƒì„±í•˜ëŠ”-ë°©ë²•ì„-ì•Œì•„ë‘ë¼"><a href="#Better-way-18-missing-ì„-ì‚¬ìš©í•´-í‚¤ì—-ë”°ë¼-ë‹¤ë¥¸-ë””í´íŠ¸-ê°’ì„-ìƒì„±í•˜ëŠ”-ë°©ë²•ì„-ì•Œì•„ë‘ë¼" class="headerlink" title="Better way 18 __missing__ì„ ì‚¬ìš©í•´ í‚¤ì— ë”°ë¼ ë‹¤ë¥¸ ë””í´íŠ¸ ê°’ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë‘ë¼"></a>Better way 18 __missing__ì„ ì‚¬ìš©í•´ í‚¤ì— ë”°ë¼ ë‹¤ë¥¸ ë””í´íŠ¸ ê°’ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë‘ë¼</h2><ul><li>ë””í´ë“œ ê°’ì„ ë§Œë“œëŠ” ê³„ì‚° ë¹„ìš©ì´ ë†’ê±°ë‚˜ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ìƒí™©ì—ì„œëŠ” dictì˜ setdefault ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ë¼</li><li>ë””í´íŠ¸ í‚¤ë¥¼ ë§Œë“¤ë•Œ ì–´ë–¤ í‚¤ë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ì§ì ‘ dictì˜ í•˜ìœ„ í´ë˜ìŠ¤ì™€ <strong>missing</strong> ë©”ì„œë“œë¥¼ ì •ì˜í•˜ë¼</li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/94197582">Effective Python 2nd íŒŒì´ì¬ ì½”ë”©ì˜ ê¸°ìˆ (ê°œì •2íŒ) ë˜‘ë˜‘í•˜ê²Œ ì½”ë”©í•˜ëŠ” ë²•</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/10/2024-10-18-Effective_Python_CHAPTER_2/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 1 íŒŒì´ì¬ë‹¤ìš´ ìƒê°</title>
      <link>https://sejoung.github.io/2024/10/2024-10-15-Effective_Python_CHAPTER_1/</link>
      <guid>https://sejoung.github.io/2024/10/2024-10-15-Effective_Python_CHAPTER_1/</guid>
      <pubDate>Tue, 15 Oct 2024 13:40:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;1ì¥-íŒŒì´ì¬ë‹µê²Œ-ìƒê°í•˜ê¸°&quot;&gt;&lt;a href=&quot;#1ì¥-íŒŒì´ì¬ë‹µê²Œ-ìƒê°í•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;1ì¥ íŒŒì´ì¬ë‹µê²Œ ìƒê°í•˜ê¸°&quot;&gt;&lt;/a&gt;1ì¥ íŒŒì´ì¬ë‹µê²Œ ìƒê°í•˜ê¸°&lt;/h1&gt;&lt;p&gt;ê°€ì¥ íŒŒì´ì¬ ë‹¤ìš´ ë°©ì‹ì„ ì•Œì•„ì•¼ ëœë‹¤&lt;/p&gt;
&lt;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="1ì¥-íŒŒì´ì¬ë‹µê²Œ-ìƒê°í•˜ê¸°"><a href="#1ì¥-íŒŒì´ì¬ë‹µê²Œ-ìƒê°í•˜ê¸°" class="headerlink" title="1ì¥ íŒŒì´ì¬ë‹µê²Œ ìƒê°í•˜ê¸°"></a>1ì¥ íŒŒì´ì¬ë‹µê²Œ ìƒê°í•˜ê¸°</h1><p>ê°€ì¥ íŒŒì´ì¬ ë‹¤ìš´ ë°©ì‹ì„ ì•Œì•„ì•¼ ëœë‹¤</p><h2 id="Better-way-1-ì‚¬ìš©-ì¤‘ì¸-íŒŒì´ì¬ì˜-ë²„ì „ì„-ì•Œì•„ë‘ë¼"><a href="#Better-way-1-ì‚¬ìš©-ì¤‘ì¸-íŒŒì´ì¬ì˜-ë²„ì „ì„-ì•Œì•„ë‘ë¼" class="headerlink" title="Better way 1 ì‚¬ìš© ì¤‘ì¸ íŒŒì´ì¬ì˜ ë²„ì „ì„ ì•Œì•„ë‘ë¼"></a>Better way 1 ì‚¬ìš© ì¤‘ì¸ íŒŒì´ì¬ì˜ ë²„ì „ì„ ì•Œì•„ë‘ë¼</h2><p>íŒŒì´ì¬ 2ëŠ” ìˆ˜ëª…ì´ ë‹¤ë¨ ë°±í¬íŒ…ì´ ì´ë£¨ì–´ì§€ì§€ ì•ŠìŒ</p><ul><li>backporting: ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì´ì „ ë²„ì „ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">print(sys.version_info)</span><br><span class="line">print(sys.version)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Better-way-2-PEP-8-ìŠ¤íƒ€ì¼-ê°€ì´ë“œë¥¼-ë”°ë¥´ë¼"><a href="#Better-way-2-PEP-8-ìŠ¤íƒ€ì¼-ê°€ì´ë“œë¥¼-ë”°ë¥´ë¼" class="headerlink" title="Better way 2 PEP 8 ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë”°ë¥´ë¼"></a>Better way 2 PEP 8 ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ë”°ë¥´ë¼</h2><p>íŒŒì´ì¬ ê°œì„  ì œì•ˆ(Python Enhancement Proposal) 8ì€ íŒŒì´ì¬ ì½”ë“œë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í• ì§€ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ì œê³µí•œë‹¤.</p><h3 id="ê³µë°±-Whitespace"><a href="#ê³µë°±-Whitespace" class="headerlink" title="ê³µë°±(Whitespace)"></a>ê³µë°±(Whitespace)</h3><ul><li>íƒ­ ëŒ€ì‹  ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¼</li><li>ë¬¸ë²•ì ìœ¼ë¡œ ì˜ë¯¸ ìˆëŠ” ë“¤ì—¬ì“°ê¸°ëŠ” 4ê°œì˜ ìŠ¤í˜ì´ìŠ¤ë¡œ í•œë‹¤</li><li>í•œ ì¤„ì˜ ë¬¸ì ê¸¸ì´ê°€ 79ì ì´í•˜ì—¬ì•¼ í•œë‹¤</li><li>ê¸´ ì‹ì„ ë‹¤ìŒ ì¤„ì— ì´ì–´ì„œ ì“¸ ë•ŒëŠ” ì¼ë°˜ì ì¸ ë“¤ì—¬ì“°ê¸° ë³´ë‹¤ 4ê°œì˜ ìŠ¤í˜ì´ìŠ¤ë¥¼ ë” ë“¤ì—¬ì¨ì•¼ í•œë‹¤</li><li>íŒŒì¼ì—ì„œ í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ëŠ” ë¹ˆ ì¤„ ë‘ê°œë¡œ êµ¬ë¶„í•´ì•¼ í•œë‹¤</li><li>ë”•ì…”ë„ˆë¦¬(dictionsry)ì—ì„œ í‚¤ì™€ ì½œë¡ (:) ì‚¬ì´ì—ëŠ” ê³µë°±ì„ ë„£ì§€ ì•Šê³  í•œ ì¤„ ì•ˆì— í‚¤ì™€ ê°’ì„ ê°™ì´ ë„£ëŠ” ê²½ìš°ì—ëŠ” ì½œë¡  ë‹¤ìŒì— ìŠ¤í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ë„£ëŠ”ë‹¤</li><li>ë³€ìˆ˜ ëŒ€ì…ì—ì„œ &#x3D; ì „í›„ì—ëŠ” ìŠ¤í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ì”©ë§Œ ë„£ëŠ”ë‹¤</li><li>íƒ€ì… í‘œê¸°ë¥¼ ë§ë¶™ì´ëŠ” ê²½ìš°ì—ëŠ” ë³€ìˆ˜ ì´ë¦„ê³¼ ì½œë¡ ì‚¬ì´ì— ê³µë°±ì„ ë„£ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ê³  ì½œë¡ ê³¼ íƒ€ì… ì •ë³´ ì‚¬ì´ì—ëŠ” ìŠ¤í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ë„£ì–´ë¼</li></ul><h3 id="ëª…ëª…-Naming"><a href="#ëª…ëª…-Naming" class="headerlink" title="ëª…ëª…(Naming)"></a>ëª…ëª…(Naming)</h3><ul><li>í•¨ìˆ˜, ë³€ìˆ˜, ì†ì„±ì€ lowercase_underscore í˜•ì‹ì„ ë”°ë¥¸ë‹¤</li><li>ë³´í˜¸(protected) ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì€ _leading_underscore í˜•ì‹ì„ ë”°ë¥¸ë‹¤</li><li>ë¹„ê³µê°œ(private) ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì€ __double_leading_underscore í˜•ì‹ì„ ë”°ë¥¸ë‹¤</li><li>í´ë˜ìŠ¤ì™€ ì˜ˆì™¸ëŠ” CapitalizedWord í˜•ì‹ì„ ë”°ë¥¸ë‹¤</li><li>ëª¨ë“ˆ ìˆ˜ì¤€ ìƒìˆ˜ëŠ” ALL_CAPS í˜•ì‹ì„ ë”°ë¥¸ë‹¤</li><li>í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì—ì„œ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ì€ selfë¥¼ ì‚¬ìš©í•œë‹¤</li><li>í´ë˜ìŠ¤ ë©”ì„œë“œì—ì„œ ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ì€ clsë¥¼ ì‚¬ìš©í•œë‹¤</li></ul><h3 id="í‘œí˜„ì‹ê³¼-ë¬¸ì¥-Expressions-and-Statements"><a href="#í‘œí˜„ì‹ê³¼-ë¬¸ì¥-Expressions-and-Statements" class="headerlink" title="í‘œí˜„ì‹ê³¼ ë¬¸ì¥(Expressions and Statements)"></a>í‘œí˜„ì‹ê³¼ ë¬¸ì¥(Expressions and Statements)</h3><ul><li>ê¸ì •ì ì¸ í‘œí˜„ì‹ì„ ë¶€ì •í•˜ì§€ ë§ê³ (if not a is b) ë¶€ì •ì„ ë‚´ë¶€ì— ë„£ì–´ë¼ (if a is not b)</li><li>ë¹ˆ ì»¨í…Œì´ë„ˆ(container)ë‚˜ ì‹œí€€ìŠ¤(sequence)ë¥¼ ê²€ì‚¬í•  ë•Œ ê¸¸ì´ë¥¼ (if len(somelist)&#x3D;&#x3D;0)ì™€ ë¹„êµí•˜ì§€ ë§ê³  if not somelist ì™€ ê°™ì´ ì‚¬ìš©í•˜ë¼<ul><li>ë¹ˆ ê°’ì€ ì•”ì‹œì ìœ¼ë¡œ Falseë¡œ í‰ê°€ëœë‹¤</li></ul></li><li>ë¹„ì–´ ìˆì§€ ì•Šì„ë•Œë¡œ ê¸¸ì´ë¡œ ë¹„êµí•˜ì§€ ë§ë¼<ul><li>ë¹„ì–´ ìˆì§€ ì•Šì€ ê°’ì€ ì•”ì‹œì ìœ¼ë¡œ Trueë¡œ í‰ê°€ëœë‹¤</li></ul></li><li>í•œì¤„ë¡œ ëœ if ë¬¸, forì™€ while ë£¨í”„, except ë³µí•©ë¬¸ì„ ì“°ì§€ ë§ê³  ì—¬ëŸ¬ ì¤„ë¡œ ë‚˜ëˆ ì„œ ì“°ë¼</li><li>ì‹ì„ í•œ ì¤„ì— ë„£ì„ ë•ŒëŠ” ì‹ì„ ê´„í˜¸ë¡œ ë‘˜ëŸ¬ì‹¸ê³  ì¤„ë°”ê¿ˆê³¼ ë“¤ì—¬ì“°ê¸°ë¥¼ ì¶”ê°€í•´ì„œ ì½ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ë¼</li><li>ì—¬ëŸ¬ì¤„ì— ê±¸ì³ ì‹ì„ ì“¸ ë•ŒëŠ” ì¤„ì´ ê³„ì†ëœë‹¤ëŠ” í‘œì‹œë¡œ \ ë¬¸ìë³´ë‹¨ ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ë¼</li></ul><h3 id="ì„í¬íŠ¸-Imports"><a href="#ì„í¬íŠ¸-Imports" class="headerlink" title="ì„í¬íŠ¸(Imports)"></a>ì„í¬íŠ¸(Imports)</h3><ul><li>import ë¬¸ì€ í•­ìƒ íŒŒì¼ ë§¨ ìœ„ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤</li><li>ëª¨ë“ˆì„ ì„í¬íŠ¸í•  ë•ŒëŠ” í•­ìƒ ëª¨ë“ˆì˜ ì ˆëŒ€ ì´ë¦„ì„ ì‚¬ìš©í•˜ê³  í˜„ì¬ ëª¨ë“ˆì˜ ê²½ë¡œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒëŒ€ ê²½ë¡œë¡œ ëœ ì´ë¦„ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤<ul><li>from bar import foo ë¼ê³  í•´ì•¼ ë˜ë©° import foo ë¼ê³  í•˜ë©´ ì•ˆëœë‹¤</li></ul></li><li>ë°˜ë“¯ì´ ìƒëŒ€ì ì¸ ê²½ë¡œë¡œ ì„í¬íŠ¸í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” from . import foo ë¼ê³  í•´ì•¼ í•œë‹¤</li><li>ì„í¬íŠ¸ëŠ” â€˜í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª¨ë“ˆ, ì„œë“œíŒŒí‹° ëª¨ë“ˆ, ìì‹ ì´ ë§Œë“  ëª¨ë“ˆâ€™ ìˆœìœ¼ë¡œ êµ¬ë¶„í•´ì•¼ í•œë‹¤</li></ul><h2 id="Better-way-3-bytesì™€-strì˜-ì°¨ì´ë¥¼-ì•Œì•„ë‘ë¼"><a href="#Better-way-3-bytesì™€-strì˜-ì°¨ì´ë¥¼-ì•Œì•„ë‘ë¼" class="headerlink" title="Better way 3 bytesì™€ strì˜ ì°¨ì´ë¥¼ ì•Œì•„ë‘ë¼"></a>Better way 3 bytesì™€ strì˜ ì°¨ì´ë¥¼ ì•Œì•„ë‘ë¼</h2><p>ë¬¸ìì—´ ë°ì´í„°ì˜ ì‹œí€€ìŠ¤ë¥¼ í‘œí˜„í•˜ëŠ” ë‘ ê°€ì§€ íƒ€ì…</p><ul><li>bytes: 8ë¹„íŠ¸ ê°’ì„ ì—°ì†ëœ ì‹œí€€ìŠ¤ë¡œ ë‚˜íƒ€ë‚¸ë‹¤</li><li>str: ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ ì—°ì†ëœ ì‹œí€€ìŠ¤ë¡œ ë‚˜íƒ€ë‚¸ë‹¤</li></ul><p>str ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” ì§ì ‘ ëŒ€ì‘í•˜ëŠ” ì´ì§„ ì¸ì½”ë”©ì´ ì—†ê³  bytes ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” ì§ì ‘ ëŒ€ì‘í•˜ëŠ” í…ìŠ¤íŠ¸ ì¸ì½”ë”©ì´ ì—†ë‹¤</p><p>ìœ ë‹ˆì½”ë“œ ìƒŒë“œìœ„ì¹˜ : ìœ ë‹ˆì½”ë“œ ë°ì´í„°ë¥¼ ì¸ì½”ë”© í•˜ê±°ë‚˜ ë””ì½”ë”©í•˜ëŠ” ë¶€ë¶„ì„ ì¸í„°í˜ì´ìŠ¤ì˜ ê°€ì¥ ë¨¼ ê²½ê³„ì— ë‘ëŠ” ê²ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">def to_str(bytes_or_str):</span><br><span class="line">    if isinstance(bytes_or_str, bytes):</span><br><span class="line">        value = bytes_or_str.decode(&#x27;utf-8&#x27;)</span><br><span class="line">    else:</span><br><span class="line">        value = bytes_or_str</span><br><span class="line">    return value</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Better-way-4-C-ìŠ¤íƒ€ì¼-í˜•ì‹-ë¬¸ìì—´ì„-str-formatê³¼-ì“°ê¸°ë³´ë‹¤ëŠ”-f-ë¬¸ìì—´ì„-í†µí•œ-ì¸í„°í´ë ˆì´ì…˜ì„-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-4-C-ìŠ¤íƒ€ì¼-í˜•ì‹-ë¬¸ìì—´ì„-str-formatê³¼-ì“°ê¸°ë³´ë‹¤ëŠ”-f-ë¬¸ìì—´ì„-í†µí•œ-ì¸í„°í´ë ˆì´ì…˜ì„-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 4 C ìŠ¤íƒ€ì¼ í˜•ì‹ ë¬¸ìì—´ì„ str.formatê³¼ ì“°ê¸°ë³´ë‹¤ëŠ” f-ë¬¸ìì—´ì„ í†µí•œ ì¸í„°í´ë ˆì´ì…˜ì„ ì‚¬ìš©í•˜ë¼"></a>Better way 4 C ìŠ¤íƒ€ì¼ í˜•ì‹ ë¬¸ìì—´ì„ str.formatê³¼ ì“°ê¸°ë³´ë‹¤ëŠ” f-ë¬¸ìì—´ì„ í†µí•œ ì¸í„°í´ë ˆì´ì…˜ì„ ì‚¬ìš©í•˜ë¼</h2><ul><li>f-ë¬¸ìì—´: ë¬¸ìì—´ ì•ì— fë¥¼ ë¶™ì´ë©´ ë¬¸ìì—´ ì•ˆì— ì¤‘ê´„í˜¸ë¡œ ë³€ìˆ˜ë¥¼ ê°ì‹¸ë©´ ë³€ìˆ˜ì˜ ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤</li><li>f-ë¬¸ìì—´ì€ ê°€ë…ì„±ì´ ì¢‹ê³  str.formatë³´ë‹¤ ê°„ê²°í•˜ë‹¤</li><li>% ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œ C ìŠ¤íƒ€ì¼ í˜•ì‹ ë¬¸ìì—´ì€ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³  f-ë¬¸ìì—´ë³´ë‹¤ ë” ë³µì¡í•˜ë‹¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">place = 3</span><br><span class="line">number = 1.23456</span><br><span class="line"></span><br><span class="line">print(f&#x27;ë‚´ê°€ ê³ ë¥¸ ìˆ«ì? &#123;number:.&#123;place&#125;f&#125;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Better-way-5-ë³µì¡í•œ-ì‹ì„-ì“°ëŠ”-ëŒ€ì‹ -ë„ìš°ë¯¸-í•¨ìˆ˜ë¥¼-ì‘ì„±í•˜ë¼"><a href="#Better-way-5-ë³µì¡í•œ-ì‹ì„-ì“°ëŠ”-ëŒ€ì‹ -ë„ìš°ë¯¸-í•¨ìˆ˜ë¥¼-ì‘ì„±í•˜ë¼" class="headerlink" title="Better way 5 ë³µì¡í•œ ì‹ì„ ì“°ëŠ” ëŒ€ì‹  ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë¼"></a>Better way 5 ë³µì¡í•œ ì‹ì„ ì“°ëŠ” ëŒ€ì‹  ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë¼</h2><ul><li>ë³µì¡í•œ ì‹ì„ ì‘ì„±í•  ë•ŒëŠ” ì‹ì„ ì‘ì„±í•˜ëŠ” ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë¼</li><li>boolean ì—°ì‚°ìë‚˜ or, andë¥¼ ì‹ì— ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ if&#x2F;else ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ë…ì„±ì´ ì¢‹ë‹¤</li></ul><h2 id="Better-way-6-ì¸ë±ìŠ¤ë¥¼-ì‚¬ìš©í•˜ëŠ”-ëŒ€ì‹ -ëŒ€ì…ì„-ì‚¬ìš©í•´-ë°ì´í„°ë¥¼-ì–¸íŒ¨í‚¹í•˜ë¼"><a href="#Better-way-6-ì¸ë±ìŠ¤ë¥¼-ì‚¬ìš©í•˜ëŠ”-ëŒ€ì‹ -ëŒ€ì…ì„-ì‚¬ìš©í•´-ë°ì´í„°ë¥¼-ì–¸íŒ¨í‚¹í•˜ë¼" class="headerlink" title="Better way 6 ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ëŒ€ì…ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì–¸íŒ¨í‚¹í•˜ë¼"></a>Better way 6 ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ëŒ€ì…ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì–¸íŒ¨í‚¹í•˜ë¼</h2><p>íŒŒì´ì¬ì—ëŠ” ê°’ìœ¼ë¡œ ì´ë¤„ì§„ ë¶ˆë³€ ìˆœì„œìŒì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆëŠ” tupleì´ ìˆë‹¤</p><p>íŠœí”Œì´ ë§Œë“¤ì–´ì§€ë©´ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ìƒˆ ê°’ì„ ëŒ€ì…í•´ì„œ íŠœí”Œì„ ë³€ê²½í• ìˆ˜ëŠ” ì—†ë‹¤</p><p>ì–¸íŒ¨í‚¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">item = (&#x27;apple&#x27;, 5)</span><br><span class="line">name, count = item</span><br><span class="line">print(name, count)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def bubble_sort(a):</span><br><span class="line">    for _ in range(len(a)):</span><br><span class="line">        for i in range(1, len(a)):</span><br><span class="line">            if a[i] &lt; a[i-1]:</span><br><span class="line">                a[i-1], a[i] = a[i], a[i-1]</span><br><span class="line">                </span><br><span class="line">names = [&#x27;pretzels&#x27;, &#x27;carrots&#x27;, &#x27;arugula&#x27;, &#x27;bacon&#x27;]</span><br><span class="line">bubble_sort(names)</span><br><span class="line">print(names)</span><br><span class="line"># [&#x27;arugula&#x27;, &#x27;bacon&#x27;, &#x27;carrots&#x27;, &#x27;pretzels&#x27;]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for rank, (name, count) in enumerate(results, 1):</span><br><span class="line">    print(f&#x27;&#123;rank&#125;: &#123;name&#125; -&gt; &#123;count&#125;&#x27;)</span><br></pre></td></tr></table></figure><h2 id="Better-way-7-rangeë³´ë‹¤ëŠ”-enumerateë¥¼-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-7-rangeë³´ë‹¤ëŠ”-enumerateë¥¼-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 7 rangeë³´ë‹¤ëŠ” enumerateë¥¼ ì‚¬ìš©í•˜ë¼"></a>Better way 7 rangeë³´ë‹¤ëŠ” enumerateë¥¼ ì‚¬ìš©í•˜ë¼</h2><p>range í•¨ìˆ˜ëŠ” ì–´ë–¤ ì •ìˆ˜ì˜ ì§‘í•©ì„ ì´í„°ë ˆì´ì…˜ í•˜ëŠ” ë£¨í”„ê°€ í•„ìš” í•  ë•Œ ìœ ìš©í•˜ë‹¤</p><p>enumerate í•¨ìˆ˜ëŠ” ì´í„°ë ˆì´í„°ë¥¼ ê°ì‹¸ì„œ ì´í„°ë ˆì´í„°ê°€ ìƒì„±í•˜ëŠ” ê° ì•„ì´í…œì˜ ê°’ê³¼ ì¸ë±ìŠ¤ë¥¼ í•¨ê»˜ ë°˜í™˜í•œë‹¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">flavors = [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]</span><br><span class="line"></span><br><span class="line">it = enumerate(flavors)</span><br><span class="line">print(next(it))</span><br><span class="line">print(next(it))</span><br><span class="line">print(next(it))</span><br><span class="line"></span><br><span class="line">for i, flavor in enumerate(flavors):</span><br><span class="line">    print(f&#x27;&#123;i+1&#125;: &#123;flavor&#125;&#x27;)</span><br><span class="line">    </span><br><span class="line">for i, flavor in enumerate(flavors, 1):</span><br><span class="line">    print(f&#x27;&#123;i&#125;: &#123;flavor&#125;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Better-way-8-ì—¬ëŸ¬-ì´í„°ë ˆì´í„°ì—-ëŒ€í•´-ë‚˜ë€íˆ-ë£¨í”„ë¥¼-ìˆ˜í–‰í•˜ë ¤ë©´-zipì„-ì‚¬ìš©í•˜ë¼"><a href="#Better-way-8-ì—¬ëŸ¬-ì´í„°ë ˆì´í„°ì—-ëŒ€í•´-ë‚˜ë€íˆ-ë£¨í”„ë¥¼-ìˆ˜í–‰í•˜ë ¤ë©´-zipì„-ì‚¬ìš©í•˜ë¼" class="headerlink" title="Better way 8 ì—¬ëŸ¬ ì´í„°ë ˆì´í„°ì— ëŒ€í•´ ë‚˜ë€íˆ ë£¨í”„ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ zipì„ ì‚¬ìš©í•˜ë¼"></a>Better way 8 ì—¬ëŸ¬ ì´í„°ë ˆì´í„°ì— ëŒ€í•´ ë‚˜ë€íˆ ë£¨í”„ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ zipì„ ì‚¬ìš©í•˜ë¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for name, count in zip(names, counts):</span><br><span class="line">    print(name, count)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>zip ì œë„ˆë ˆì´ì…˜ì€ ê° ì´í„°ë ˆì´í„°ì˜ ë‹¤ìŒê°’ì´ ìˆëŠ” íŠœí”Œì„ ë°˜í™˜í•œë‹¤</p><p>zipì€ ì…ë ¥ ì´í„°ë ˆì´í„°ë“¤ ì¤‘ ê°€ì¥ ì§§ì€ ì´í„°ë ˆì´í„°ê°€ ëë‚  ë•Œ ë©ˆì¶˜ë‹¤</p><h2 id="Better-way-9-forë‚˜-while-ë£¨í”„-ë’¤ì—-else-ë¸”ë¡ì„-ì‚¬ìš©í•˜ì§€-ë§ë¼"><a href="#Better-way-9-forë‚˜-while-ë£¨í”„-ë’¤ì—-else-ë¸”ë¡ì„-ì‚¬ìš©í•˜ì§€-ë§ë¼" class="headerlink" title="Better way 9 forë‚˜ while ë£¨í”„ ë’¤ì— else ë¸”ë¡ì„ ì‚¬ìš©í•˜ì§€ ë§ë¼"></a>Better way 9 forë‚˜ while ë£¨í”„ ë’¤ì— else ë¸”ë¡ì„ ì‚¬ìš©í•˜ì§€ ë§ë¼</h2><p>íŒŒì´ì¬ì€ ë£¨í”„ê°€ ì™„ì „íˆ ì‹¤í–‰ë˜ê³  ë‚˜ë©´ else ë¸”ë¡ì„ ì‹¤í–‰í•œë‹¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in range(3):</span><br><span class="line">    print(&#x27;Loop&#x27;, i)</span><br><span class="line">else:</span><br><span class="line">    print(&#x27;Else block!&#x27;)    </span><br></pre></td></tr></table></figure><p>í•˜ì§€ë§Œ break ë¬¸ì„ ì‚¬ìš©í•˜ë©´ else ë¸”ë¡ì€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for i in range(3):</span><br><span class="line">    print(&#x27;Loop&#x27;, i)</span><br><span class="line">    if i == 1:</span><br><span class="line">        break</span><br><span class="line">else:</span><br><span class="line">    print(&#x27;Else block!&#x27;)</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p>ë˜ ë¹ˆ ì‹œí€€ìŠ¤ì— ëŒ€í•œ ë£¨í”„ë¥¼ ì‹¤í–‰í•  ë•Œë„ else ë¸”ë¡ì´ ì‹¤í–‰ëœë‹¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">for x in []:</span><br><span class="line">    print(&#x27;Never runs&#x27;)</span><br><span class="line">else:</span><br><span class="line">    print(&#x27;For Else block!&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>while ë£¨í”„ì—ë„ ê°’ì´ falseë©´ ë°”ë¡œ else ë¸”ë¡ì„ ì‹¤í–‰í•œë‹¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while False:</span><br><span class="line">    print(&#x27;Never runs&#x27;)</span><br><span class="line">else:</span><br><span class="line">    print(&#x27;While Else block!&#x27;)</span><br></pre></td></tr></table></figure><p>ìœ„ì²˜ëŸ¼ ë™ì‘ì´ ì§ê´€ì ì´ì§€ ì•Šê³  í˜¼ë™ì„ ì•¼ê¸° í• ìˆ˜ ìˆë‹¤</p><h2 id="Better-way-10-ëŒ€ì…ì‹ì„-ì‚¬ìš©í•´-ë°˜ë³µì„-í”¼í•˜ë¼"><a href="#Better-way-10-ëŒ€ì…ì‹ì„-ì‚¬ìš©í•´-ë°˜ë³µì„-í”¼í•˜ë¼" class="headerlink" title="Better way 10 ëŒ€ì…ì‹ì„ ì‚¬ìš©í•´ ë°˜ë³µì„ í”¼í•˜ë¼"></a>Better way 10 ëŒ€ì…ì‹ì„ ì‚¬ìš©í•´ ë°˜ë³µì„ í”¼í•˜ë¼</h2><p>assignment expressionì´ë©° walrus operatorë¼ê³ ë„ í•œë‹¤</p><ul><li>ëŒ€ì…ì‹ì—ì„œëŠ” ì™ˆëŸ¬ìŠ¤ ì—°ì‚°ì(:&#x3D;)ë¥¼ ì‚¬ìš©í•´ì„œ ë³€ìˆ˜ì— ê°’ì„ ëŒ€ì…í•˜ë©´ì„œ ë™ì‹œì— ì´ ê°’ì„ í‰ê°€í•  ìˆ˜ ìˆê³  ì¤‘ë³µì„ ì¤„ì¼ìˆ˜ ìˆë‹¤</li><li>ëŒ€ì…ì‹ì´ ë” í° ì‹ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ ì“°ì¼ ë•ŒëŠ” ê´„í˜¸ë¡œ ë‘˜ëŸ¬ì‹¸ì•¼ í•œë‹¤</li><li>íŒŒì´ì¬ì—ì„œëŠ” switch&#x2F;case ë¬¸ì´ë‚˜ do&#x2F;while ë£¨í”„ê°€ ì—†ì§€ë§Œ ëŒ€ì…ì‹ì„ í™œìš©í•´ì„œ ì´ë°©ë²•ì„ ê¹”ë”í•˜ê²Œ í‰ë‚´ ë‚¼ìˆ˜ ìˆë‹¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bottles = []</span><br><span class="line">while fresh_fruit := pick_fruit():</span><br><span class="line">    bottles.append(fresh_fruit.make_juice())</span><br></pre></td></tr></table></figure><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/94197582">Effective Python 2nd íŒŒì´ì¬ ì½”ë”©ì˜ ê¸°ìˆ (ê°œì •2íŒ) ë˜‘ë˜‘í•˜ê²Œ ì½”ë”©í•˜ëŠ” ë²•</a></li><li><a href="https://peps.python.org/pep-0008/">PEP 8 â€“ Style Guide for Python Code</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/10/2024-10-15-Effective_Python_CHAPTER_1/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Flux Lora í›ˆë ¨í•˜ê¸°</title>
      <link>https://sejoung.github.io/2024/10/2024-10-11-train_lora_flux/</link>
      <guid>https://sejoung.github.io/2024/10/2024-10-11-train_lora_flux/</guid>
      <pubDate>Fri, 11 Oct 2024 01:30:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Flux-Lora-í›ˆë ¨í•˜ê¸°&quot;&gt;&lt;a href=&quot;#Flux-Lora-í›ˆë ¨í•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;Flux Lora í›ˆë ¨í•˜ê¸°&quot;&gt;&lt;/a&gt;Flux Lora í›ˆë ¨í•˜ê¸°&lt;/h1&gt;&lt;p&gt;ê´€ì°®ì€ ê¸€ ëª¨ìŒ&lt;/p&gt;
&lt;h1 id=&quot;ì°¸
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Flux-Lora-í›ˆë ¨í•˜ê¸°"><a href="#Flux-Lora-í›ˆë ¨í•˜ê¸°" class="headerlink" title="Flux Lora í›ˆë ¨í•˜ê¸°"></a>Flux Lora í›ˆë ¨í•˜ê¸°</h1><p>ê´€ì°®ì€ ê¸€ ëª¨ìŒ</p><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://github.com/bghira/SimpleTuner">SimpleTuner</a></li><li><a href="https://github.com/ostris/ai-toolkit">ai-toolkit</a></li><li><a href="https://www.youtube.com/watch?v=se3qpLkJnrk">Kasucast #26 - FLUX.1 [dev]: Training LoRA with SimpleTuner and AI-Toolkit</a></li><li><a href="https://stability.ai/learning-hub/stable-diffusion-3-medium-fine-tuning-tutorial">Stable Diffusion 3 Medium Fine-tuning Tutorial</a></li><li><a href="https://github.com/Nerogar/OneTrainer">OneTrainer</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/10/2024-10-11-train_lora_flux/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Lora í›ˆë ¨í•˜ê¸°</title>
      <link>https://sejoung.github.io/2024/09/2024-09-09-train_lora/</link>
      <guid>https://sejoung.github.io/2024/09/2024-09-09-train_lora/</guid>
      <pubDate>Mon, 09 Sep 2024 04:51:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Lora-í›ˆë ¨í•˜ê¸°&quot;&gt;&lt;a href=&quot;#Lora-í›ˆë ¨í•˜ê¸°&quot; class=&quot;headerlink&quot; title=&quot;Lora í›ˆë ¨í•˜ê¸°&quot;&gt;&lt;/a&gt;Lora í›ˆë ¨í•˜ê¸°&lt;/h1&gt;&lt;p&gt;ê´œì°®ì€ ìŠ¤ë ˆë“œë“¤ì˜ ëª¨ìŒ&lt;/p&gt;
&lt;h1 id=&quot;ì°¸ì¡°&quot;&gt;&lt;a href=&quot;#ì°¸ì¡°&quot;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Lora-í›ˆë ¨í•˜ê¸°"><a href="#Lora-í›ˆë ¨í•˜ê¸°" class="headerlink" title="Lora í›ˆë ¨í•˜ê¸°"></a>Lora í›ˆë ¨í•˜ê¸°</h1><p>ê´œì°®ì€ ìŠ¤ë ˆë“œë“¤ì˜ ëª¨ìŒ</p><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://civitai.com/articles/3921/this-is-how-i-create-and-train-loras">This is how I create and train LoRAs</a></li><li><a href="https://civitai.com/articles/6824/training-a-flux-character-lora-on-civitai">Training a Flux Character LoRA on Civitai</a></li><li><a href="https://civitai.com/articles/6792/flux-style-captioning-differences-training-diary">Flux Style Captioning Differences - Training Diary</a></li><li><a href="https://civitai.com/articles/7097/flux-complete-lora-settings-and-dataset-guide-post-mortem-of-two-weeks-of-learning">Flux complete Lora settings and dataset guide - post-mortem of two weeks of learning</a></li><li><a href="https://civitai.com/articles/6868/flux-character-caption-differences-training-diary">Flux Character Caption Differences - Training Diary</a></li><li><a href="https://civitai.com/articles/7146/flux-style-captioning-differences-pt2-4-new-caption-tools-training-diary">Flux Style Captioning Differences pt2. - 4 new caption tools - Training Diary</a></li><li></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/09/2024-09-09-train_lora/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 19 Critique: êµ¬ê¸€ì˜ ì½”ë“œ ë¦¬ë·° ë„êµ¬</title>
      <link>https://sejoung.github.io/2024/08/2024-08-22-Software_Engineering_at_Google_CHAPTER_19/</link>
      <guid>https://sejoung.github.io/2024/08/2024-08-22-Software_Engineering_at_Google_CHAPTER_19/</guid>
      <pubDate>Thu, 22 Aug 2024 00:21:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-IV-ë„êµ¬&quot;&gt;&lt;a href=&quot;#Part-IV-ë„êµ¬&quot; class=&quot;headerlink&quot; title=&quot;Part IV ë„êµ¬&quot;&gt;&lt;/a&gt;Part IV ë„êµ¬&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-19-Critique-êµ¬ê¸€ì˜-ì½”ë“œ-ë¦¬ë·°-ë„êµ¬&quot;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-IV-ë„êµ¬"><a href="#Part-IV-ë„êµ¬" class="headerlink" title="Part IV ë„êµ¬"></a>Part IV ë„êµ¬</h1><h2 id="CHAPTER-19-Critique-êµ¬ê¸€ì˜-ì½”ë“œ-ë¦¬ë·°-ë„êµ¬"><a href="#CHAPTER-19-Critique-êµ¬ê¸€ì˜-ì½”ë“œ-ë¦¬ë·°-ë„êµ¬" class="headerlink" title="CHAPTER 19 Critique: êµ¬ê¸€ì˜ ì½”ë“œ ë¦¬ë·° ë„êµ¬"></a>CHAPTER 19 Critique: êµ¬ê¸€ì˜ ì½”ë“œ ë¦¬ë·° ë„êµ¬</h2><p>ì½”ë“œ ë¦¬ë·°ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì—ì„œ ì—†ì–´ì„œëŠ” ì•ˆ ë  ìš”ì†Œì…ë‹ˆë‹¤.<br>íŠ¹íˆ ì„±ì¥í•˜ê¸° ìœ„í•´ ë§¤ìš° ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤.</p><h3 id="ì½”ë“œ-ë¦¬ë·°-ë„êµ¬-ì›ì¹™"><a href="#ì½”ë“œ-ë¦¬ë·°-ë„êµ¬-ì›ì¹™" class="headerlink" title="ì½”ë“œ ë¦¬ë·° ë„êµ¬ ì›ì¹™"></a>ì½”ë“œ ë¦¬ë·° ë„êµ¬ ì›ì¹™</h3><ul><li>ê°„ê²°ì„±<ul><li>ê°€ì¥ í° ì˜í–¥ì„ ì¤€ ì›ì¹™</li></ul></li><li>ì‹ ë¢° ì œê³µ</li><li>ìµìˆ™í•œ ì†Œí†µ ë°©ì‹</li><li>ì›Œí¬í”Œë¡œ í†µí•©</li></ul><h3 id="ì½”ë“œ-ë¦¬ë·°-íë¦„"><a href="#ì½”ë“œ-ë¦¬ë·°-íë¦„" class="headerlink" title="ì½”ë“œ ë¦¬ë·° íë¦„"></a>ì½”ë“œ ë¦¬ë·° íë¦„</h3><ul><li>ë³€ê²½ ìƒì„±</li><li>ë¦¬ë·° ìš”ì²­</li><li>ë³€ê²½ ì´í•´í•˜ê³  ëŒ“ê¸€ ë‹¬ê¸°</li><li>ë³€ê²½ ìˆ˜ì • ë° ëŒ“ê¸€ì— ë‹µí•˜ê¸°</li><li>ë³€ê²½ ìŠ¹ì¸</li><li>ë³€ê²½ ì»¤ë°‹</li></ul><h3 id="1ë‹¨ê³„-ë³€ê²½-ìƒì„±"><a href="#1ë‹¨ê³„-ë³€ê²½-ìƒì„±" class="headerlink" title="1ë‹¨ê³„: ë³€ê²½ ìƒì„±"></a>1ë‹¨ê³„: ë³€ê²½ ìƒì„±</h3><ul><li>ë””í”„, ì°¨ì´ì  ë³´ì—¬ì£¼ê¸°</li><li>ë¶„ì„ ê²°ê³¼</li><li>ê¸´ë°€í•œ ë„êµ¬ í†µí•©<h3 id="2ë‹¨ê³„-ë¦¬ë·°-ìš”ì²­"><a href="#2ë‹¨ê³„-ë¦¬ë·°-ìš”ì²­" class="headerlink" title="2ë‹¨ê³„: ë¦¬ë·° ìš”ì²­"></a>2ë‹¨ê³„: ë¦¬ë·° ìš”ì²­</h3>ë¦¬ë·° ìš”ì²­ í• ë•Œ ë¦¬ë·°ì–´ ì„ ì •ì´ ì–´ë ¤ìš´ë° ë³„ì¹­ìœ¼ë¡œ ë¦¬ë·°ì–´ë¥¼ ì„ ì •í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.</li></ul><h3 id="3-4ë‹¨ê³„-ë³€ê²½-ì´í•´í•˜ê³ -ëŒ“ê¸€-ë‹¬ê¸°"><a href="#3-4ë‹¨ê³„-ë³€ê²½-ì´í•´í•˜ê³ -ëŒ“ê¸€-ë‹¬ê¸°" class="headerlink" title="3~4ë‹¨ê³„: ë³€ê²½ ì´í•´í•˜ê³  ëŒ“ê¸€ ë‹¬ê¸°"></a>3~4ë‹¨ê³„: ë³€ê²½ ì´í•´í•˜ê³  ëŒ“ê¸€ ë‹¬ê¸°</h3><ul><li><p>ëŒ“ê¸€ë‹¬ê¸°</p></li><li><p>ë³€ê²½ì˜ ìƒíƒœ ì´í•´í•˜ê¸°</p><ul><li>ëˆ„êµ¬ ì°¨ë¡€ ê¸°ëŠ¥</li><li>ëŒ€ì‹œë³´ë“œ ì™€ ê²€ìƒ‰ ì‹œìŠ¤í…œ<h3 id="5ë‹¨ê³„-ë³€ê²½-ìŠ¹ì¸-ë³€ê²½ì—-ì ìˆ˜-ë§¤ê¸°ê¸°"><a href="#5ë‹¨ê³„-ë³€ê²½-ìŠ¹ì¸-ë³€ê²½ì—-ì ìˆ˜-ë§¤ê¸°ê¸°" class="headerlink" title="5ë‹¨ê³„: ë³€ê²½ ìŠ¹ì¸(ë³€ê²½ì— ì ìˆ˜ ë§¤ê¸°ê¸°)"></a>5ë‹¨ê³„: ë³€ê²½ ìŠ¹ì¸(ë³€ê²½ì— ì ìˆ˜ ë§¤ê¸°ê¸°)</h3>êµ¬ê¸€ì—ì„œ ë³€ê²½ì— ì ìˆ˜ë¥¼ ë§¤ê¸¸ ë•Œ ê³ ë ¤í•˜ëŠ” ìš”ì†Œ</li></ul></li><li><p>LGTM</p></li><li><p>ìŠ¹ì¸</p></li><li><p>ë¯¸í•´ê²° ëŒ“ê¸€ ê°œìˆ˜</p></li></ul><h3 id="6ë‹¨ê³„-ë³€ê²½-ì»¤ë°‹"><a href="#6ë‹¨ê³„-ë³€ê²½-ì»¤ë°‹" class="headerlink" title="6ë‹¨ê³„: ë³€ê²½ ì»¤ë°‹"></a>6ë‹¨ê³„: ë³€ê²½ ì»¤ë°‹</h3><ul><li>ì»¤ë°‹ í›„ : ë±ê± ì´ë ¥ ì¶”ì </li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/08/2024-08-22-Software_Engineering_at_Google_CHAPTER_19/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 18 ë¹Œë“œ ì‹œìŠ¤í…œê³¼ ë¹Œë“œ ì² í•™</title>
      <link>https://sejoung.github.io/2024/08/2024-08-19-Software_Engineering_at_Google_CHAPTER_18/</link>
      <guid>https://sejoung.github.io/2024/08/2024-08-19-Software_Engineering_at_Google_CHAPTER_18/</guid>
      <pubDate>Mon, 19 Aug 2024 00:42:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-IV-ë„êµ¬&quot;&gt;&lt;a href=&quot;#Part-IV-ë„êµ¬&quot; class=&quot;headerlink&quot; title=&quot;Part IV ë„êµ¬&quot;&gt;&lt;/a&gt;Part IV ë„êµ¬&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-18-ë¹Œë“œ-ì‹œìŠ¤í…œê³¼-ë¹Œë“œ-ì² í•™&quot;&gt;&lt;a href
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-IV-ë„êµ¬"><a href="#Part-IV-ë„êµ¬" class="headerlink" title="Part IV ë„êµ¬"></a>Part IV ë„êµ¬</h1><h2 id="CHAPTER-18-ë¹Œë“œ-ì‹œìŠ¤í…œê³¼-ë¹Œë“œ-ì² í•™"><a href="#CHAPTER-18-ë¹Œë“œ-ì‹œìŠ¤í…œê³¼-ë¹Œë“œ-ì² í•™" class="headerlink" title="CHAPTER 18 ë¹Œë“œ ì‹œìŠ¤í…œê³¼ ë¹Œë“œ ì² í•™"></a>CHAPTER 18 ë¹Œë“œ ì‹œìŠ¤í…œê³¼ ë¹Œë“œ ì² í•™</h2><p>êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ì—ê²Œ ë¹Œë“œì‹œìŠ¤í…œì€ ì‚¬ë‘ì´ë‹¤</p><h3 id="ë¹Œë“œ-ì‹œìŠ¤í…œì˜-ëª©ì "><a href="#ë¹Œë“œ-ì‹œìŠ¤í…œì˜-ëª©ì " class="headerlink" title="ë¹Œë“œ ì‹œìŠ¤í…œì˜ ëª©ì "></a>ë¹Œë“œ ì‹œìŠ¤í…œì˜ ëª©ì </h3><p>ë¹Œë“œ ì‹œìŠ¤í…œì˜ ëª©ì </p><ul><li>ì†ë„ : ê°œë°œìê°€ ëª…ë ¹ í•˜ë‚˜ë¡œ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê³  ëª‡ ì´ˆì•ˆì— ê²°ê³¼ ë°”ì´ë„ˆë¦¬ë¥¼ ì–»ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.</li><li>ì •í™•ì„± : ì†ŒìŠ¤ íŒŒì¼ê³¼ ê¸°íƒ€ ì…ë ¥ ë°ì´í„°ê°€ ê°™ë‹¤ë©´ ëª¨ë“  ê°œë°œìê°€ ì–´ë–¤ ì»´í“¨í„°ì—ì„œ ë¹Œë“œí•˜ë”ë¼ê³  í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë‚´ì–´ì•¼ í•œë‹¤</li></ul><h3 id="ë¹Œë“œ-ì‹œìŠ¤í…œì´-ì—†ë‹¤ë©´"><a href="#ë¹Œë“œ-ì‹œìŠ¤í…œì´-ì—†ë‹¤ë©´" class="headerlink" title="ë¹Œë“œ ì‹œìŠ¤í…œì´ ì—†ë‹¤ë©´?"></a>ë¹Œë“œ ì‹œìŠ¤í…œì´ ì—†ë‹¤ë©´?</h3><p>ë¹Œë“œ í™˜ê²½ ì—†ì´ í”„ë¡œì íŠ¸ ê·œëª¨ë¥¼ í™•ì¥í•˜ë ¤ ë“¤ë©´ ì˜¨ê°– ë‚œê´€ì— ë¶€ë”ªíˆê²Œ ëœë‹¤</p><h4 id="ì»´íŒŒì¼ëŸ¬ë¡œ-ì¶©ë¶„í•˜ì§€-ì•Šë‚˜"><a href="#ì»´íŒŒì¼ëŸ¬ë¡œ-ì¶©ë¶„í•˜ì§€-ì•Šë‚˜" class="headerlink" title="ì»´íŒŒì¼ëŸ¬ë¡œ ì¶©ë¶„í•˜ì§€ ì•Šë‚˜?"></a>ì»´íŒŒì¼ëŸ¬ë¡œ ì¶©ë¶„í•˜ì§€ ì•Šë‚˜?</h4><p>ì˜ì¡´ ê´€ê³„ê°€ ì¡°ê¸ˆë§Œ ë³µì¡í•´ì ¸ë„ ê·€ì°®ê³  ì˜¤ë¥˜ê°€ ì¦ì€ ì‘ì—…ì´ë‹¤</p><h4 id="ì‰˜-ìŠ¤í¬ë¦½íŠ¸ê°€-ì¶œë™í•œë‹¤ë©´"><a href="#ì‰˜-ìŠ¤í¬ë¦½íŠ¸ê°€-ì¶œë™í•œë‹¤ë©´" class="headerlink" title="ì‰˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶œë™í•œë‹¤ë©´?"></a>ì‰˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶œë™í•œë‹¤ë©´?</h4><ul><li>ì§€ë£¨í•´ì§„ë‹¤</li><li>ëŠë¦¬ë‹¤</li></ul><h3 id="ëª¨ë˜-ë¹Œë“œ-ì‹œìŠ¤í…œ"><a href="#ëª¨ë˜-ë¹Œë“œ-ì‹œìŠ¤í…œ" class="headerlink" title="ëª¨ë˜ ë¹Œë“œ ì‹œìŠ¤í…œ"></a>ëª¨ë˜ ë¹Œë“œ ì‹œìŠ¤í…œ</h3><ul><li>í•µì‹¬ì€ ì˜ì¡´ì„±</li><li>íƒœìŠ¤í¬ ê¸°ë°˜ ë¹Œë“œ ì‹œìŠ¤í…œ<ul><li>ë‹¨ì <ul><li>ë¹Œë“œ ë‹¨ê³„ë“¤ì„ ë³‘ë ¬ë¡œ ì‹±í–‰í•˜ê¸° ì–´ë µë‹¤</li><li>ì¦ë¶„ ë¹Œë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ì–´ë µë‹¤</li><li>ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìœ ì§€ë³´ìˆ˜í•˜ê³  ë””ë²„ê¹…í•˜ê¸° ì–´ë µë‹¤</li></ul></li></ul></li><li>ì•„í‹° íŒ©íŠ¸ ê¸°ë°˜ ë¹Œë“œ ì‹œìŠ¤í…œ<ul><li>ë„êµ¬ë„ ì˜ì¡´ì„±ìœ¼ë¡œ ì·¨ê¸‰</li><li>ë¹Œë“œ ì‹œìŠ¤í…œ í™•ì¥í•˜ê¸°</li><li>ì™¸ë¶€ ì˜ì¡´ì„± ëª…í™•íˆ ë“œëŸ¬ë‚´ê¸°<h3 id="ëª¨ë“ˆê³¼-ì˜ì¡´ì„±-ë‹¤ë£¨ê¸°"><a href="#ëª¨ë“ˆê³¼-ì˜ì¡´ì„±-ë‹¤ë£¨ê¸°" class="headerlink" title="ëª¨ë“ˆê³¼ ì˜ì¡´ì„± ë‹¤ë£¨ê¸°"></a>ëª¨ë“ˆê³¼ ì˜ì¡´ì„± ë‹¤ë£¨ê¸°</h3></li></ul></li><li>ì‘ì€ ëª¨ë“ˆ ì‚¬ìš©ê³¼ 1:1:1 ê·œì¹™</li><li>ëª¨ë“ˆ ê°€ì‹œì„± ìµœì†Œí™”</li><li>ì˜ì¡´ì„±ê´€ë¦¬<ul><li>ë‚´ë¶€ ì˜ì¡´ì„±</li><li>ì™¸ë¶€ ì˜ì¡´ì„±<ul><li>ì›-ë²„ì „ ê·œì¹™</li><li>ì „ì´ ì™¸ë¶€ ì˜ì¡´ì„±</li><li>ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì´ìš©í•´ ë¹Œë“œ ê²°ê³¼ ìºì‹œ</li><li>ì™¸ë¶€ ì˜ì¡´ì„±ì˜ ë³´ì•ˆê³¼ ì•ˆì •ì„±</li></ul></li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/08/2024-08-19-Software_Engineering_at_Google_CHAPTER_18/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 17 Code Search</title>
      <link>https://sejoung.github.io/2024/08/2024-08-16-Software_Engineering_at_Google_CHAPTER_17/</link>
      <guid>https://sejoung.github.io/2024/08/2024-08-16-Software_Engineering_at_Google_CHAPTER_17/</guid>
      <pubDate>Fri, 16 Aug 2024 00:27:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-IV-ë„êµ¬&quot;&gt;&lt;a href=&quot;#Part-IV-ë„êµ¬&quot; class=&quot;headerlink&quot; title=&quot;Part IV ë„êµ¬&quot;&gt;&lt;/a&gt;Part IV ë„êµ¬&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-17-Code-Search&quot;&gt;&lt;a href=&quot;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-IV-ë„êµ¬"><a href="#Part-IV-ë„êµ¬" class="headerlink" title="Part IV ë„êµ¬"></a>Part IV ë„êµ¬</h1><h2 id="CHAPTER-17-Code-Search"><a href="#CHAPTER-17-Code-Search" class="headerlink" title="CHAPTER 17 Code Search"></a>CHAPTER 17 Code Search</h2><p>êµ¬ê¸€ì´ ì´ìš©í•˜ëŠ” ì½”ë“œ ë¸Œë¼ìš°ì§• ë° ê²€ìƒ‰ ë„êµ¬</p><h3 id="Code-Search-UI"><a href="#Code-Search-UI" class="headerlink" title="Code Search UI"></a>Code Search UI</h3><p>í•µì‹¬ìš”ì†ŒëŠ” ê²€ìƒ‰ì°½</p><p>íŒŒì¼ í•˜ë‚˜ë¥¼ ë“¤ì—¬ë‹¤ ë³¼ë•Œ ëŒ€ë¶€ë¶„ì€ í† í°ì„ ë°”ë¡œ í´ë¦­í•˜ì—¬ ê´€ë ¨ ì •ë³´ë¡œ ë¹ ë¥´ê²Œ ì´ë™ í• ìˆ˜ ìˆë‹¤</p><ul><li>ì´ìŠˆ íŠ¸ë˜ì»¤</li><li>ì½”ë“œ ì°¸ì¡° í´ë˜ìŠ¤</li></ul><h3 id="êµ¬ê¸€-ê°œë°œìê°€-Code-Searchë¥¼-ì´ìš©í•˜ëŠ”-ë°©ë²•"><a href="#êµ¬ê¸€-ê°œë°œìê°€-Code-Searchë¥¼-ì´ìš©í•˜ëŠ”-ë°©ë²•" class="headerlink" title="êµ¬ê¸€ ê°œë°œìê°€ Code Searchë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•"></a>êµ¬ê¸€ ê°œë°œìê°€ Code Searchë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•</h3><p>ì½”ë“œì— ëŒ€í•œ ë‹µì„ ì°¾ê³  ì½”ë“œì˜ ì˜ë„ë¥¼ ë¶„ëª…í•˜ê²Œ ì´í•´í•˜ëŠ”ê²ƒ</p><ul><li>ì–´ë””ì—?</li><li>ë¬´ì—‡ì„</li><li>ì–´ë–»ê²Œ</li><li>ì™œ?</li><li>ëˆ„ê°€ ì–¸ì œ?</li></ul><h3 id="ë…ë¦½ëœ-ì›¹-ë„êµ¬ë¡œ-ë§Œë“ -ì´ìœ "><a href="#ë…ë¦½ëœ-ì›¹-ë„êµ¬ë¡œ-ë§Œë“ -ì´ìœ " class="headerlink" title="ë…ë¦½ëœ ì›¹ ë„êµ¬ë¡œ ë§Œë“  ì´ìœ "></a>ë…ë¦½ëœ ì›¹ ë„êµ¬ë¡œ ë§Œë“  ì´ìœ </h3><ul><li>ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ ì§€ì›</li><li>ì„¤ì • ì—†ì´ ëª¨ë“  ì½”ë“œ ë³´ê¸°</li><li>ê¸°ëŠ¥ íŠ¹í™”</li><li>ë‹¤ë¥¸ ë„êµ¬ì— í†µí•©</li><li>API ì œê³µ</li></ul><h3 id="ê·œëª¨ê°€-ì„¤ê³„ì—-ë¯¸ì¹˜ëŠ”-ì˜í–¥"><a href="#ê·œëª¨ê°€-ì„¤ê³„ì—-ë¯¸ì¹˜ëŠ”-ì˜í–¥" class="headerlink" title="ê·œëª¨ê°€ ì„¤ê³„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥"></a>ê·œëª¨ê°€ ì„¤ê³„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥</h3><ul><li>ê²€ìƒ‰ ì¿¼ë¦¬ ì§€ì—°ì‹œê°„</li><li>ì¸ë±ì‹± ì§€ì—°ì‹œê°„</li></ul><h3 id="êµ¬ê¸€ì€-ì–´ë–»ê²Œ-êµ¬í˜„í–ˆë‚˜"><a href="#êµ¬ê¸€ì€-ì–´ë–»ê²Œ-êµ¬í˜„í–ˆë‚˜" class="headerlink" title="êµ¬ê¸€ì€ ì–´ë–»ê²Œ êµ¬í˜„í–ˆë‚˜?"></a>êµ¬ê¸€ì€ ì–´ë–»ê²Œ êµ¬í˜„í–ˆë‚˜?</h3><ul><li>ê²€ìƒ‰ ì¸ë±ìŠ¤<ul><li>ì´ˆê¸°ì—” íŠ¸ë¼ì´ê·¸ë¨ ê¸°ë°˜ì˜ ë°©ì‹</li><li>ì»¤ìŠ¤í…€í•œ ì ‘ë¯¸ì‚¬ ë°°ì—´</li></ul></li><li>ë­í‚¹<ul><li>ì¿¼ë¦¬ ë…ë¦½ì  ì‹œê·¸ë„<ul><li>íŒŒì¼ ì¡°íšŒìˆ˜</li><li>íŒŒì¼ë¡œì˜ ì°¸ì¡°ëŸ‰</li></ul></li><li>ì¿¼ë¦¬ ì˜ì¡´ì  ì‹œê·¸ë„</li><li>ê²€ì¶œ</li><li>ê²°ê³¼ ë‹¤ì–‘ì„±<h3 id="êµ¬ê¸€ì´-ì„ íƒí•œ-íŠ¸ë ˆì´ë“œì˜¤í”„"><a href="#êµ¬ê¸€ì´-ì„ íƒí•œ-íŠ¸ë ˆì´ë“œì˜¤í”„" class="headerlink" title="êµ¬ê¸€ì´ ì„ íƒí•œ íŠ¸ë ˆì´ë“œì˜¤í”„"></a>êµ¬ê¸€ì´ ì„ íƒí•œ íŠ¸ë ˆì´ë“œì˜¤í”„</h3></li></ul></li><li>ì™„ë²½ì„±<ul><li>í—¤ë“œ ë¦¬í¬ì§€í„°ë¦¬</li><li>ì „ë¶€ vs ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ê²°ê³¼ë§Œ</li><li>í—¤ë“œ vs ë¸Œëœì¹˜ vs ëª¨ë“  ë³€ê²½ ì´ë ¥ vs ì‘ì—… ê³µê°„</li></ul></li><li>í‘œí˜„ë ¥<ul><li>í† í° vs ë¶€ë¶„ ë¬¸ìì—´ vs ì •ê·œ í‘œí˜„ì‹</li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/08/2024-08-16-Software_Engineering_at_Google_CHAPTER_17/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 16 ë²„ì „ ê´€ë¦¬ì™€ ë¸Œëœì¹˜ ê´€ë¦¬</title>
      <link>https://sejoung.github.io/2024/08/2024-08-12-Software_Engineering_at_Google_CHAPTER_16/</link>
      <guid>https://sejoung.github.io/2024/08/2024-08-12-Software_Engineering_at_Google_CHAPTER_16/</guid>
      <pubDate>Mon, 12 Aug 2024 00:35:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-IV-ë„êµ¬&quot;&gt;&lt;a href=&quot;#Part-IV-ë„êµ¬&quot; class=&quot;headerlink&quot; title=&quot;Part IV ë„êµ¬&quot;&gt;&lt;/a&gt;Part IV ë„êµ¬&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-16-ë²„ì „-ê´€ë¦¬ì™€-ë¸Œëœì¹˜-ê´€ë¦¬&quot;&gt;&lt;a href
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-IV-ë„êµ¬"><a href="#Part-IV-ë„êµ¬" class="headerlink" title="Part IV ë„êµ¬"></a>Part IV ë„êµ¬</h1><h2 id="CHAPTER-16-ë²„ì „-ê´€ë¦¬ì™€-ë¸Œëœì¹˜-ê´€ë¦¬"><a href="#CHAPTER-16-ë²„ì „-ê´€ë¦¬ì™€-ë¸Œëœì¹˜-ê´€ë¦¬" class="headerlink" title="CHAPTER 16 ë²„ì „ ê´€ë¦¬ì™€ ë¸Œëœì¹˜ ê´€ë¦¬"></a>CHAPTER 16 ë²„ì „ ê´€ë¦¬ì™€ ë¸Œëœì¹˜ ê´€ë¦¬</h2><p>ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì€ ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë§ ë„êµ¬</p><p>íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œ(Trunk-Based Development)ì´ í™•ì¥ì„±ì´ ë›°ì–´ë‚˜ê¸°ì— ê·¸ ì´ìœ ì™€ í•¨ê¹¨ ëª‡ê°€ì§€ ì œì•ˆ</p><h3 id="ë²„ì „-ê´€ë¦¬ë€"><a href="#ë²„ì „-ê´€ë¦¬ë€" class="headerlink" title="ë²„ì „ ê´€ë¦¬ë€?"></a>ë²„ì „ ê´€ë¦¬ë€?</h3><p>VCS(Version Control System)ì€ íŒŒì¼ì˜ ì‹œê°„ì— ë”°ë¥¸ ë³€ê²½ ê¸°ë¡ì„ ì¶”ì í•˜ëŠ” ì‹œìŠ¤í…œ<br>í•©ì˜ëœ ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›(Single Source of Truth)ì„ ì œê³µ</p><h4 id="ë²„ì „ê´€ë¦¬ê°€-ì¤‘ìš”í•œ-ì´ìœ "><a href="#ë²„ì „ê´€ë¦¬ê°€-ì¤‘ìš”í•œ-ì´ìœ " class="headerlink" title="ë²„ì „ê´€ë¦¬ê°€ ì¤‘ìš”í•œ ì´ìœ "></a>ë²„ì „ê´€ë¦¬ê°€ ì¤‘ìš”í•œ ì´ìœ </h4><p>ë²„ì „ê´€ë¦¬ëŠ” ë””ì§€í„¸ í˜‘ì—…ì´ë¼ëŠ” ìƒˆë¡œìš´ ì—…ë¬´ë°©ì‹±ì„ ë°œì „ì‹œí‚¤ëŠ” ê³¼ì •ì—ì„œ í•¨ê»˜ ì§„í™”í–ˆë‹¤</p><p>ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´ë§ì€ í”„ë¡œê·¸ë˜ë°ì— ì‹œê°„ì˜ íë¦„ì„ í†µí•©í•œ ê°œë…ì´ë‹¤<br>ì†ŒìŠ¤ ì½”ë“œ ìƒì„±ê³¼ ì œí’ˆì„ ì¥ê¸°ê°„ ì§€ì† ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ë‹¤ë¥´ê²Œ ë³´ê³  ìˆë‹¤</p><p>ë²„ì „ì„ ê´€ë¦¬í•˜ë ¤ë©´ ë¹„ìš©ì´ ë“ ë‹¤ í•˜ì§€ë§Œ ì´ ë¹„ìš©ì€ ì•„ì£¼ ì €ë ´í•˜ë‹¤</p><h4 id="ì¤‘ì•™ì§‘ì¤‘í˜•-VCS-vs-ë¶„ì‚°í˜•-VCS"><a href="#ì¤‘ì•™ì§‘ì¤‘í˜•-VCS-vs-ë¶„ì‚°í˜•-VCS" class="headerlink" title="ì¤‘ì•™ì§‘ì¤‘í˜• VCS vs ë¶„ì‚°í˜• VCS"></a>ì¤‘ì•™ì§‘ì¤‘í˜• VCS vs ë¶„ì‚°í˜• VCS</h4><ul><li>ì¤‘ì•™ì§‘ì¤‘í˜• VCS<ul><li>ë‹¨ í•˜ë‚˜ì˜ ì¤‘ì•™ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” ëª¨ë¸</li><li>CVS, Subversion</li></ul></li><li>ë¶„ì‚°í˜• VCS<ul><li>ê° ê°œë°œìê°€ ìì‹ ì˜ ë¡œì»¬ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ê°€ì§€ê³  ì¤‘ì•™ ë¦¬í¬ì§€í„°ë¦¬ì™€ ë™ê¸°í™”í•˜ëŠ” ëª¨ë¸</li><li>Git, Mercurial</li></ul></li><li>ì§„ì‹¤ ê³µê¸‰ì›<ul><li>ì¤‘ì•™ì§‘ì¤‘í˜• VCSëŠ” ì§„ì‹± ê³µê¸‰ì›ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤</li><li>ë¶„ì‚°í˜• VCSëŠ” ì§„ì‹¤ ê³µê¸‰ì›ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤<h4 id="ë²„ì „-ê´€ë¦¬-VS-ì˜ì¡´ì„±-ê´€ë¦¬"><a href="#ë²„ì „-ê´€ë¦¬-VS-ì˜ì¡´ì„±-ê´€ë¦¬" class="headerlink" title="ë²„ì „ ê´€ë¦¬ VS ì˜ì¡´ì„± ê´€ë¦¬"></a>ë²„ì „ ê´€ë¦¬ VS ì˜ì¡´ì„± ê´€ë¦¬</h4>ì°¨ì´ì </li></ul></li><li>VCSëŠ” ì£¼ë¡œ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í• ì§€ë¥¼ ë‹¤ë£¨ê³  ëŒ€ì²´ë¡œ í›¨ì”¬ ì„¸ì„¸í•˜ê²Œ ê´€ë¦¬</li><li>ì˜ì¡´ì„± ê´€ë¦¬ëŠ” í›¨ì”¬ ì–´ë µë‹¤ ë‹¤ë¥¸ ì¡°ì§ì—ì„œ í†µì œí•˜ëŠ” í”„ë¡œì íŠ¸ë“¤ì„ ê´€ë¦¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸</li></ul><h3 id="ë¸Œëœì¹˜-ê´€ë¦¬"><a href="#ë¸Œëœì¹˜-ê´€ë¦¬" class="headerlink" title="ë¸Œëœì¹˜ ê´€ë¦¬"></a>ë¸Œëœì¹˜ ê´€ë¦¬</h3><p>ìƒì´í•œ ë²„ì „ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ì„ í†µí‹€ì–´ ê´€ë¦¬ ë°©ì‹ì„ í†µí‹€ì–´ ë¸Œëœì¹˜ ê´€ë¦¬ê°€ê³  í•œë‹¤</p><ul><li>ì§„í–‰ ì¤‘ì¸ ì‘ì—…ì€ ë¸Œëœì¹˜ì™€ ë¹„ìŠ·í•˜ë‹¤</li><li>ê°œë°œ ë¸Œëœì¹˜<ul><li>êµ¬í˜„ì€ ë‹¤í–ˆì§€ë§Œ ì»¤ë©‹í•˜ì§€ ì•Šì•˜ì–´ìš” ì™€ ì´ì œë¶€í„° ì´ì½”ë“œ ê¸°ì¤€ìœ¼ë¡œ ê°œë°œí•˜ì„¸ìš”ì˜ ì¤‘ê°„ë‹¨ê³„</li><li>ê°œë°œ ë¸Œëœì¹˜ì— ì˜ì¡´í•˜ëŠ” ë°©ì‹ì€ í™•ì¥í•˜ëŠ” í•œê³„ê°€ ìˆë‹¤</li></ul></li><li>ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜<ul><li>í•˜ë£¨ì—ë„ ëª‡ë²ˆì”© ë¦´ë¦¬ìŠ¤í•  ìˆ˜ ìˆëŠ” ì§€ì†ì  ë°°í¬ê°€ ì˜ ìë¦¬ ì¡ì€ ì¡°ì§ì—ì„œëŠ” ëŒ€ì²´ë¡œ ë¦´ë¦¬ìŠ¤ ë¸Œëœì¹˜ë¥¼ ê±´ë„ˆ ë›´ë‹¤</li></ul></li></ul><h3 id="ë²„ì „-ê´€ë¦¬-êµ¬ê¸€"><a href="#ë²„ì „-ê´€ë¦¬-êµ¬ê¸€" class="headerlink" title="ë²„ì „ ê´€ë¦¬ @ êµ¬ê¸€"></a>ë²„ì „ ê´€ë¦¬ @ êµ¬ê¸€</h3><p>êµ¬ê¸€ì˜ ì†ŒìŠ¤ ì½”ë“œ ëŒ€ë¶€ë¶„ì€ í•˜ë‚˜ì˜ ë¦¬í¬ì§€í„°ë¦¬ ì¦‰ ëª¨ë…¸ë¦¬í¬ì—ì„œ ê´€ë¦¬ ë¨</p><ul><li>ì› ë²„ì „<ul><li>ëª¨ë“  ì˜ì¡´ì„±ì˜ ìš°ë¦¬ ë¦¬í¬ì§€í„°ë¦¬ì— ë‹´ê²¨ ìˆê³  ê° ì˜ì¡´ì„±ì€ ë‹¨í•˜ë‚˜ì˜ ì•ˆì •ëœ ë²„ì „ë§Œ ì¡´ì¬í•´ì•¼ ë¨</li></ul></li><li>ì‹œë‚˜ë¦¬ì˜¤ ì—¬ëŸ¬ ë²„ì „ì„ í—ˆìš©í•œë‹¤ë©´<ul><li>ì—¬ëŸ¬ ë²„ì „ì— ì˜ì¡´í•˜ë”ë¼ê³  ì‹¤í–‰ íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™ë˜ë„ë¡ í•´ì£¼ëŠ” íŠ¸ë¦­ì´ ì‚¬ìš©ëœë‹¤(ì‰ì´ë”©)</li></ul></li><li>ì›ë²„ì „ ê·œì¹™<ul><li>ê°œë°œìê°€ ì´ êµ¬ì„±ìš”ì†ŒëŠ” ì–´ë–¤ ë²„ì „ì„ ì‚¬ìš©í•´ì•¼ í•˜ì£ ?ë¼ê³  ë¬»ëŠ” ìƒí™©ì„ ë§Œë“¤ì§€ ì•Šì•„ì•¼ ëœë‹¤</li></ul></li><li>ì¥ìˆ˜ ë¸Œëœì¹˜ëŠ” ì›¬ë§Œí•˜ë©´ ê¸ˆì§€<ul><li>ë¹Œë“œ í˜¸ë¼ì´ì¦Œ ì •ì±…</li><li>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ êµ¬ë™ ì¤‘ì¸ ëª¨ë“  ì œí’ˆì€ ìµœëŒ€ 6ê°œì›” ì•ˆì— ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ ì¬ë°°í¬ í•´ì•¼ ë¨</li></ul></li><li>ë¦´ë¦¬ì¦ˆ ë¸ŒëŸ°ì¹˜ëŠ”?<ul><li>ë§ì€ íŒ€ì´ ë¦´ë¦¬ì¦ˆ ë¸Œëœì¹˜ë¥¼ ì´ìš©í•˜ê³  ìµœì†Œí•œì˜ ìˆ˜ì •ë§Œ ë°˜ì˜í•œë‹¤</li></ul></li></ul><h3 id="ëª¨ë…¸ë¦¬í¬-ë‹¨ì¼-ë¦¬í¬ì§€í„°ë¦¬"><a href="#ëª¨ë…¸ë¦¬í¬-ë‹¨ì¼-ë¦¬í¬ì§€í„°ë¦¬" class="headerlink" title="ëª¨ë…¸ë¦¬í¬(ë‹¨ì¼ ë¦¬í¬ì§€í„°ë¦¬)"></a>ëª¨ë…¸ë¦¬í¬(ë‹¨ì¼ ë¦¬í¬ì§€í„°ë¦¬)</h3><p>ëª¨ë…¸ë¦¬í¬ì˜ ì¥ì </p><ul><li>ì›-ë²„ì „ì„ ê³ ìˆ˜í•˜ê¸°ê°€ ì‰½ë‹¤.</li><li>ê³µì‹ë²„ì „ì´ë‚˜ ì¤‘ì‹¬ ì—­í• ì„ í•˜ëŠ” ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì°¾ëŠ” ê³¼ì •ì´ ë¶ˆí•„ìš”í•˜ë‹¤</li><li>í•œ ë§ˆë””ë¡œ ìš°ë¦¬ê°€ ë”°ë¥´ëŠ” ëª¨ë…¸ë¦¬í¬ ë°©ì‹ì´ ëª¨ë“  ì´ì—ê²Œ ì •ë‹µì¼ ìˆ˜ëŠ” ì—†ë‹¤<h3 id="ë²„ì „-ê´€ë¦¬ì˜-ë¯¸ë˜"><a href="#ë²„ì „-ê´€ë¦¬ì˜-ë¯¸ë˜" class="headerlink" title="ë²„ì „ ê´€ë¦¬ì˜ ë¯¸ë˜"></a>ë²„ì „ ê´€ë¦¬ì˜ ë¯¸ë˜</h3>ì„ íƒì—ëŠ” ëŒ€ê°€ê°€ ë”°ë¥¸ë‹¤</li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/08/2024-08-12-Software_Engineering_at_Google_CHAPTER_16/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 15 íê¸°</title>
      <link>https://sejoung.github.io/2024/08/2024-08-09-Software_Engineering_at_Google_CHAPTER_15/</link>
      <guid>https://sejoung.github.io/2024/08/2024-08-09-Software_Engineering_at_Google_CHAPTER_15/</guid>
      <pubDate>Fri, 09 Aug 2024 00:50:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-III-í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;a href=&quot;#Part-III-í”„ë¡œì„¸ìŠ¤&quot; class=&quot;headerlink&quot; title=&quot;Part III í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;/a&gt;Part III í”„ë¡œì„¸ìŠ¤&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-15-íê¸°&quot;&gt;&lt;a hre
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-III-í”„ë¡œì„¸ìŠ¤"><a href="#Part-III-í”„ë¡œì„¸ìŠ¤" class="headerlink" title="Part III í”„ë¡œì„¸ìŠ¤"></a>Part III í”„ë¡œì„¸ìŠ¤</h1><h2 id="CHAPTER-15-íê¸°"><a href="#CHAPTER-15-íê¸°" class="headerlink" title="CHAPTER 15 íê¸°"></a>CHAPTER 15 íê¸°</h2><p>ëª¨ë“  ì‹œìŠ¤í…œì€ ë‚˜ì´ë¥¼ ë¨¹ìŠµë‹ˆë‹¤.<br>ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë””ì§€í„¸ ìì‚°ì´ë¼ì„œ ë¬¼ë¦¬ì ì¸ ë¹„íŠ¸ë“¤ ìì²´ê°€ ëŠ™ì§€ ì•ŠëŠ”ë‹¤.</p><p>ì´ì£¼ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹œì¼œì„œ ë‚¡ì€ ì‹œìŠ¤í…œì„ ì™„ì „íˆ ê±·ì–´ë‚´ëŠ” ê³¼ì •ì€ íê¸°ë¼ í•œë‹¤</p><h3 id="íê¸°ì‹œí‚¤ëŠ”-ì´ìœ "><a href="#íê¸°ì‹œí‚¤ëŠ”-ì´ìœ " class="headerlink" title="íê¸°ì‹œí‚¤ëŠ” ì´ìœ "></a>íê¸°ì‹œí‚¤ëŠ” ì´ìœ </h3><p>ê¸°ë³¸ì „ì¬ëŠ” ì½”ë“œëŠ” ìì‚°ì´ ì•„ë‹ˆë¼ ë¶€ì±„ë‹¤ ë¼ëŠ” ê¸°ë³¸ ì „ì¬ì—ì„œ ì‹œì‘í•¨<br>ì½”ë“œê°€ ë¶€ì±„ê°€ ì•„ë‹ˆë¼ ìì‚°ì´ë©´ íê¸° ì‹œí‚¬ì´ìœ ê°€ ì–´ë”” ìˆì„ê¹Œ?</p><p>ì½”ë“œëŠ” ìì²´ëŠ” ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ ê°€ì¹˜ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê±´ ë°”ë¡œ ê¸°ëŠ¥<br>ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ì— ë¶€í•©í•˜ëŠ” ê¸°ëŠ¥ì€ ìì‚°ì´ë‹¤</p><p>íê¸°ëŒ€ìƒì„ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•œ ë‹¤ìŒ ì§‘ì¤‘í•´ì„œ ë¹ ë¥´ê²Œ ì™„ë£Œí•˜ëŠ”ê²Œ ì¤‘ìš”</p><h3 id="íê¸°ëŠ”-ì™œ-ê·¸ë¦¬-ì–´ë ¤ìš´ê°€"><a href="#íê¸°ëŠ”-ì™œ-ê·¸ë¦¬-ì–´ë ¤ìš´ê°€" class="headerlink" title="íê¸°ëŠ” ì™œ ê·¸ë¦¬ ì–´ë ¤ìš´ê°€?"></a>íê¸°ëŠ” ì™œ ê·¸ë¦¬ ì–´ë ¤ìš´ê°€?</h3><p>í•˜ì´ëŸ¼ì˜ ë²•ì¹™ì— ì˜í•´ ì‹œìŠ¤í…œì€ ì‚¬ìš©ì ìˆ˜ê°€ ëŠ˜ìˆ˜ë¡ ì„¤ê³„ìê°€ ì˜ˆìƒí•˜ì§€ ëª»í•œ ì „ì— ë³¸ ì  ì—†ëŠ” ë°©ì‹ìœ¼ë¡œ ì´ìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ</p><p>ë˜ë‹ˆê¹ ì“°ëŠ” ê¸°ëŠ¥ê³¼ í•¨ê»˜ ì´ë¥¼ ì˜ í™œìš©í•˜ë˜ ìˆ˜ë§ì€ ì‚¬ìš©ìê¹Œì§€ í•œêº¼ë²ˆì— ë–¼ì–´ë‚´ì–´ë²„ë¦°ë‹¤</p><p>ì˜›ì‹œìŠ¤í…œì— ëŒ€í•œ ì• ì°©ì´ ì˜ì™¸ì˜ ì €í•­ì´ ë ìˆ˜ ë„ ìˆë‹¤</p><p>ì •ì¹˜ë¼ëŠ” ê´€ë¬¸ë„ í†µê³¼ ì‹ ê¸°ëŠ¥ ê°œë°œì´ ì§€ì—°ëœë‹¤ë©´ íê¸°ì‹œí‚¤ëŠ” í¸ì´ ì˜¤íˆë ¤ ì´ë“ì„ì„ ì´í•´ê´€ê³„ìë“¤ì—ê²Œ ë‚©ë“ì‹œí‚¤ê¸°ê°€ ë”ìš± ì–´ë µë‹¤</p><ul><li>ì„¤ê³„ ë‹¨ê³„ì—ì„œì˜ íê¸°<ul><li>ë‚´ ì œí’ˆì˜ ê³ ê°ì´ ì ì¬ì ì¸ ëŒ€ì²´í’ˆìœ¼ë¡œ ì´ì£¼í•˜ê¸°ê°€ ì–¼ë§ˆë‚˜ ì‰¬ìš¸ê¹Œ?</li><li>ë‚´ ì‹œìŠ¤í…œì„ í•œ ë¶€ë¶„ì”© ì ì§„ì ìœ¼ë¡œ êµì²´í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?</li></ul></li></ul><h3 id="íê¸°-ìœ í˜•"><a href="#íê¸°-ìœ í˜•" class="headerlink" title="íê¸° ìœ í˜•"></a>íê¸° ìœ í˜•</h3><ul><li>ê¶Œê³  íê¸°<ul><li>í¬ë§ íê¸°</li></ul></li><li>ê°•ì œ íê¸°</li><li>íê¸° ê²½ê³ <ul><li>ì‹¤í–‰ ê°€ëŠ¥ì„± ê³¼ ì ì‹œì„± <h3 id="íê¸°-í”„ë¡œì„¸ìŠ¤-ê´€ë¦¬"><a href="#íê¸°-í”„ë¡œì„¸ìŠ¤-ê´€ë¦¬" class="headerlink" title="íê¸° í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬"></a>íê¸° í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬</h3></li></ul></li><li>í”„ë¡œì„¸ìŠ¤ ì†Œìœ ì</li><li>ë§ˆì¼ìŠ¤í†¤</li><li>íê¸° ë„êµ¬<ul><li>ë°œê²¬</li><li>ë§ˆì´ê·¸ë ˆì´ì…˜</li><li>í‡´í–‰ ë°©ì§€</li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/08/2024-08-09-Software_Engineering_at_Google_CHAPTER_15/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 14 ë” í° í…ŒìŠ¤íŠ¸</title>
      <link>https://sejoung.github.io/2024/07/2024-07-24-Software_Engineering_at_Google_CHAPTER_14/</link>
      <guid>https://sejoung.github.io/2024/07/2024-07-24-Software_Engineering_at_Google_CHAPTER_14/</guid>
      <pubDate>Wed, 24 Jul 2024 00:50:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-III-í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;a href=&quot;#Part-III-í”„ë¡œì„¸ìŠ¤&quot; class=&quot;headerlink&quot; title=&quot;Part III í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;/a&gt;Part III í”„ë¡œì„¸ìŠ¤&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-14-ë”-í°-í…ŒìŠ¤íŠ¸&quot;&gt;&lt;
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-III-í”„ë¡œì„¸ìŠ¤"><a href="#Part-III-í”„ë¡œì„¸ìŠ¤" class="headerlink" title="Part III í”„ë¡œì„¸ìŠ¤"></a>Part III í”„ë¡œì„¸ìŠ¤</h1><h2 id="CHAPTER-14-ë”-í°-í…ŒìŠ¤íŠ¸"><a href="#CHAPTER-14-ë”-í°-í…ŒìŠ¤íŠ¸" class="headerlink" title="CHAPTER 14 ë” í° í…ŒìŠ¤íŠ¸"></a>CHAPTER 14 ë” í° í…ŒìŠ¤íŠ¸</h2><p>í…ŒìŠ¤íŠ¸ë“¤ì´ ìì› ë‚­ë¹„ê°€ ì•„ë‹Œ ê°’ì§„ ìì‚°ì´ ë˜ê²Œë” í•˜ë ¤ë©´ ë˜ ë‹¤ë¥¸ ë‚œê´€ì„ ê·¹ë³µí•´ì•¼ ëœë‹¤</p><h3 id="ë”-í°-í…ŒìŠ¤íŠ¸ë€"><a href="#ë”-í°-í…ŒìŠ¤íŠ¸ë€" class="headerlink" title="ë” í° í…ŒìŠ¤íŠ¸ë€?"></a>ë” í° í…ŒìŠ¤íŠ¸ë€?</h3><p>ë” í° í…ŒìŠ¤íŠ¸ì˜ íŠ¹ì§•</p><ul><li>ëŠë¦´ ìˆ˜ ìˆë‹¤</li><li>ë°€íë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤</li><li>ë¹„ê²°ì •ì ì¼ ìˆ˜ ìˆë‹¤</li></ul><h4 id="ì¶©ì‹¤ì„±"><a href="#ì¶©ì‹¤ì„±" class="headerlink" title="ì¶©ì‹¤ì„±"></a>ì¶©ì‹¤ì„±</h4><p>í…ŒìŠ¤íŠ¸ê°€ ëŒ€ìƒì˜ ì‹¤ì œ í–‰ìœ„ë¥¼ ì–¼ë§ˆë‚˜ ì¶©ì‹¤í•˜ê²Œ ë°˜ì˜í–ˆëŠ”ëƒë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì†ì„±</p><h4 id="ë‹¨ìœ„-í…ŒìŠ¤íŠ¸ê°€-ì†-ëŒ€ê¸°-ì–´ë ¤ìš´-ì˜ì—­"><a href="#ë‹¨ìœ„-í…ŒìŠ¤íŠ¸ê°€-ì†-ëŒ€ê¸°-ì–´ë ¤ìš´-ì˜ì—­" class="headerlink" title="ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì† ëŒ€ê¸° ì–´ë ¤ìš´ ì˜ì—­"></a>ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì† ëŒ€ê¸° ì–´ë ¤ìš´ ì˜ì—­</h4><ul><li>ë¶€ì í™•í•œ í…ŒìŠ¤íŠ¸ ëŒ€ì—­</li><li>ì„¤ì • ë¬¸ì œ</li><li>ê³¼ë¶€í•˜ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œ</li><li>ì˜ˆê¸°ì¹˜ ëª»í•œ ë™ì‘ ì…ë ¥ ë¶€ì‘ìš©</li><li>ì°½ë°œì  í–‰ìœ„ì™€ ì§„ê³µ íš¨ê³¼</li></ul><h4 id="ë”-í°-í…ŒìŠ¤íŠ¸ë¥¼-ë§Œë“¤ì§€-ì•ŠëŠ”-ì´ìœ "><a href="#ë”-í°-í…ŒìŠ¤íŠ¸ë¥¼-ë§Œë“¤ì§€-ì•ŠëŠ”-ì´ìœ " class="headerlink" title="ë” í° í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” ì´ìœ "></a>ë” í° í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” ì´ìœ </h4><ul><li>ë†’ì€ ì‹ ë¢°ì„±</li><li>ë¹ ë¥¸ ì†ë„</li><li>ë†’ì€ í™•ì¥ì„±</li></ul><h3 id="ë”-í°-í…ŒìŠ¤íŠ¸-êµ¬ê¸€"><a href="#ë”-í°-í…ŒìŠ¤íŠ¸-êµ¬ê¸€" class="headerlink" title="ë” í° í…ŒìŠ¤íŠ¸ @ êµ¬ê¸€"></a>ë” í° í…ŒìŠ¤íŠ¸ @ êµ¬ê¸€</h3><ul><li>ë” í° í…ŒìŠ¤íŠ¸ì™€ ìˆ˜ëª…<ul><li>ì•„ì´ìŠ¤í¬ë¦¼ì½˜ í…ŒìŠ¤íŠ¸ ì•ˆí‹°íŒ¨í„´</li></ul></li><li>êµ¬ê¸€ ê·œëª¨ì—ì„œì˜ ë” í° í…ŒìŠ¤íŠ¸<ul><li>í†µí•© í…ŒìŠ¤íŠ¸ë¼ í•˜ë”ë¼ë„ ê°€ëŠ¥í•œ ì‘ì„ìˆ˜ë¡ ì¢‹ìŠµë‹ˆë‹¤<h3 id="í°-í…ŒìŠ¤íŠ¸ì˜-êµ¬ì¡°"><a href="#í°-í…ŒìŠ¤íŠ¸ì˜-êµ¬ì¡°" class="headerlink" title="í° í…ŒìŠ¤íŠ¸ì˜ êµ¬ì¡°"></a>í° í…ŒìŠ¤íŠ¸ì˜ êµ¬ì¡°</h3></li></ul></li></ul><ol><li>í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œ í™•ë³´</li><li>í•„ìš”í•œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„</li><li>ëŒ€ìƒ ì‹œìŠ¤í…œì„ ì´ìš©í•´ ë™ì‘ìˆ˜í–‰</li><li>í–‰ìœ„ ê²€ì¦</li></ol><ul><li>í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹œìŠ¤í…œ<ul><li>ë°€íì„±</li><li>ì¶©ì‹¤ì„±</li><li>ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ SUT</li><li>ë‹¨ì¼ ë¨¸ì‹  SUT</li><li>ë‹¤ì¤‘ ë¨¸ì‹  SUT</li><li>ê³µìœ í™˜ê²½</li><li>í•˜ì´ë¸Œë¦¬ë“œ</li></ul></li><li>ë°€íëœ SUTì˜ ì´ì <ul><li>í° í…ŒìŠ¤íŠ¸ì—ì„œ SUTëŠ” í…ŒìŠ¤íŠ¸ ì‹ ë¢°ì„±ì„ ë–¨ì–´ëœ¨ë¦¬ê³  í”¼ë“œë°± ì‹œê°„ì„ ëŠ˜ë¦¬ëŠ” ì£¼ë²”ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li></ul></li><li>ì¿¤ì œ ê²½ê³„ì—ì„œ SUT í¬ê¸° ì¤„ì´ê¸°<ul><li>í…ŒìŠ¤íŠ¸ í•˜ë‹¤ ë³´ë©´ ì›¬ë§Œí•´ì„œëŠ” í”¼í•´ì•¼í•  ê³ í†µìŠ¤ëŸ¬ìš´ ê²½ê³„ê°€ ì¡´ì¬í•¨</li></ul></li><li>ê¸°ë¡&#x2F;ì¬ìƒ í”„ë¡ì‹œ<ul><li>ë¹„ê²°ì •ì„±ì„ ì—†ì• ê¸° ìœ„í•´ ë§¤ì¹­ê¸°ë¥¼ ì´ìš©í•˜ì—¬ ìš”ì²­ì„ ë³´ê³  ê¸°ëŒ€í•˜ëŠ” ì‘ë‹µê³¼ ì¼ì¹˜ì‹œí‚¨ë‹¤</li></ul></li><li>í…ŒìŠ¤íŠ¸ ë°ì´í„°<ul><li>ì‹œë“œ ë°ì´í„°</li><li>í…ŒìŠ¤íŠ¸ íŠ¸ë˜í”½</li><li>ë„ë©”ì¸ ë°ì´í„°</li><li>í˜„ì‹¤ì ì¸ ê¸°ì¤€ì„ </li><li>ë°ì´í„° ê¸°ë¡ API</li><li>ì†ìˆ˜ ê°€ê³µí•œ ë°ì´í„°</li><li>ë³µì‚¬í•œ ë°ì´í„°</li><li>ìƒ˜í”Œë§í•œ ë°ì´í„°</li></ul></li><li>ê²€ì¦<ul><li>ìˆ˜ë™ ê²€ì¦</li><li>ë‹¨ì •ë¬¸</li><li>A&#x2F;B í…ŒìŠ¤íŠ¸</li></ul></li></ul><h3 id="ë”-í°-í…ŒìŠ¤íŠ¸-ìœ í˜•"><a href="#ë”-í°-í…ŒìŠ¤íŠ¸-ìœ í˜•" class="headerlink" title="ë” í° í…ŒìŠ¤íŠ¸ ìœ í˜•"></a>ë” í° í…ŒìŠ¤íŠ¸ ìœ í˜•</h3><ul><li>í•˜ë‚˜ ì´ìƒì˜ ë°”ì´ë„ˆë¦¬ì— ëŒ€í•œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸<ul><li>SUT : ë°€íëœ ë‹¨ì¼ ë¨¸ì‹  í˜¹ì€ ê²©ë¦¬ëœ í´ë¼ìš°ë“œ ë°°í¬</li><li>ë°ì´í„° : ìˆ˜ë™ ìƒì„±</li><li>ê²€ì¦ ë°©ì‹ : ë‹¨ì •ë¬¸</li></ul></li><li>ë¸Œë¼ìš°ì €ì™€ ê¸°ê¸° í…ŒìŠ¤íŠ¸</li><li>ì„±ëŠ¥, ë¶€í•˜, ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸<ul><li>SUT : ê²©ë¦¬ëœ í´ë¼ìš°ë“œì— ë°°í¬</li><li>ë°ì´í„° : ìˆ˜ë™ ìƒì„± í˜¹ì€ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë³µì‚¬</li><li>ê²€ì¦ ë°©ì‹ : ì°¨ì´ ë¹„êµ</li></ul></li><li>ë°°í¬ ì„¤ì • í…ŒìŠ¤íŠ¸<ul><li>SUT : ë°€íëœ ë‹¨ì¼ ë¨¸ì‹  í˜¹ì€ ê²©ë¦¬ëœ í´ë¼ìš°ë“œ ë°°í¬</li><li>ë°ì´í„° : ì—†ìŒ</li><li>ê²€ì¦ ë°©ì‹ : ë‹¨ì •ë¬¸(ë¹„ì •ìƒ ì¢…ë£ŒëŠ” í•˜ì§€ ì•ŠìŒ)</li><li>ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸</li></ul></li><li>íƒìƒ‰ì  í…ŒìŠ¤íŒ…<ul><li>í•œê³„</li><li>ë²„ê·¸ íŒŒí‹°</li></ul></li><li>A&#x2F;B ì°¨ì´(íšŒê·€) í…ŒìŠ¤íŠ¸</li><li>ì‚¬ìš©ì ì¸ìˆ˜ í…ŒìŠ¤íŠ¸</li><li>í”„ë¡œë²„ì™€ ì¹´ë‚˜ë¦¬ ë¶„ì„</li><li>ì¬í•´ ë³µêµ¬ì™€ ì¹´ì˜¤ìŠ¤ ì—”ì§€ë‹ˆì–´ë§</li><li>ì‚¬ìš©ì í‰ê°€</li></ul><h3 id="í°-í…ŒìŠ¤íŠ¸ì™€-ê°œë°œì-ì›Œí¬í”Œë¡œ"><a href="#í°-í…ŒìŠ¤íŠ¸ì™€-ê°œë°œì-ì›Œí¬í”Œë¡œ" class="headerlink" title="í° í…ŒìŠ¤íŠ¸ì™€ ê°œë°œì ì›Œí¬í”Œë¡œ"></a>í° í…ŒìŠ¤íŠ¸ì™€ ê°œë°œì ì›Œí¬í”Œë¡œ</h3><ul><li>í°í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ê¸°</li><li>í°í…ŒìŠ¤íŠ¸ ìˆ˜í–‰í•˜ê¸°<ul><li>í…ŒìŠ¤íŠ¸ ì†ë„ ê°œì„ í•˜ê¸°</li><li>ë¶ˆê·œì¹™í•œ ê²°ê³¼ì—ì„œ ë²—ì–´ë‚˜ê¸°</li><li>ì´í•´ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°</li></ul></li><li>í° í…ŒìŠ¤íŠ¸ì˜ ì†Œìœ ê¶Œ<ul><li>ë°˜ë“¯ì´ ì†Œìœ ìê°€ ë¬¸ì„œë¡œ ê¸°ë¡ë˜ì–´ ìˆì–´ì•¼ í•¨</li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/07/2024-07-24-Software_Engineering_at_Google_CHAPTER_14/#disqus_thread</comments>
    </item>
    
    <item>
      <title>CHAPTER 13 í…ŒìŠ¤íŠ¸ ëŒ€ì—­</title>
      <link>https://sejoung.github.io/2024/07/2024-07-09-Software_Engineering_at_Google_CHAPTER_13/</link>
      <guid>https://sejoung.github.io/2024/07/2024-07-09-Software_Engineering_at_Google_CHAPTER_13/</guid>
      <pubDate>Tue, 09 Jul 2024 00:45:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;Part-III-í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;a href=&quot;#Part-III-í”„ë¡œì„¸ìŠ¤&quot; class=&quot;headerlink&quot; title=&quot;Part III í”„ë¡œì„¸ìŠ¤&quot;&gt;&lt;/a&gt;Part III í”„ë¡œì„¸ìŠ¤&lt;/h1&gt;&lt;h2 id=&quot;CHAPTER-13-í…ŒìŠ¤íŠ¸-ëŒ€ì—­&quot;&gt;&lt;a
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Part-III-í”„ë¡œì„¸ìŠ¤"><a href="#Part-III-í”„ë¡œì„¸ìŠ¤" class="headerlink" title="Part III í”„ë¡œì„¸ìŠ¤"></a>Part III í”„ë¡œì„¸ìŠ¤</h1><h2 id="CHAPTER-13-í…ŒìŠ¤íŠ¸-ëŒ€ì—­"><a href="#CHAPTER-13-í…ŒìŠ¤íŠ¸-ëŒ€ì—­" class="headerlink" title="CHAPTER 13 í…ŒìŠ¤íŠ¸ ëŒ€ì—­"></a>CHAPTER 13 í…ŒìŠ¤íŠ¸ ëŒ€ì—­</h2><p>ë‹¨ìˆœí•œ ì½”ë“œë¼ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì „í˜€ ë¶€ë‹´ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ í•˜ì§€ë§Œ ëŒ€ìƒ ì½”ë“œê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸°ë„ ì–´ë ¤ì›Œì§„ë‹¤</p><p>í…ŒìŠ¤íŠ¸ ëŒ€ì—­ì€ ì‹¤ì œ êµ¬í˜„ ëŒ€ì‹  ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” ê°ì²´ë‚˜ í•¨ìˆ˜ë¥¼ ë§í•œë‹¤</p><h3 id="í…ŒìŠ¤íŠ¸-ëŒ€ì—­ì´-ì†Œí”„íŠ¸ì›¨ì–´-ê°œë°œì—-ë¯¸ì¹˜ëŠ”-ì˜í–¥"><a href="#í…ŒìŠ¤íŠ¸-ëŒ€ì—­ì´-ì†Œí”„íŠ¸ì›¨ì–´-ê°œë°œì—-ë¯¸ì¹˜ëŠ”-ì˜í–¥" class="headerlink" title="í…ŒìŠ¤íŠ¸ ëŒ€ì—­ì´ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì— ë¯¸ì¹˜ëŠ” ì˜í–¥"></a>í…ŒìŠ¤íŠ¸ ëŒ€ì—­ì´ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì— ë¯¸ì¹˜ëŠ” ì˜í–¥</h3><ul><li>í…ŒìŠ¤íŠ¸ ìš©ì´ì„±</li><li>ì ìš© ê°€ëŠ¥ì„±</li><li>ì¶©ì‹¤ì„±</li></ul><h3 id="í…ŒìŠ¤íŠ¸-ëŒ€ì—­-êµ¬ê¸€"><a href="#í…ŒìŠ¤íŠ¸-ëŒ€ì—­-êµ¬ê¸€" class="headerlink" title="í…ŒìŠ¤íŠ¸ ëŒ€ì—­ @ êµ¬ê¸€"></a>í…ŒìŠ¤íŠ¸ ëŒ€ì—­ @ êµ¬ê¸€</h3><p>í’ˆì§ˆì„ ë†’ì€ ì˜ˆë„ ë§ì§€ë§Œ ì˜ëª» í• ìš©í•˜ì—¬ ì—­íš¨ê³¼ë¥¼ ë‚¸ ì˜ˆë„ ëª»ì§€ ì•Šë‹¤</p><ul><li>ì—”ì§€ë‹ˆì–´ê°€ ê´€í–‰ë“¤ì— ìµìˆ™í•˜ì§€ ì•ŠëŠ”ë‹¤</li><li>ì½”ë“œë² ì´ìŠ¤ê°€ ê´€í–‰ì„ ë”°ë¥´ê¸°ì— ì í•©í•˜ì§€ ì•Šê²Œ ì‘ì„±ë˜ì–´ ìˆê¸°ë„ í•œë‹¤</li></ul><h3 id="ê¸°ë³¸-ê°œë…"><a href="#ê¸°ë³¸-ê°œë…" class="headerlink" title="ê¸°ë³¸ ê°œë…"></a>ê¸°ë³¸ ê°œë…</h3><ul><li>í…ŒìŠ¤íŠ¸ ëŒ€ì—­ ì˜ˆ</li><li>ì´ì–´ì£¼ê¸°<ul><li>í…ŒìŠ¤íŠ¸ í•˜ê¸° ì‰½ë‹¤</li><li>ì˜ì¡´ì„± ì£¼ì…</li></ul></li><li>ëª¨ì˜ ê°ì²´ í”„ë ˆì„ ì›Œí¬</li></ul><h3 id="í…ŒìŠ¤íŠ¸-ëŒ€ì—­-í™œìš©-ê¸°ë²•"><a href="#í…ŒìŠ¤íŠ¸-ëŒ€ì—­-í™œìš©-ê¸°ë²•" class="headerlink" title="í…ŒìŠ¤íŠ¸ ëŒ€ì—­ í™œìš© ê¸°ë²•"></a>í…ŒìŠ¤íŠ¸ ëŒ€ì—­ í™œìš© ê¸°ë²•</h3><ul><li>ì†ì´ê¸°(ê°€ì§œ ê°ì²´)</li><li>ë­‰ê°œê¸°(ìŠ¤í…)</li><li>ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸í•˜ê¸°</li></ul><h3 id="ì‹¤ì œ-êµ¬í˜„"><a href="#ì‹¤ì œ-êµ¬í˜„" class="headerlink" title="ì‹¤ì œ êµ¬í˜„"></a>ì‹¤ì œ êµ¬í˜„</h3><ul><li>ì‹¤ì œ êµ¬í˜„ì„ ì„ í˜¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ë°©ì‹ì„ ê³ ì „ì  í…ŒìŠ¤íŠ¸</li><li>ëª¨ì˜ ê°ì²´ í”„ë ˆì„ì›Œí¬ë¥¼ ì„ í˜¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ë°©ì‹ì€ ëª¨ì˜ ê°ì²´ ì¤‘ì‹¬ì£¼ì˜ í…ŒìŠ¤íŠ¸</li><li>ê°¹ë¦¬ ë³´ë‹¨ í˜„ì‹¤ì„±ì„ ìš°ì„ í•˜ì</li><li>ì‹¤ì œ êµ¬í˜„ì„ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ê¸°<ul><li>ì‹¤í–‰ì‹œê°„</li><li>ê²°ì •ì„±</li><li>ì˜ì¡´ì„± ìƒì„±</li></ul></li></ul><h3 id="ì†ì´ê¸°-ê°€ì§œ-ê°ì²´"><a href="#ì†ì´ê¸°-ê°€ì§œ-ê°ì²´" class="headerlink" title="ì†ì´ê¸°(ê°€ì§œ ê°ì²´)"></a>ì†ì´ê¸°(ê°€ì§œ ê°ì²´)</h3><ul><li>ê°€ì§œ ê°ì²´ê°€ ì¤‘ìš”í•œ ì´ìœ </li><li>ê°€ì§œ ê°ì²´ë¥¼ ì‘ì„±í•´ì•¼ í• ë•Œ</li><li>ê°€ì ê°ì²´ì˜ ì¶©ì‹¤ì„±</li><li>ê°€ì§œ ê°ì²´ë„ í…ŒìŠ¤íŠ¸ í•´ì•¼</li><li>ê°€ì§œ ê°ì²´ë¥¼ ì´ìš©í•  ìˆ˜ ì—†ë‹¤ë©´<h3 id="ë­‰ê°œê¸°-ìŠ¤í…"><a href="#ë­‰ê°œê¸°-ìŠ¤í…" class="headerlink" title="ë­‰ê°œê¸°(ìŠ¤í…)"></a>ë­‰ê°œê¸°(ìŠ¤í…)</h3></li><li>ìŠ¤í… ê³¼ìš©ì˜ ìœ„í—˜ì„±<ul><li>ë¶ˆëª…í™•í•´ì§„ë‹¤</li><li>ê¹¨ì§€ê¸° ì‰¬ì›Œì§„ë‹¤</li><li>í…ŒìŠ¤íŠ¸ íš¨ê³¼ê°€ ê°ì†Œí•œë‹¤</li></ul></li><li>ìŠ¤í…ì´ ì í•©í•œê²½ìš°<ul><li>ëŒ€ìƒ ì‹œìŠ¤í…œì„ ì›í•˜ëŠ” ìƒíƒœë¡œ ë³€ê²½í•˜ë ¤ í•  ë•Œ ì œê²©</li></ul></li></ul><h3 id="ìƒí˜¸ì‘ìš©-í…ŒìŠ¤íŠ¸í•˜ê¸°"><a href="#ìƒí˜¸ì‘ìš©-í…ŒìŠ¤íŠ¸í•˜ê¸°" class="headerlink" title="ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸í•˜ê¸°"></a>ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸í•˜ê¸°</h3><ul><li>ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ë³´ë‹¤ ìƒíƒœ í…ŒìŠ¤íŠ¸ë¥¼ ìš°ì„ í•˜ì<ul><li>ë³€ê²½ ê²€ì¶© í…ŒìŠ¤íŠ¸</li></ul></li><li>ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ê°€ ì í•©í•œ ê²½ìš°<ul><li>ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ì¼ ê²½ìš°ì—ë§Œ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ë¥¼ ìš°ì„  ê³ ë ¤í•˜ì</li><li>ë„ˆë¬´ ìƒì„¸í•œ í…ŒìŠ¤íŠ¸ëŠ” í”¼í•˜ì</li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.yes24.com/Product/Goods/109182479">êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ëŠ” ì´ë ‡ê²Œ ì¼í•œë‹¤</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/07/2024-07-09-Software_Engineering_at_Google_CHAPTER_13/#disqus_thread</comments>
    </item>
    
    <item>
      <title>3D Gaussian Splatting</title>
      <link>https://sejoung.github.io/2024/07/2024-07-05-gaussian_splatting/</link>
      <guid>https://sejoung.github.io/2024/07/2024-07-05-gaussian_splatting/</guid>
      <pubDate>Fri, 05 Jul 2024 06:39:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;3D-Gaussian-Splatting&quot;&gt;&lt;a href=&quot;#3D-Gaussian-Splatting&quot; class=&quot;headerlink&quot; title=&quot;3D Gaussian Splatting&quot;&gt;&lt;/a&gt;3D Gaussian Splatting&lt;/
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="3D-Gaussian-Splatting"><a href="#3D-Gaussian-Splatting" class="headerlink" title="3D Gaussian Splatting"></a>3D Gaussian Splatting</h1><p>colmapì„ ì‚¬ìš©í•´ì„œ 3D reconstructionì„ í•˜ê³  ë‚˜ì„œ 3D Gaussian Splattingì„ ì‚¬ìš©í•´ì„œ renderingì„ í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;location&gt;</span><br><span class="line">|---images</span><br><span class="line">|   |---&lt;image 0&gt;</span><br><span class="line">|   |---&lt;image 1&gt;</span><br><span class="line">|   |---...</span><br><span class="line">|---sparse</span><br><span class="line">    |---0</span><br><span class="line">        |---cameras.bin</span><br><span class="line">        |---images.bin</span><br><span class="line">        |---points3D.bin</span><br></pre></td></tr></table></figure><p> ã…‡ â€“ã…<br>ìœ„ì— í´ë” êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ ëœë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  File &quot;/repositories/gaussian-splatting/scene/dataset_readers.py&quot;, line 95, in readColmapCameras</span><br><span class="line">    assert False, &quot;Colmap camera model not handled: only undistorted datasets (PINHOLE or SIMPLE_PINHOLE cameras) supported!&quot;</span><br><span class="line">AssertionError: Colmap camera model not handled: only undistorted datasets (PINHOLE or SIMPLE_PINHOLE cameras) supported!</span><br></pre></td></tr></table></figure><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://github.com/graphdeco-inria/gaussian-splatting">3D Gaussian Splatting for Real-Time Radiance Field Rendering</a></li><li><a href="https://github.com/mkkellogg/GaussianSplats3D">3D Gaussian splatting for Three.js</a></li><li><a href="https://demuc.de/colmap/">COLMAP â€“ SfM and MVS</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/07/2024-07-05-gaussian_splatting/#disqus_thread</comments>
    </item>
    
    <item>
      <title>COLMAP ì„¤ì¹˜</title>
      <link>https://sejoung.github.io/2024/07/2024-07-03-colmap/</link>
      <guid>https://sejoung.github.io/2024/07/2024-07-03-colmap/</guid>
      <pubDate>Wed, 03 Jul 2024 00:52:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;COLMAP-ì„¤ì¹˜&quot;&gt;&lt;a href=&quot;#COLMAP-ì„¤ì¹˜&quot; class=&quot;headerlink&quot; title=&quot;COLMAP ì„¤ì¹˜&quot;&gt;&lt;/a&gt;COLMAP ì„¤ì¹˜&lt;/h1&gt;&lt;p&gt;COLMAPì€ ê·¸ë˜í”½ ë° ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ê°€ ìˆëŠ” ë²”ìš© êµ¬ì¡°-ëª¨ì…˜(SfM) 
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="COLMAP-ì„¤ì¹˜"><a href="#COLMAP-ì„¤ì¹˜" class="headerlink" title="COLMAP ì„¤ì¹˜"></a>COLMAP ì„¤ì¹˜</h1><p>COLMAPì€ ê·¸ë˜í”½ ë° ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ê°€ ìˆëŠ” ë²”ìš© êµ¬ì¡°-ëª¨ì…˜(SfM) ë° ë©€í‹°-ë·° ìŠ¤í…Œë ˆì˜¤(MVS) íŒŒì´í”„ë¼ì¸ì…ë‹ˆë‹¤.</p><h2 id="ì„¤ì¹˜"><a href="#ì„¤ì¹˜" class="headerlink" title="ì„¤ì¹˜"></a>ì„¤ì¹˜</h2><p>ìµœì‹  ë²„ì „ì€ ë§¥ìš©ìœ¼ë¡œ ë¹Œë“œë¥¼ í•´ë†“ì§€ ì•Šì•˜ë‹¤ 2021ë…„ 7ì›” 3ì¼ ê¸°ì¤€ìœ¼ë¡œ. ê·¸ë˜ì„œ ì§ì ‘ ë¹Œë“œë¥¼ í•´ì•¼í•œë‹¤.</p><p>ì•„ë˜ ì¢…ì†ì„± ì„¤ì¹˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">brew install \</span><br><span class="line">    cmake \</span><br><span class="line">    ninja \</span><br><span class="line">    boost \</span><br><span class="line">    eigen \</span><br><span class="line">    flann \</span><br><span class="line">    freeimage \</span><br><span class="line">    metis \</span><br><span class="line">    glog \</span><br><span class="line">    googletest \</span><br><span class="line">    ceres-solver \</span><br><span class="line">    qt5 \</span><br><span class="line">    glew \</span><br><span class="line">    cgal \</span><br><span class="line">    sqlite3</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/colmap/colmap.git</span><br><span class="line"><span class="built_in">cd</span> colmap</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/opt/homebrew/opt/qt@5/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..  -GNinja -DQt5_DIR=/usr/local/opt/qt/lib/cmake/Qt5</span><br><span class="line">ninja</span><br><span class="line">sudo ninja install</span><br></pre></td></tr></table></figure><h2 id="ì‹¤í–‰"><a href="#ì‹¤í–‰" class="headerlink" title="ì‹¤í–‰"></a>ì‹¤í–‰</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colmap gui</span><br></pre></td></tr></table></figure><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://colmap.github.io/install.html">colmap install</a></li><li><a href="https://demuc.de/colmap/">COLMAP â€“ SfM and MVS</a></li><li><a href="https://github.com/kmss1258/Colmap-setup">Colmap-setup</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/07/2024-07-03-colmap/#disqus_thread</comments>
    </item>
    
    <item>
      <title>3D Vision 2</title>
      <link>https://sejoung.github.io/2024/06/2024-06-21-3d_vision_2/</link>
      <guid>https://sejoung.github.io/2024/06/2024-06-21-3d_vision_2/</guid>
      <pubDate>Fri, 21 Jun 2024 02:44:00 GMT</pubDate>
      <description>
      
        
        
          &lt;h1 id=&quot;3D-Vision&quot;&gt;&lt;a href=&quot;#3D-Vision&quot; class=&quot;headerlink&quot; title=&quot;3D Vision&quot;&gt;&lt;/a&gt;3D Vision&lt;/h1&gt;&lt;h2 id=&quot;Implicit-Function-NeRF&quot;&gt;&lt;a href=&quot;#Imp
        
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="3D-Vision"><a href="#3D-Vision" class="headerlink" title="3D Vision"></a>3D Vision</h1><h2 id="Implicit-Function-NeRF"><a href="#Implicit-Function-NeRF" class="headerlink" title="Implicit Function: NeRF"></a>Implicit Function: NeRF</h2><ul><li>NeRF<ul><li>2020 ë…„ì— ë‚˜ì˜¨ ë…¼ë¬¸</li><li>ì¸í’‹ìœ¼ë¡œ ì¹´ë©”ë¼ í¬ì¦ˆë¥¼ ì•Œê³  ìˆëŠ” í”½ì…€ë“¤ì˜ ë ˆì´ë“œë¥¼ ì•Œê³  ìˆì–´ ê·¸ê±¸ë¡œ ë Œë”ë§í•˜ëŠ” ê²Œ ëª©í‘œ</li><li>ë°ì´í„°ëŠ” ì‹ ì—ëŒ€í•œ ì´ë¯¸ì§€</li><li>colmap sfm pipelineì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ë§Œë“¤ì—ˆë‹¤</li></ul></li><li>Positional Encoding<ul><li>fourfeat</li></ul></li><li>Multiscale Representation<ul><li>mipnerf</li></ul></li><li>Learned Initializations<ul><li>learnit</li></ul></li><li>Relighting<ul><li>nerv</li></ul></li><li>giraffe</li></ul><h2 id="Open3D"><a href="#Open3D" class="headerlink" title="Open3D"></a>Open3D</h2><ul><li>3D Sensors: Depth Map</li><li>Structured Light</li><li>Depth Camera (Prime Sense &amp; Kinect)</li><li>Lidar Sensor</li><li>3D Scene Datasets <ul><li>RGBD dataset</li><li>ScanNet</li><li>KITTI</li><li>CityScape Dataset</li><li>Semantic KITTI</li><li>Waymo Open Dataset</li><li>KITTI 360 Dataset</li><li>Indoor Lidar Dataset</li><li>AI Habitat â€’ HM3D</li></ul></li><li>3D Object Datasets<ul><li>ShapeNet</li><li>ABC Dataset</li><li>ABO Dataset</li><li>Google Scanned Object</li></ul></li></ul><h2 id="COLMAP-SfM-MVS"><a href="#COLMAP-SfM-MVS" class="headerlink" title="COLMAP (SfM, MVS)"></a>COLMAP (SfM, MVS)</h2><ul><li>open 3d</li><li>COLMAP<ul><li>Structure-from-Motion (SfM) and Multi-View Stereo (MVS) pipeline</li><li>COLMAP SfM<ul><li>â€¢ COLMAPâ€™s incremental Structure-from-Motion pipeline.</li></ul></li></ul></li></ul><h2 id="3D-reconstruction"><a href="#3D-reconstruction" class="headerlink" title="3D reconstruction"></a>3D reconstruction</h2><ul><li>Images -&gt; Points: Structure from Motion</li><li>Points -&gt; More points: Multiple View Stereo</li><li>Points -&gt; Meshes: Model Fitting</li><li>Meshes -&gt; Models: Texture Mapping</li></ul><h2 id="Human-Reconstruction"><a href="#Human-Reconstruction" class="headerlink" title="Human Reconstruction"></a>Human Reconstruction</h2><ul><li>3D Human Datasets<ul><li>Renderpeople</li><li>ANIMAR 4</li></ul></li></ul><h1 id="ì°¸ì¡°"><a href="#ì°¸ì¡°" class="headerlink" title="ì°¸ì¡°"></a>ì°¸ì¡°</h1><hr><ul><li><a href="https://www.matthewtancik.com/nerf">Representing Scenes as Neural Radiance Fields for View Synthesis</a></li><li><a href="https://github.com/bmild/nerf/blob/master/tiny_nerf.ipynb">tiny_nerf.ipynb</a></li><li><a href="https://github.com/bmild/nerf">nerf</a></li><li><a href="https://bmild.github.io/fourfeat/index.html">fourfeat</a></li><li><a href="https://jonbarron.info/mipnerf/">Mip-NeRF</a></li><li><a href="https://www.matthewtancik.com/learnit">Learned Initializations for Optimizing Coordinate-Based Neural Representations</a></li><li><a href="https://pratulsrinivasan.github.io/nerv/">NeRV</a></li><li><a href="https://m-niemeyer.github.io/project-pages/giraffe/index.html">GIRAFFE</a></li><li><a href="https://cs.nyu.edu/~silberman/datasets/nyu_depth_v2.html">NYU Depth Dataset V2</a></li><li><a href="https://github.com/isl-org/Open3D">Open3D</a></li><li><a href="https://colmap.github.io/tutorial.html">colmap</a></li></ul>]]></content:encoded>
      
      <comments>https://sejoung.github.io/2024/06/2024-06-21-3d_vision_2/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
