<!DOCTYPE html><html lang="lang"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="JEP 378: Text Blocks"><meta name="keywords" content="JEP,jdk 15,Text Blocks"><meta name="author" content="sejoung"><meta name="copyright" content="sejoung"><title>JEP 378: Text Blocks | 폭간의 기술블로그</title><link rel="shortcut icon" href="../../../my-favicon.ico"><link rel="stylesheet" href="../../../css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script async src="https://www.googletagmanager.com/gtag/js?id=G-NVRTGLD8RZ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-NVRTGLD8RZ');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 5.4.2"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JEP-378-Text-Blocks"><span class="toc-number">1.</span> <span class="toc-text">JEP 378: Text Blocks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Summary"><span class="toc-number">1.1.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#History"><span class="toc-number">1.2.</span> <span class="toc-text">History</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Goals"><span class="toc-number">1.3.</span> <span class="toc-text">Goals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Non-Goals"><span class="toc-number">1.4.</span> <span class="toc-text">Non-Goals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Motivation"><span class="toc-number">1.5.</span> <span class="toc-text">Motivation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTML"><span class="toc-number">1.5.1.</span> <span class="toc-text">HTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL"><span class="toc-number">1.5.2.</span> <span class="toc-text">SQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Polyglot-language"><span class="toc-number">1.5.3.</span> <span class="toc-text">Polyglot language</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Motivation-1"><span class="toc-number">1.6.</span> <span class="toc-text">Motivation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTML-1"><span class="toc-number">1.6.1.</span> <span class="toc-text">HTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL-1"><span class="toc-number">1.6.2.</span> <span class="toc-text">SQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Polyglot-language-1"><span class="toc-number">1.6.3.</span> <span class="toc-text">Polyglot language</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Description"><span class="toc-number">1.7.</span> <span class="toc-text">Description</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%BB%B4%ED%8C%8C%EC%9D%BC-%ED%83%80%EC%9E%84-%EC%B2%98%EB%A6%AC"><span class="toc-number">1.8.</span> <span class="toc-text">컴파일 타임 처리</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EB%9D%BC%EC%9D%B8-%ED%84%B0%EB%AF%B8%EB%84%A4%EC%9D%B4%ED%84%B0"><span class="toc-number">1.8.1.</span> <span class="toc-text">라인 터미네이터</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9A%B0%EC%97%B0%ED%95%9C-%EA%B3%B5%EB%B0%B1"><span class="toc-number">1.8.2.</span> <span class="toc-text">우연한 공백</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%A4%91%EC%9A%94%ED%95%9C-%ED%9B%84%ED%96%89-%EC%A0%95%EC%B1%85"><span class="toc-number">1.8.3.</span> <span class="toc-text">중요한 후행 정책</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%83%88%EC%B6%9C-%EC%88%9C%EC%84%9C"><span class="toc-number">1.8.4.</span> <span class="toc-text">탈출 순서</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%9D%B4%EC%8A%A4%EC%BC%80%EC%9D%B4%ED%94%84-%EC%8B%9C%ED%80%80%EC%8A%A4"><span class="toc-number">1.8.5.</span> <span class="toc-text">새로운 이스케이프 시퀀스</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%85%8D%EC%8A%A4%ED%8A%B8-%EB%B8%94%EB%A1%9D%EC%9D%98-%EC%97%B0%EA%B2%B0"><span class="toc-number">1.8.6.</span> <span class="toc-text">텍스트 블록의 연결</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%B6%94%EA%B0%80-%EB%B0%A9%EB%B2%95"><span class="toc-number">1.8.7.</span> <span class="toc-text">추가 방법</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Alternatives"><span class="toc-number">1.9.</span> <span class="toc-text">Alternatives</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%95%84%EB%AC%B4%EA%B2%83%EB%8F%84%ED%95%98%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94"><span class="toc-number">1.9.1.</span> <span class="toc-text">아무것도하지 마세요</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%A6%AC%ED%84%B0%EB%9F%B4%EC%9D%B4-%EC%97%AC%EB%9F%AC-%EC%A4%84%EB%A1%9C-%ED%99%95%EC%9E%A5%EB%90%98%EB%8F%84%EB%A1%9D-%ED%97%88%EC%9A%A9"><span class="toc-number">1.9.2.</span> <span class="toc-text">문자열 리터럴이 여러 줄로 확장되도록 허용</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EB%8B%A4%EB%A5%B8-%EC%96%B8%EC%96%B4%EC%9D%98-%EB%8B%A4%EC%A4%91-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%A6%AC%ED%84%B0%EB%9F%B4-%EC%B1%84%ED%83%9D"><span class="toc-number">1.9.3.</span> <span class="toc-text">다른 언어의 다중 문자열 리터럴 채택</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9A%B0%EB%B0%9C%EC%A0%81-%EC%9D%B8-%EA%B3%B5%EB%B0%B1-%EC%A0%9C%EA%B1%B0"><span class="toc-number">1.9.4.</span> <span class="toc-text">우발적 인 공백 제거</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9B%90%EC%8B%9C-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%A6%AC%ED%84%B0%EB%9F%B4"><span class="toc-number">1.9.5.</span> <span class="toc-text">원시 문자열 리터럴</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%85%8C%EC%8A%A4%ED%8C%85"><span class="toc-number">1.9.6.</span> <span class="toc-text">테스팅</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%B0%B8%EC%A1%B0"><span class="toc-number"></span> <span class="toc-text">참조</span></a></li></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars0.githubusercontent.com/u/4936005?s=400&amp;u=a679b941fe377418e7e4efcf916c6a636d7178ee&amp;v=4"></div><div class="author-info__name text-center">sejoung</div><div class="author-info__description text-center">잘정리하자</div><div class="follow-button"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/sejoung">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../../archives"><span class="pull-left">Articles</span><span class="pull-right">705</span></a><a class="author-info-articles__tags article-meta" href="../../../tags"><span class="pull-left">Tags</span><span class="pull-right">755</span></a><a class="author-info-articles__categories article-meta" href="../../../categories"><span class="pull-left">Categories</span><span class="pull-right">70</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.naver.com/sanaes">naverblog</a><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.linkedin.com/in/sanaes/">linkedin</a><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.slideshare.net/sejoung">slideshare</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg/1024px-Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../../index.html">폭간의 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">JEP 378: Text Blocks</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-09-21</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="../../../categories/java/">java</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2020/09/2020-09-21-JEP_378/"></span></a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="JEP-378-Text-Blocks"><a href="#JEP-378-Text-Blocks" class="headerlink" title="JEP 378: Text Blocks"></a>JEP 378: Text Blocks</h2><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>java 언어에 텍스트 블록 을 추가하십시오.<br>텍스트 블록은 대부분의 이스케이프 시퀀스가 필요하지 않고 예측 가능한 방식으로 문자열의 형식을<br>자동으로 지정하며 개발자가 원하는 경우 형식을 제어 할 수있는 여러 줄 문자열 리터럴입니다.</p>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>텍스트 블록은 2019 년 초 에 <a href="https://sejoung.github.io/2020/03/2020-03-09-JEP_355/">JEP 355</a> 에서<br><a target="_blank" rel="external nofollow noopener noreferrer" href="https://openjdk.java.net/jeps/326">JEP 326 (Raw String Literals)</a> 에서 시작된 탐색의 후속 작업으로 제안되었습니다.<br>이는 처음에는 JDK 12를 대상으로했지만 결국 철회되어 해당 릴리스에는 나타나지 않았습니다.<br>JEP 355는 2019 년 6 월 에 미리보기 기능 으로 JDK 13을 대상 으로했습니다 .<br>JDK 13에 대한 피드백은 두 개의 새로운 이스케이프 시퀀스를 추가하여 JDK 14에서 텍스트 블록을 다시 미리보기해야한다고 제안했습니다.<br>결과적으로 JEP 368 은 2019 년 11 월 미리보기 기능으로 JDK 14를 대상 으로했습니다.<br>JDK 14에 대한 피드백은 텍스트 블록이 추가 변경없이 JDK 15에서 최종적이고 영구적이 될 준비가되었다고 제안했습니다.</p>
<h3 id="Goals"><a href="#Goals" class="headerlink" title="Goals"></a>Goals</h3><ul>
<li><p>일반적인 경우에는 이스케이프 시퀀스를 피하면서 여러 줄의 소스 코드에 걸쳐있는 문자열을 쉽게 표현할 수 있도록하여 Java 프로그램 작성 작업을 단순화합니다.</p>
</li>
<li><p>Java 이외의 언어로 작성된 코드를 나타내는 Java 프로그램에서 문자열의 가독성을 향상시킵니다.</p>
</li>
<li><p>새로운 구문은 문자열 리터럴과 동일한 문자열 집합을 표현하고 동일한 이스케이프 시퀀스를 해석하고 문자열 리터럴처럼 조작 할 수 있도록 규정하여 문자열 리터럴에서 마이그레이션을 지원합니다.</p>
</li>
<li><p>명시 적 공백 및 개행 제어를 관리하기위한 이스케이프 시퀀스를 추가하십시오.</p>
</li>
</ul>
<h3 id="Non-Goals"><a href="#Non-Goals" class="headerlink" title="Non-Goals"></a>Non-Goals</h3><ul>
<li><p>java.lang.String새로운 구문으로 표현 된 문자열에 대해 새로운 참조 유형을 정의하는 것은 목표가 아닙니다 .</p>
</li>
<li><p>별개의 새로운 운영자 정의하는 목표는 아니다 String 에 걸릴 +피연산자.</p>
</li>
<li><p>텍스트 블록은 문자열 보간을 직접 지원하지 않습니다. 향후 JEP에서는 보간이 고려 될 수 있습니다. 그 동안 새로운 인스턴스 메서드 String::formatted는 보간이 필요한 상황에서 도움이됩니다.</p>
</li>
<li><p>텍스트 블록은 원시 문자열, 즉 문자가 어떤 방식으로도 처리되지 않는 문자열을 지원하지 않습니다.</p>
</li>
</ul>
<h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>Java에서 문자열 리터럴에 HTML, XML, SQL 또는 JSON 스니펫을 임베디드하면<br>스니펫을 “…”포함하는 코드가 컴파일되기 전에 일반적으로 이스케이프 및 연결로 상당한 편집이 필요합니다.<br>스니펫은 종종 읽기가 어렵고 유지 관리하기가 어렵습니다.</p>
<p>보다 일반적으로, 텍스트가 다른 프로그래밍 언어의 코드, 골든 파일을 나타내는 구조화 된 텍스트 또는 자연 언어의 메시지인지<br>여부에 관계없이 Java 프로그램에서 텍스트의 짧은, 중간 및 긴 블록을 표시 할 필요성은 거의 보편적입니다.<br>한편으로, Java 언어는 무제한 크기와 내용의 문자열을 허용함으로써 이러한 요구를 인식하지만,<br>반면에 문자열은 소스 파일의 한 줄에 표시 할 수있을 정도로 작아야하는 단순한 설계 기본값을 구현합니다.<br>쉽게 탈출하기에 충분합니다.<br>문자열은 소스 파일의 여러 줄에 걸쳐있을만큼 문자열이 충분히 클 수 있다는 점을 수용하고 컨텐츠에서 이스케이프가<br>개별 문자뿐만 아니라 형식화 및 레이아웃 조작을 나타낼 수 있음을 예상하여 Java 언어를 정규화 할 수 있습니다.</p>
<p>따라서, 광범위한 Java 프로그램의 가독성과 가독성을 향상시켜 문자열 리터럴보다 문자 그대로 여러 줄에 걸쳐서<br>이스케이프의 시각적 혼란없이 문자열을 나타내는 언어 적 메커니즘을 갖도록합니다.<br>본질적으로 1 차원 문자 시퀀스가 아닌 2 차원 텍스트 블록입니다.</p>
<h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><p>1차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&lt;html&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;    &lt;body&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;        &lt;p&gt;Hello, world&lt;/p&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;    &lt;/body&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;&lt;/html&gt;\n&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h4><p>1차원</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">query</span> <span class="operator">=</span> <span class="string">&quot;SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`\n&quot;</span> +</span><br><span class="line">               <span class="string">&quot;WHERE `CITY` = &#x27;INDIANAPOLIS&#x27;\n&quot;</span> +</span><br><span class="line">               <span class="string">&quot;ORDER BY `EMP_ID`, `LAST_NAME`;\n&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">query</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">               SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`</span></span><br><span class="line"><span class="string">               WHERE `CITY` = &#x27;INDIANAPOLIS&#x27;</span></span><br><span class="line"><span class="string">               ORDER BY `EMP_ID`, `LAST_NAME`;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h4 id="Polyglot-language"><a href="#Polyglot-language" class="headerlink" title="Polyglot language"></a>Polyglot language</h4><p>1차원</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">ScriptEngine</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScriptEngineManager</span>().getEngineByName(<span class="string">&quot;js&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> engine.eval(<span class="string">&quot;function hello() &#123;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;    print(&#x27;\&quot;Hello, world\&quot;&#x27;);\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;&#125;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;hello();\n&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">ScriptEngine</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScriptEngineManager</span>().getEngineByName(<span class="string">&quot;js&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> engine.eval(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                         function hello() &#123;</span></span><br><span class="line"><span class="string">                             print(&#x27;&quot;Hello, world&quot;&#x27;);</span></span><br><span class="line"><span class="string">                         &#125;</span></span><br><span class="line"><span class="string">                         </span></span><br><span class="line"><span class="string">                         hello();</span></span><br><span class="line"><span class="string">                         &quot;&quot;&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Motivation-1"><a href="#Motivation-1" class="headerlink" title="Motivation"></a>Motivation</h3><p>Java에서 문자열 리터럴에 HTML, XML, SQL 또는 JSON 스니펫을 임베디드하면<br>스니펫을 “…”포함하는 코드가 컴파일되기 전에 일반적으로 이스케이프 및 연결로 상당한 편집이 필요합니다.<br>스니펫은 종종 읽기가 어렵고 유지 관리하기가 어렵습니다.</p>
<p>보다 일반적으로, 텍스트가 다른 프로그래밍 언어의 코드, 골든 파일을 나타내는 구조화 된 텍스트 또는 자연 언어의 메시지인지<br>여부에 관계없이 Java 프로그램에서 텍스트의 짧은, 중간 및 긴 블록을 표시 할 필요성은 거의 보편적입니다.<br>한편으로, Java 언어는 무제한 크기와 내용의 문자열을 허용함으로써 이러한 요구를 인식하지만,<br>반면에 문자열은 소스 파일의 한 줄에 표시 할 수있을 정도로 작아야하는 단순한 설계 기본값을 구현합니다.<br>쉽게 탈출하기에 충분합니다.<br>문자열은 소스 파일의 여러 줄에 걸쳐있을만큼 문자열이 충분히 클 수 있다는 점을 수용하고 컨텐츠에서 이스케이프가<br>개별 문자뿐만 아니라 형식화 및 레이아웃 조작을 나타낼 수 있음을 예상하여 Java 언어를 정규화 할 수 있습니다.</p>
<p>따라서, 광범위한 Java 프로그램의 가독성과 가독성을 향상시켜 문자열 리터럴보다 문자 그대로 여러 줄에 걸쳐서<br>이스케이프의 시각적 혼란없이 문자열을 나타내는 언어 적 메커니즘을 갖도록합니다.<br>본질적으로 1 차원 문자 시퀀스가 아닌 2 차원 텍스트 블록입니다.</p>
<h4 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h4><p>1차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&lt;html&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;    &lt;body&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;        &lt;p&gt;Hello, world&lt;/p&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;    &lt;/body&gt;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;&lt;/html&gt;\n&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="SQL-1"><a href="#SQL-1" class="headerlink" title="SQL"></a>SQL</h4><p>1차원</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">query</span> <span class="operator">=</span> <span class="string">&quot;SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`\n&quot;</span> +</span><br><span class="line">               <span class="string">&quot;WHERE `CITY` = &#x27;INDIANAPOLIS&#x27;\n&quot;</span> +</span><br><span class="line">               <span class="string">&quot;ORDER BY `EMP_ID`, `LAST_NAME`;\n&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">query</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">               SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`</span></span><br><span class="line"><span class="string">               WHERE `CITY` = &#x27;INDIANAPOLIS&#x27;</span></span><br><span class="line"><span class="string">               ORDER BY `EMP_ID`, `LAST_NAME`;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h4 id="Polyglot-language-1"><a href="#Polyglot-language-1" class="headerlink" title="Polyglot language"></a>Polyglot language</h4><p>1차원</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">ScriptEngine</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScriptEngineManager</span>().getEngineByName(<span class="string">&quot;js&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> engine.eval(<span class="string">&quot;function hello() &#123;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;    print(&#x27;\&quot;Hello, world\&quot;&#x27;);\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;&#125;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;\n&quot;</span> +</span><br><span class="line">                         <span class="string">&quot;hello();\n&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2차원 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">ScriptEngine</span> <span class="variable">engine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ScriptEngineManager</span>().getEngineByName(<span class="string">&quot;js&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> engine.eval(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                         function hello() &#123;</span></span><br><span class="line"><span class="string">                             print(&#x27;&quot;Hello, world&quot;&#x27;);</span></span><br><span class="line"><span class="string">                         &#125;</span></span><br><span class="line"><span class="string">                         </span></span><br><span class="line"><span class="string">                         hello();</span></span><br><span class="line"><span class="string">                         &quot;&quot;&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>텍스트 블록은 자바 언어에서 문자의 새로운 종류이다. 문자열 리터럴 이 나타날 수 있는 곳 어디에서나 문자열을 나타내는 데 사용될 수 있지만<br>표현력이 뛰어나고 실수가 덜 복잡합니다.</p>
<p>텍스트 블록은 0 개 이상의 컨텐츠 문자로 구성되며, 구분 기호를 열고 닫는 것으로 묶습니다.</p>
<p>개구 분리는 세 개의 이중 인용 부호 (시퀀스 인 “””줄 종결 뒤에 0 이상의 공백 하였다). 내용은 오프닝 구분 기호의 라인 종결 후 첫 번째 문자에서 시작합니다.</p>
<p>닫기 구분 기호는 세 개의 큰 따옴표 문자의 순서입니다. 내용은 닫는 구분 기호의 첫 번째 큰 따옴표 앞의 마지막 문자에서 끝납니다.</p>
<p>문자열 리터럴의 문자와 달리 내용에는 큰 따옴표 문자가 직접 포함될 수 있습니다.<br>&quot;텍스트 블록에서 의 사용 은 허용되지만 필요하거나 권장되지는 않습니다. 문자가 이스케이프 처리되지 않고<br>텍스트 블록을 문자열 리터럴과 시각적으로 구분할 수 있도록 지방 구분 기호 (“”” )를 선택했습니다 “.</p>
<p>문자열 리터럴의 문자와 달리 내용에 줄 종결자가 직접 포함될 수 있습니다.<br>\n텍스트 블록에서 의 사용 은 허용되지만 필요하거나 권장되지는 않습니다.<br>예를 들어 텍스트 블록은 다음과 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">line 1</span><br><span class="line">line 2</span><br><span class="line">line 3</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p>문자열 리터럴과 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;line 1\nline 2\nline 3\n&quot;</span><br></pre></td></tr></table></figure>
<p>또는 문자열 리터럴의 연결 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;line 1\n&quot; +</span><br><span class="line">&quot;line 2\n&quot; +</span><br><span class="line">&quot;line 3\n&quot;</span><br></pre></td></tr></table></figure>
<p>문자열 끝에 줄 종결자가 필요하지 않은 경우 마지막 구분선에 닫는 구분 기호를 배치 할 수 있습니다. 예를 들어 텍스트 블록은 다음과 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">line 1</span><br><span class="line">line 2</span><br><span class="line">line 3&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>문자열 리터럴과 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;line 1\nline 2\nline 3&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>텍스트 블록은 빈 문자열을 나타낼 수 있지만 두 줄의 소스 코드가 필요하므로 권장하지 않습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">empty</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>잘못된 형식의 텍스트 블록의 예는 다음과 같습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;&quot;&quot;&quot;</span>;   <span class="comment">// no line terminator after opening delimiter</span></span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot; &quot;&quot;&quot;</span>;  <span class="comment">// no line terminator after opening delimiter</span></span><br><span class="line"><span class="type">String</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">           &quot;;        // no closing delimiter (text block continues to EOF)</span></span><br><span class="line"><span class="string">String d = &quot;&quot;&quot;</span></span><br><span class="line">           abc \ def</span><br><span class="line">           <span class="string">&quot;&quot;&quot;;      // unescaped backslash (see below for escape processing)</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<h3 id="컴파일-타임-처리"><a href="#컴파일-타임-처리" class="headerlink" title="컴파일 타임 처리"></a>컴파일 타임 처리</h3><p>텍스트 블록은 문자열 리터럴과 같은 유형 의 상수 표현식 입니다 String.<br>그러나 문자열 리터럴과 달리 텍스트 블록의 내용은 세 가지 단계로 Java 컴파일러에 의해 처리됩니다.</p>
<ol>
<li><p>내용의 줄 종결자는 LF ( \u000A) 로 변환됩니다 . 이 변환의 목적은 플랫폼간에 Java 소스 코드를 이동할 때 가장 놀랄만 한 원칙을 따르는 것입니다.</p>
</li>
<li><p>Java 소스 코드의 들여 쓰기와 일치하도록 도입 된 컨텐츠 주변의 공백이 제거됩니다.</p>
</li>
<li><p>컨텐츠의 이스케이프 시퀀스가 해석됩니다. 최종 단계로 해석을 수행한다는 것은 개발자 \n가 이전 단계에서 이스케이프 시퀀스 를 수정하거나 삭제하지 않고도 이스케이프 시퀀스를 작성할 수 있음을 의미 합니다.</p>
</li>
</ol>
<p>처리 된 내용은 문자열 리터럴의 문자와 마찬가지로 상수 풀 class의 CONSTANT_String_info항목으로 파일에 기록됩니다 .<br>class파일이되었는지는 기록하지 않습니다 CONSTANT_String_info항목이 텍스트 블록 또는 문자열 리터럴에서 파생되었다.</p>
<p>런타임에 텍스트 블록은 String문자열 리터럴과 같은 의 인스턴스로 평가됩니다 .<br>인스턴스 의  String텍스트 블록은 문자열 리터럴에서 파생 된 인스턴스에서 구별에서 그 파생됩니다.<br>처리 된 내용이 동일한 두 개의 텍스트 블록 은 문자열 리터럴 과 마찬가지로 인턴String 으로 인해 동일한 인스턴스를 참조합니다 .</p>
<p>다음 섹션에서는 컴파일 타임 처리에 대해 자세히 설명합니다.</p>
<h4 id="라인-터미네이터"><a href="#라인-터미네이터" class="headerlink" title="라인 터미네이터"></a>라인 터미네이터</h4><p>컨텐츠의 행 종결 자는 Java 컴파일러에 의해 CR ( ) 및 CRLF ( )에서 LF ( )로 정규화 됩니다 .<br>이렇게하면 소스 코드가 플랫폼 인코딩으로 변환 된 경우에도 컨텐츠에서 파생 된 문자열이 플랫폼에서 동일 합니다.\u000D\u000D\u000A\u000Ajavac -encoding</p>
<p>예를 들어, Unix 플랫폼 (줄 종결자가 LF 인)에서 작성된 Java 소스 코드가 Windows 플랫폼 (줄 종결자가 CRLF 인)에서 편집 된 경우<br>정규화를 수행하지 않으면 컨텐츠가 각 문자마다 한 문자 씩 길어집니다.<br>선. 줄 종결자인 LF에 의존하는 알고리즘은 실패 할 수 있으며, 문자열 동등성을 검증하는 데 필요한 테스트 String::equals는 실패합니다.</p>
<p>이스케이프 시퀀스 \n(LF), \f(FF) 및 \r(CR)은 정규화 중에 해석 되지 않습니다 . 이스케이프 처리는 나중에 발생합니다.</p>
<h4 id="우연한-공백"><a href="#우연한-공백" class="headerlink" title="우연한 공백"></a>우연한 공백</h4><p>동기 부여의 텍스트 블록은 연결된 문자열 리터럴 문자보다 읽기 쉬웠지만 텍스트 블록의 내용에 대한<br> 명확한 해석에는 포함 된 문자열을 들여 쓰기하기 위해 추가 된 공백이 포함되어있어 시작 구분 기호와 깔끔하게 정렬됩니다.<br> 다음은 점을 사용하여 개발자가 들여 쓰기를 위해 추가 한 공간을 시각화하는 HTML 예제입니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">..............&lt;html&gt;</span></span><br><span class="line"><span class="string">..............    &lt;body&gt;</span></span><br><span class="line"><span class="string">..............        &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">..............    &lt;/body&gt;</span></span><br><span class="line"><span class="string">..............&lt;/html&gt;</span></span><br><span class="line"><span class="string">..............&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>여는 분리 문자는 일반적으로 텍스트 블록을 소비하는 명령문 또는 표현식과 동일한 행에 표시되도록 배치되므로 14 개의 시각화 된 공간이<br>각 행을 시작한다는 사실에는 아무런 의미가 없습니다. 내용에 공백을 포함하면 텍스트 블록이 연결된 문자열 리터럴로 표시된 것과 다른 문자열을 나타냅니다.<br>이로 인해 마이그레이션이 손상되고 반복되는 놀라움의 원천이 될 것입니다. 개발자가 문자열에서 이러한 공간을 원하지 않을 가능성이 압도적 입니다.<br>또한, 닫는 구분자는 일반적으로 컨텐츠와 정렬되도록 위치되며, 이는 14 개의 시각화 된 공간이 중요하지 않음을 추가로 제안한다.</p>
<p>또한 각 줄의 끝에 공백이 나타날 수 있습니다.<br>특히 다른 파일에서 스니펫을 복사하여 붙여 넣기하여 텍스트 블록을 채울 경우<br>(자세한 내용은 더 많은 파일에서 복사하여 붙여 넣기로 형성되었을 수 있음) 다음은 공백을 시각화하기 위해 점을 사용하여 후행 공백으로<br>다시 작성된 HTML 예제입니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">..............&lt;html&gt;...</span></span><br><span class="line"><span class="string">..............    &lt;body&gt;</span></span><br><span class="line"><span class="string">..............        &lt;p&gt;Hello, world&lt;/p&gt;....</span></span><br><span class="line"><span class="string">..............    &lt;/body&gt;.</span></span><br><span class="line"><span class="string">..............&lt;/html&gt;...</span></span><br><span class="line"><span class="string">..............&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>후행 공백은 대부분 비 의도적이거나 관용적이며 중요하지 않습니다. 개발자가 신경 쓰지 않을 가능성이 압도적입니다.<br>후행 공백 문자는 소스 코드 편집 환경에서 보이지 않는 아티팩트라는 점에서 줄 종결 자와 비슷합니다.<br>내용에 포함 된 후행 공백 문자의 존재에 대한 시각적 가이드가 없으면 문자열의 길이,<br>해시 코드 등에 영향을 줄 수 있기 때문에 반복되는 놀라운 소스가 될 것입니다.</p>
<p>따라서, 텍스트 블록의 내용에 대한 적절한 해석 은 각 줄의 시작과 끝에 우발적 인 공백 을 필수 공백 과 구별하는 것 입니다.<br>Java 컴파일러는 부수적 인 공백을 제거하여 개발자가 의도 한 내용을 산출함으로써 컨텐츠를 처리합니다.<br>String::indent원하는 경우 들여 쓰기를 관리하는 데 사용할 수 있습니다. |여백을 시각화하는 데 사용 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|&lt;html&gt;|</span><br><span class="line">|    &lt;body&gt;|</span><br><span class="line">|        &lt;p&gt;Hello, world&lt;/p&gt;|</span><br><span class="line">|    &lt;/body&gt;|</span><br><span class="line">|&lt;/html&gt;|</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>재 압입 알고리즘 라인 종결 LF로 정규화 된 텍스트 블록의 내용 걸린다.<br>행 중 하나 이상이 가장 왼쪽 위치에 공백이 아닌 문자를 가질 때까지 각 컨텐츠 행에서 동일한 양의 공백을 제거합니다.<br>여는 “””문자 의 위치는 알고리즘에 영향을 미치지 않지만 닫는 “””문자 의 위치 는 자체 줄에 배치 된 경우 영향을 미칩니다.<br>알고리즘은 다음과 같습니다.</p>
<ul>
<li><p>LF마다 텍스트 블록의 내용을 분할하여 개별 행 목록을 생성하십시오 . 컨텐츠의 LF 인 행은 개별 행 목록에서 빈 행이됩니다.</p>
</li>
<li><p>개별 라인 목록에서 공백이 아닌 라인을 결정 라인 세트에 추가하십시오 .<br>(빈 줄-비어 있거나 전체 공백으로 구성된 줄)은 들여 쓰기에 눈에 띄는 영향을 미치지 않습니다.<br>결정된 줄 집합에서 빈 줄을 제외하면 알고리즘의 4 단계에서 벗어나지 않습니다.</p>
</li>
<li><p>개별 행 목록의 마지막 행 (즉, 닫는 구분 기호가있는 행)이 공백 인 경우 결정 행 세트에 추가하십시오.<br>닫는 구분 기호의 들여 쓰기는 내용 전체의 들여 쓰기에 영향을 주어야합니다 ( “중요 후행”정책).</p>
</li>
<li><p>컴퓨팅 공통의 공백 접두사 각 라인의 선두 공백 문자의 수를 계산하고 최소 수를 고려하여, 선을 결정하는 세트를.</p>
</li>
<li><p>개별 행 목록의 공백이 아닌 각 행에서 공통 공백 접 두부를 제거하십시오 .</p>
</li>
<li><p>5 단계에서 개별 행의 수정 된 목록에있는 모든 행에서 모든 후행 공백을 제거하십시오.<br>이 단계는 수정 된 목록에서 전체 공백 행을 축소하여 비어 있지만 삭제하지는 않습니다.</p>
</li>
<li><p>LF를 행 사이의 분리 자로 사용하여 6 단계에서 수정 된 개별 행 목록의 모든 행을 결합하여 결과 문자열을 구성하십시오.<br>6 단계의 목록에서 마지막 행이 비어 있으면 이전 행의 결합 LF가 결과 문자열의 마지막 문자가됩니다.</p>
</li>
</ul>
<p>이스케이프 시퀀스 \b(백 스페이스) 및 \t(탭)는 알고리즘에 의해 해석 되지 않습니다. 이스케이프 처리는 나중에 발생합니다.</p>
<p>재 들여 쓰기 알고리즘은 Java 언어 사양 에서 규범이됩니다 . 개발자는 String::stripIndent 새로운 인스턴스 메소드 인을 통해 액세스 할 수 있습니다.</p>
<h4 id="중요한-후행-정책"><a href="#중요한-후행-정책" class="headerlink" title="중요한 후행 정책"></a>중요한 후행 정책</h4><p>일반적으로 두 가지 방법으로 텍스트 블록의 형식을 지정합니다. 첫째, 첫 번째 “여는 구분 기호 아래에 표시 할 내용의 왼쪽 가장자리를 배치하고<br>두 번째는 여는 구분 기호 아래에 정확하게 표시되도록 닫는 구분 기호를 자체 줄에 배치합니다.<br>결과 문자열은 줄의 시작 부분에 공백이 없으며 닫는 구분 기호의 후행 공백 줄을 포함하지 않습니다.</p>
<p>그러나 후행 공백 행은 결정 행으로 간주 되므로이를 왼쪽으로 이동하면 공통 공백 접두어가 줄어들어 모든 행의 시작 부분에서 제거되는 공백의 양이 줄어 듭니다.<br>닫는 구분 기호가 왼쪽으로 완전히 이동하는 극단적 인 경우에는 일반적인 공백 접두어를 0으로 줄이고 공백 제거를 효과적으로 제거합니다.</p>
<p>예를 들어, 닫는 구분 기호가 왼쪽으로 완전히 이동하면 점으로 시각화 할 공백이 없습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>닫는 구분 기호가있는 후행 공백 행을 포함하여 공통 공백 접두어는 0이므로 각 행의 시작에서 공백이 없습니다.<br>따라서 알고리즘은 다음을 생성 |합니다 (왼쪽 여백을 시각화하는 데 사용 ).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|              &lt;html&gt;</span><br><span class="line">|                  &lt;body&gt;</span><br><span class="line">|                      &lt;p&gt;Hello, world&lt;/p&gt;</span><br><span class="line">|                  &lt;/body&gt;</span><br><span class="line">|              &lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>또한, 닫는 구분 기호가 아니라 오히려 아래, 왼쪽으로 끝까지 이동하지 않는 가정 t의 html는 변수 선언보다 더 깊은 팔 개 공간하므로 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>점으로 표시된 공간은 부수적 인 것으로 간주됩니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">........      &lt;html&gt;</span></span><br><span class="line"><span class="string">........          &lt;body&gt;</span></span><br><span class="line"><span class="string">........              &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">........          &lt;/body&gt;</span></span><br><span class="line"><span class="string">........      &lt;/html&gt;</span></span><br><span class="line"><span class="string">........&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>닫는 구분 기호가있는 후행 공백 행을 포함하여 공통 공백 접두어는 8이므로 각 행의 시작에서 8 개의 공백이 제거됩니다.<br>따라서 알고리즘은 닫는 구분 기호와 관련하여 내용의 필수 들여 쓰기를 유지합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|      &lt;html&gt;</span><br><span class="line">|          &lt;body&gt;</span><br><span class="line">|              &lt;p&gt;Hello, world&lt;/p&gt;</span><br><span class="line">|          &lt;/body&gt;</span><br><span class="line">|      &lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>마지막으로 닫는 구분 기호가 내용 의 오른쪽 으로 약간 이동했다고 가정합니다 .</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              &lt;html&gt;</span></span><br><span class="line"><span class="string">                  &lt;body&gt;</span></span><br><span class="line"><span class="string">                      &lt;p&gt;Hello, world&lt;/p&gt;</span></span><br><span class="line"><span class="string">                  &lt;/body&gt;</span></span><br><span class="line"><span class="string">              &lt;/html&gt;</span></span><br><span class="line"><span class="string">                  &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>점으로 표시된 공간은 부수적 인 것으로 간주됩니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String html = &quot;&quot;&quot;</span><br><span class="line">..............&lt;html&gt;</span><br><span class="line">..............    &lt;body&gt;</span><br><span class="line">..............        &lt;p&gt;Hello, world&lt;/p&gt;</span><br><span class="line">..............    &lt;/body&gt;</span><br><span class="line">..............&lt;/html&gt;</span><br><span class="line">..............    &quot;&quot;&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>공통 공백 접두어는 14이므로 각 행의 시작에서 14 개의 공백이 제거됩니다. 마지막 빈 줄은 빈 줄을 남기기 위해 제거되고 마지막 줄은 버려집니다.<br>즉, 닫는 구분 기호를 내용의 오른쪽으로 이동해도 아무런 영향을 미치지 않으며 알고리즘은 내용의 필수 들여 쓰기를 다시 유지합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|&lt;html&gt;</span><br><span class="line">|    &lt;body&gt;</span><br><span class="line">|        &lt;p&gt;Hello, world&lt;/p&gt;</span><br><span class="line">|    &lt;/body&gt;</span><br><span class="line">|&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="탈출-순서"><a href="#탈출-순서" class="headerlink" title="탈출 순서"></a>탈출 순서</h4><p>내용을 다시 들여 쓰기 한 후 내용의 이스케이프 시퀀스 가 해석됩니다.<br>텍스트 블록은 문자열 리터럴 같은 동일한 이스케이프 시퀀스 지원 \n, \t, &#39;, &quot;, 및 \.<br>전체 목록 은 The Java Language Specification의 3.10.6 단원을 참조하십시오 .<br>개발자는 새로운 인스턴스 메소드 인을 통해 이스케이프 처리에 액세스 할 수 있습니다 .String::translateEscapes</p>
<p>마지막 단계로 탈출을 해석하는 것은 사용에 개발자 수 \n, \f그리고 \r는<br>1 단계에서 줄 끝의 번역에 영향을주지 않고 문자열의 수직 형식에 대한,<br>그리고 사용에 \b그리고 \t그것은 부수적 인 공백의 제거에 영향을주지 않고 문자열의 수평 형식에 대한을<br>예를 들어, \r이스케이프 시퀀스 (CR) 를 포함하는이 텍스트 블록을 고려하십시오 .</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">String html = &quot;&quot;&quot;</span><br><span class="line">              &lt;html&gt;\r</span><br><span class="line">                  &lt;body&gt;\r</span><br><span class="line">                      &lt;p&gt;Hello, world&lt;/p&gt;\r</span><br><span class="line">                  &lt;/body&gt;\r</span><br><span class="line">              &lt;/html&gt;\r</span><br><span class="line">              &quot;&quot;&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>CR 이스케이프는 라인 터미네이터가 LF로 정규화 될 때까지 처리되지 않습니다.<br>유니 코드 이스케이프를 사용하여 LF ( \u000A) 및 CR ( \u000D) 을 시각화 하면 결과는 다음과 같습니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|&lt;html&gt;\u000D\u000A</span><br><span class="line">|    &lt;body&gt;\u000D\u000A</span><br><span class="line">|        &lt;p&gt;Hello, world&lt;/p&gt;\u000D\u000A</span><br><span class="line">|    &lt;/body&gt;\u000D\u000A</span><br><span class="line">|&lt;/html&gt;\u000D\u000A</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>“텍스트 블록 안에서, 여는 또는 닫는 구분 기호 옆에서도 자유롭게 사용하는 것이 합법적 입니다. 예를 들면 다음과 같습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">story</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &quot;When I use a word,&quot; Humpty Dumpty said,</span></span><br><span class="line"><span class="string">    in rather a scornful tone, &quot;it means just what I</span></span><br><span class="line"><span class="string">    choose it to mean - neither more nor less.&quot;</span></span><br><span class="line"><span class="string">    &quot;The question is,&quot; said Alice, &quot;whether you</span></span><br><span class="line"><span class="string">    can make words mean so many different things.&quot;</span></span><br><span class="line"><span class="string">    &quot;The question is,&quot; said Humpty Dumpty,</span></span><br><span class="line"><span class="string">    &quot;which is to be master - that&#x27;s all.&quot;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>그러나 세 “문자의 시퀀스 “는 닫는 구분 기호를 모방하지 않기 위해 하나 이상의 이스케이프가 필요합니다 .</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> </span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    String text = \&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        A text block inside a text block</span></span><br><span class="line"><span class="string">    \&quot;&quot;&quot;;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">tutorial1</span> <span class="operator">=</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    A common character</span></span><br><span class="line"><span class="string">    in Java programs</span></span><br><span class="line"><span class="string">    is \&quot;&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">tutorial2</span> <span class="operator">=</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    The empty string literal</span></span><br><span class="line"><span class="string">    is formed from &quot; characters</span></span><br><span class="line"><span class="string">    as follows: \&quot;\&quot;&quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     1 &quot;</span></span><br><span class="line"><span class="string">     2 &quot;&quot;</span></span><br><span class="line"><span class="string">     3 &quot;&quot;\&quot;</span></span><br><span class="line"><span class="string">     4 &quot;&quot;\&quot;&quot;</span></span><br><span class="line"><span class="string">     5 &quot;&quot;\&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     6 &quot;&quot;\&quot;&quot;&quot;\&quot;</span></span><br><span class="line"><span class="string">     7 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;</span></span><br><span class="line"><span class="string">     8 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">     9 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;\&quot;</span></span><br><span class="line"><span class="string">    10 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;\&quot;&quot;</span></span><br><span class="line"><span class="string">    11 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    12 &quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;\&quot;&quot;&quot;\&quot;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="새로운-이스케이프-시퀀스"><a href="#새로운-이스케이프-시퀀스" class="headerlink" title="새로운 이스케이프 시퀀스"></a>새로운 이스케이프 시퀀스</h4><p>줄 바꿈 및 공백 처리를보다 세밀하게 제어 할 수 있도록 두 개의 새로운 이스케이프 시퀀스를 도입했습니다.</p>
<p>첫째, &lt;line-terminator&gt;이스케이프 시퀀스는 개행 문자의 삽입을 명시 적으로 억제합니다.</p>
<p>예를 들어, 매우 긴 문자열 리터럴을 더 작은 하위 문자열의 연결로 분할 한 다음 결과 문자열 표현식을 여러 줄로 하드 래핑하는 것이 일반적입니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">literal</span> <span class="operator">=</span> <span class="string">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing &quot;</span> +</span><br><span class="line">                 <span class="string">&quot;elit, sed do eiusmod tempor incididunt ut labore &quot;</span> +</span><br><span class="line">                 <span class="string">&quot;et dolore magna aliqua.&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&lt;line-terminator&gt;이스케이프 시퀀스를 사용하면 다음과 같이 표현할 수 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                Lorem ipsum dolor sit amet, consectetur adipiscing \</span></span><br><span class="line"><span class="string">                elit, sed do eiusmod tempor incididunt ut labore \</span></span><br><span class="line"><span class="string">                et dolore magna aliqua.\</span></span><br><span class="line"><span class="string">                &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>문자 리터럴과 기존 문자열 리터럴에서 개행 문자가 포함되지 않는 간단한 이유 때문에<br>&lt;line-terminator&gt; 이스케이프 시퀀스는 텍스트 블록에만 적용 할 수 있습니다.</p>
<p>둘째, 새 \s이스케이프 시퀀스는 단순히 단일 공백 (\u0020)으로 변환됩니다 .</p>
<p>이스케이프 시퀀스는 우발적 인 공백 제거 이후까지 번역되지 않으므로 \s후행 공백 제거를 방지하는 울타리 역할을 할 수 있습니다.<br>\s이 예에서 각 행의 끝에 사용하면 각 행의 길이가 정확히 6 자임을 보장합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">colors</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    red  \s</span></span><br><span class="line"><span class="string">    green\s</span></span><br><span class="line"><span class="string">    blue \s</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>\s 이스케이프 시퀀스는 텍스트 블록, 기존의 string 리터럴 및 character 리터럴에서 사용할 수 있습니다.</p>
<h4 id="텍스트-블록의-연결"><a href="#텍스트-블록의-연결" class="headerlink" title="텍스트 블록의 연결"></a>텍스트 블록의 연결</h4><p>문자열 리터럴을 사용할 수있는 곳이면 어디든지 텍스트 블록을 사용할 수 있습니다. 예를 들어, 텍스트 블록과 문자열 리터럴은 서로 바꿔서 연결할 수 있습니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;public void print(Object o) &#123;&quot;</span> +</span><br><span class="line">              <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>그러나 텍스트 블록과 관련된 연결은 다소 번거로울 수 있습니다. 이 텍스트 블록을 시작점으로 사용하십시오.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              public void print(Object o) &#123;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>유형이 o변수에서 나오도록 변경해야한다고 가정하십시오 . 연결을 사용하면 후행 코드가 포함 된 텍스트 블록을 새 줄에서 시작해야합니다.<br>불행히도, 아래와 같이 프로그램에 개행을 직접 삽입하면 유형과 텍스트 시작 사이에 공백이 길어집니다 o.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              public void print(&quot;&quot;&quot;</span> + type + <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                                                 o) &#123;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>공백은 수동으로 제거 할 수 있지만 인용 된 코드의 가독성이 떨어집니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              public void print(&quot;&quot;&quot;</span> + type + <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">               o) &#123;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>클리너 대안은 사용하는 것 String::replace또는 String::format다음과 같이 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              public void print($type o) &#123;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>.replace(<span class="string">&quot;$type&quot;</span>, type);</span><br><span class="line"><span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> String.format(<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">              public void print(%s o) &#123;</span></span><br><span class="line"><span class="string">                  System.out.println(Objects.toString(o));</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">              &quot;&quot;&quot;</span>, type);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>또 다른 대안은 String::formatted다음과 같이 사용할 수 있는 새로운 인스턴스 메소드를 도입하는 것입니다 .</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">source</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                public void print(%s object) &#123;</span></span><br><span class="line"><span class="string">                    System.out.println(Objects.toString(object));</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                &quot;&quot;&quot;</span>.formatted(type);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="추가-방법"><a href="#추가-방법" class="headerlink" title="추가 방법"></a>추가 방법</h4><p>텍스트 블록을 지원하기 위해 다음 방법이 추가됩니다.</p>
<ul>
<li>String::stripIndent(): 텍스트 블록 내용에서 우발적 인 공백을 제거하는 데 사용됩니다.</li>
<li>String::translateEscapes(): 이스케이프 시퀀스를 번역하는 데 사용</li>
<li>String::formatted(Object… args): 텍스트 블록에서 값 대체를 단순화</li>
</ul>
<h3 id="Alternatives"><a href="#Alternatives" class="headerlink" title="Alternatives"></a>Alternatives</h3><h4 id="아무것도하지-마세요"><a href="#아무것도하지-마세요" class="headerlink" title="아무것도하지 마세요"></a>아무것도하지 마세요</h4><p>Java는 줄 바꿈을 피해야하는 문자열 리터럴로 20 년 이상 번성했습니다.<br>IDE는 여러 줄의 소스 코드에 걸쳐있는 문자열의 자동 서식 및 연결을 지원하여 유지 관리 부담을 덜어줍니다.<br>이 String클래스는 또한 문자열 을 행 스트림 으로 표시하는 방법과 같이 긴 문자열의 처리 및 서식을 단순화하는 메서드를 포함하도록 발전했습니다 .<br>그러나 문자열은 Java 언어의 근본적인 부분으로, 문자열 리터럴의 단점은 수많은 개발자 에게 명백합니다..<br>다른 JVM 언어도 길고 복잡한 문자열이 표시되는 방식을 개선했습니다.<br>놀랍게도, 다중 라인 문자열 리터럴은 지속적으로 가장 요구되는 Java 기능 중 하나였습니다.<br>복잡성이 낮거나 중간 정도 인 여러 줄로 구성된 구문을 도입하면 비용이 많이 듭니다.</p>
<h4 id="문자열-리터럴이-여러-줄로-확장되도록-허용"><a href="#문자열-리터럴이-여러-줄로-확장되도록-허용" class="headerlink" title="문자열 리터럴이 여러 줄로 확장되도록 허용"></a>문자열 리터럴이 여러 줄로 확장되도록 허용</h4><p>기존의 문자열 리터럴에 줄 종결자를 허용함으로써 Java에서 여러 줄 문자열 리터럴을 도입 할 수 있습니다.<br>그러나 이것은 “등장 인물 의 고통에 대해서는 아무 것도하지 않습니다 .<br>코드 스 니펫 빈도로 인해 &quot;이후에 가장 자주 발생하는 이스케이프 시퀀스 \n입니다.<br>“문자열 리터럴에서 이스케이프를 피하는 유일한 방법 은 문자열 리터럴에 대한 대체 구분 기호 체계를 제공하는 것입니다.<br>구분자는 JEP 326 (Raw String Literals)에 대해 많이 논의 되었으며, 학습 한 내용은 텍스트 블록의 디자인을 알리는 데 사용되었으므로<br>문자열 리터럴의 안정성을 뒤집는 데 잘못 안내됩니다.</p>
<h4 id="다른-언어의-다중-문자열-리터럴-채택"><a href="#다른-언어의-다중-문자열-리터럴-채택" class="headerlink" title="다른 언어의 다중 문자열 리터럴 채택"></a>다른 언어의 다중 문자열 리터럴 채택</h4><p>여러 줄 문자열 리터럴은 기존 문자열 리터럴에서 줄 종결자를 허용하여 Java에서 간단히 도입 할 수 있습니다.<br>그러나 이것은 “캐릭터 이스케이프의 고통에 대해서는 아무 효과가 없습니다 . 코드 스 니펫의 빈도로 인해 &quot;<br>이후 가장 자주 발생하는 이스케이프 시퀀스 \n입니다.<br>“문자열 리터럴에서 이스케이프를 방지하는 유일한 방법 은 문자열 리터럴에 대한 대체 구분 기호 체계를 제공하는 것입니다.<br>구분 기호는 JEP 326 (Raw String Literals)에 대해 많이 논의되었으며<br>학습 한 교훈은 텍스트 블록의 디자인에 정보를 제공하는 데 사용되었으므로 문자열 리터럴의 안정성을 혼란스럽게 만들었습니다.</p>
<p>많은 사람들이 Java가 Swift 또는 Rust의 여러 줄 문자열 리터럴을 채택해야한다고 제안했습니다.<br>그러나 “언어 X가하는 일을하는 것”의 접근 방식은 본질적으로 무책임합니다.<br>모든 언어의 거의 모든 기능은 해당 언어의 다른 기능으로 구성됩니다.<br>대신, 게임은 다른 언어가하는 일을 통해 배우고, 그들이 선택한 트레이드 오프 (명시 적 및 암시 적)를 평가하고,<br>우리가 가진 언어의 제약 조건과 커뮤니티 내 사용자의 기대에 적용 할 수있는 질문을하는 것입니다.</p>
<p>들어 JEP 326 (원시 문자열 리터럴), 우리는 많은 현대적인 프로그래밍 언어와 여러 줄 문자열 리터럴에 대한 지원을 대상으로 설문 조사를 실시했습니다.<br>이러한 조사의 결과는 “분리 문자에 대한 세 문자 선택 (이 선택에 대한 다른 이유도 있었음) 및<br>자동 들여 쓰기 관리의 필요성 인식과 같은 현재 제안에 영향을 미쳤습니다.</p>
<h4 id="우발적-인-공백-제거"><a href="#우발적-인-공백-제거" class="headerlink" title="우발적 인 공백 제거"></a>우발적 인 공백 제거</h4><p>Java가 부수적 인 공백을 자동으로 제거하는 기능을 지원하지 않고 여러 줄 문자열 리터럴을 도입 한 경우<br>많은 개발자가 자체 공백을 제거하는 메소드를 작성하거나 String클래스가 제거 메소드를 포함하도록 로비합니다 .<br>그러나 이는 문자열이 런타임에 인스턴스화 될 때마다 잠재적으로 값 비싼 계산을 의미하므로 문자열 인터 닝의 이점이 줄어 듭니다.<br>Java 언어를 사용하면 선행 및 후행 위치에서 우발적 인 공백 제거가 가장 적합한 솔루션 인 것 같습니다.<br>개발자는 닫는 구분 기호를주의해서 배치하여 공백을 제거 할 수 있습니다.</p>
<p>후행 공백 제거를 거부 할 수 없으므로 후행 공백이 중요한 드문 경우 (예 : Markdown 의 <br>태그에 공백 두 개 )<br>개발자는 8 진과 같이 포함을 강제로 포함시키기 위해 특별한 조치를 취해야합니다.<br>이스케이프 시퀀스\040 (ASCII 문자 32, 공백) :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">The quick brown fox\040\040</span><br><span class="line">jumps over the lazy dog</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">The quick brown fox&quot;&quot;&quot; + &quot;  \n&quot; + &quot;&quot;&quot;</span><br><span class="line">jumps over the lazy dog</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">The quick brown fox  |</span><br><span class="line">jumps over the lazy dog</span><br><span class="line">&quot;&quot;&quot;.replace(&quot;|&quot;, &quot;&quot;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="원시-문자열-리터럴"><a href="#원시-문자열-리터럴" class="headerlink" title="원시 문자열 리터럴"></a>원시 문자열 리터럴</h4><p>들어 JEP 326 (원시 문자열 리터럴), 우리는 문자열의 원시 다움에 초점을 탈출 줄 바꿈 및 따옴표없이 문자열을 나타내는 문제에 대한 다른 접근을했다.<br>우리는 이제 원시 문자열 리터럴이 여러 줄의 소스 코드에 쉽게 확장 될 수 있지만 내용에서<br>이스케이프되지 않은 구분 기호를 지원하는 비용이 극도로 높았 기 때문에 이러한 초점이 잘못되었다고 생각합니다.<br>이는 다중 라인 사용 사례에서 기능의 효율성을 제한했습니다. 이는 Java 프로그램에 다중 라인 (그러나 실제 코드는 아님)<br>코드 스 니펫을 임베드하는 빈도로 인해 중요합니다. 원시 (raw-ness)에서 여러 줄 (multi-line-ness)로 피봇 한 결과는 문자열 리터럴,<br>텍스트 블록 및 향후 추가 될 관련 기능간에 일관된 이스케이프 언어를 사용하는 데 중점을 두었습니다.</p>
<h4 id="테스팅"><a href="#테스팅" class="headerlink" title="테스팅"></a>테스팅</h4><p>String텍스트 블록을 사용하려면 인스턴스 작성, 인터 닝 및 조작에 문자열 리터럴을 사용하는 테스트를 복제해야합니다.<br>라인 터미네이터 및 EOF와 관련된 코너 케이스에 대해서는 네거티브 테스트를 추가해야합니다.</p>
<p>텍스트 블록에 Java-in-Java, Markdown-in-Java, SQL-in-Java 및 하나 이상의 JVM-language-in-Java가 포함되도록 테스트를 추가해야합니다.</p>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="http://openjdk.java.net/jeps/375">JEP_378</a></li>
<li><a href="https://sejoung.github.io/2020/03/2020-03-09-JEP_355/">JEP 355</a></li>
</ul>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="../../../tags/JEP/">JEP</a><a class="post-meta__tags" href="../../../tags/jdk-15/">jdk 15</a><a class="post-meta__tags" href="../../../tags/Text-Blocks/">Text Blocks</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="../2020-09-21-Background__how_we_got_the_generics_we_have/"><i class="fa fa-chevron-left">  </i><span>Background: how we got the generics we have</span></a></div><div class="next-post pull-right"><a href="../2020-09-18-JEP_375/"><span>JEP 375: Pattern Matching for instanceof (Second Preview)</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://sejoung.github.io/2020/09/2020-09-21-JEP_378/';
  this.page.identifier = '2020/09/2020-09-21-JEP_378/';
  this.page.title = 'JEP 378: Text Blocks';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'kimsejoung' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://kimsejoung.disqus.com/count.js" async></script></div></div><footer class="footer-bg" style="background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg/1024px-Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2023 By sejoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="external nofollow noopener noreferrer" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="../../../js/third-party/anime.min.js"></script><script src="../../../js/third-party/jquery.min.js"></script><script src="../../../js/third-party/jquery.fancybox.min.js"></script><script src="../../../js/third-party/velocity.min.js"></script><script src="../../../js/third-party/velocity.ui.min.js"></script><script src="../../../js/utils.js?version=1.7.0"></script><script src="../../../js/fancybox.js?version=1.7.0"></script><script src="../../../js/sidebar.js?version=1.7.0"></script><script src="../../../js/copy.js?version=1.7.0"></script><script src="../../../js/fireworks.js?version=1.7.0"></script><script src="../../../js/transition.js?version=1.7.0"></script><script src="../../../js/scroll.js?version=1.7.0"></script><script src="../../../js/head.js?version=1.7.0"></script><script src="../../../js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>