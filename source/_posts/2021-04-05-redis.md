---
layout: post
title: "레디스(redis)"
date: 2021-04-05 12:53 +0900
comments: true
tags : ["redis","레디스","nosql"]
categories : ["db"]
sitemap :
  changefreq : daily
  priority : 1.0
---
# 레디스(redis)

## 개발 용이성
* 자료구조가 atomic 하다.(race condition을 피할수 있다.)
* collection을 제공 한다.

## replication
* primary 와 secondary 구조로 replication을 셋팅할수 있다.
* DB의 statement replication(명령어로 동기화 되기 때문에 rua script를 사용하면 문제가 생길수도 있음)

## Redis cluster(sharding)
* Hash 기반으로 Slot 16384 로 구분
* Hash 알고리즘은 CRC16을 사용 Slot = crc16(key) % 16384

## Redis Failover
* Coordinator 기반 Failover
* VIP/DNS 기반 Failover
* Redis Cluster 의 사용

## monitoring

### redis info
* RSS
* Used Memory
* Connection 수
* 초당 처리 요청 수

### System
* CPU
* Disk
* Network rx/tx

### monitoring tool
* [redis-stat](https://github.com/junegunn/redis-stat)
* [redismon](https://github.com/charsyam/redismon)

## 참고 사항
* O(n) 명령어는 최대한 사용하지 않는다.()
* KEYS * 명령어는 사용하지 말자(SCAN 명령어 사용)


# 참고자료
* [redis](https://redis.io/)
* [[우아한테크세미나] 191121 우아한레디스 by 강대명님](https://www.youtube.com/watch?v=mPB2CZiAkKM)
* [우아한레디스 slideshare](https://www.slideshare.net/charsyam2/redis-196314086)

