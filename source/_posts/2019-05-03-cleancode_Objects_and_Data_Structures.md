---
layout: post
title: "클린코드(객체와 자료구조)"
date: 2019-05-03 09:11 +0900
comments: true
tags : ["클린코드","cleancode"]
categories : ["books"]
sitemap :
  changefreq : daily
  priority : 1.0
---

## 클린코드

### 객체와 자료구조

변수를 private으로 선언하는 이유가 있다 남들이 변수에 의존하지 않았으면 싶어서 이다.

#### 자료 추상화

자료를 세세하게 공개하는것 보다 추상적인 개념으로 표현하는 편이 낫다.

인터페이스나 get/set함수만으로 추상화가 이뤄지지 않는다. 
아무 생각 없이 get/set함수를 추가하는것이 가장 나쁘다.

#### 자료/객체 비대칭

객체와 자료구조는 근본적으로 양분된다.
절차적 코드는 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하기 쉽다. 
객체 지향 코드는 기존함수를 변경하지 않으면서 새클래스를 추가하기 쉽다.

성숙한 프로그래머는 모든 것이 객체라는 생각이 미신임을 잘안다. 
때로는 단순한 자료구조와 절차적 코드가 가장 적합한 상황도 있다.

#### 디미터 법칙

모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다. 
객체는 자료를 숨기고 함수를 공개한다.


##### 기차 충돌

```java

final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();

```
흔히 위와 같은 코드를 기차 충돌(train wreck)라고 부른다.

위코드는 아래 처럼 바꾸는것이 좋다.

```java

final Options opts = ctxt.getOptions();

final File scratchDir = opts.getScratchDir();

final String outputDir = scratchDir.getAbsolutePath();

```

디미터 법칙을 위반하는지 여부는 객체인지 자료구조인지에 따라 틀리다.

위 정보가 객체라면 디미터 법칙을 위반한것이고, 자료구조라면 위반한것이 아니다.


##### 잡종구조

이런 혼란으로 때로는 반은 객체이고 반은 자료구조인 잡종구조가 나온다. 잡종구조는 되도록 피하는것이 좋다.

##### 구조체 감추기

위에 코드가 객체라면 임시 디렉토리에 절대 경로를 왜 알아야 될까? 그부분을 알아서 필요한 메소드를 구현하는 편이 더 좋다.

#### 자료 전달 객체(DTO)

일반적인 형태는 빈구조

##### 활성 레코드

활성 레코드는 DTO의 특수한 형태이다.


# 참조
-----

