<!DOCTYPE html><html lang="lang"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="도커 처음 시작하기part2(컨테이너)"><meta name="keywords" content="docker"><meta name="author" content="sejoung"><meta name="copyright" content="sejoung"><title>도커 처음 시작하기part2(컨테이너) | 폭간의 기술블로그</title><link rel="shortcut icon" href="../../../my-favicon.ico"><link rel="stylesheet" href="../../../css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script async src="https://www.googletagmanager.com/gtag/js?id=G-NVRTGLD8RZ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-NVRTGLD8RZ');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 5.4.2"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EB%8F%84%EC%BB%A4-%EC%B2%98%EC%9D%8C-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88"><span class="toc-number">1.</span> <span class="toc-text">도커 처음 시작하기(컨테이너)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%A0%84%EC%A0%9C%EC%A1%B0%EA%B1%B4"><span class="toc-number">1.1.</span> <span class="toc-text">전제조건</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%86%8C%EA%B0%9C"><span class="toc-number">1.2.</span> <span class="toc-text">소개</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD"><span class="toc-number">1.3.</span> <span class="toc-text">새로운 개발 환경</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0-Dockerfile"><span class="toc-number">1.4.</span> <span class="toc-text">컨테이너 정의하기 Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dockerfile"><span class="toc-number">1.4.1.</span> <span class="toc-text">Dockerfile</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="toc-number">1.5.</span> <span class="toc-text">어플리케이션 만들기</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#requirements-txt"><span class="toc-number">1.5.1.</span> <span class="toc-text">requirements.txt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#app-py"><span class="toc-number">1.5.2.</span> <span class="toc-text">app.py</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%B9%8C%EB%93%9C%ED%95%98%EA%B8%B0"><span class="toc-number">1.6.</span> <span class="toc-text">어플리케이션 빌드하기</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%8B%A4%ED%96%89"><span class="toc-number">1.7.</span> <span class="toc-text">어플리케이션 실행</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#image-%EA%B3%B5%EC%9C%A0%ED%95%98%EA%B8%B0"><span class="toc-number">1.8.</span> <span class="toc-text">image 공유하기</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Docker-ID%EB%A1%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8%ED%95%98%EC%8B%AD%EC%8B%9C%EC%98%A4"><span class="toc-number">1.8.1.</span> <span class="toc-text">Docker ID로 로그인하십시오.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9D%B4%EB%AF%B8%EC%A7%80%EC%97%90-%ED%83%9C%EA%B7%B8-%EB%8B%AC%EA%B8%B0"><span class="toc-number">1.8.2.</span> <span class="toc-text">이미지에 태그 달기</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%93%B1%EB%A1%9D"><span class="toc-number">1.8.3.</span> <span class="toc-text">이미지 등록</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EC%9B%90%EA%B2%A9-%EC%A0%80%EC%9E%A5%EC%86%8C%EC%97%90%EC%84%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EB%8B%B9%EA%B2%A8-%EC%8B%A4%ED%96%89%ED%95%98%EC%8B%AD%EC%8B%9C%EC%98%A4"><span class="toc-number">1.8.4.</span> <span class="toc-text">원격 저장소에서 이미지를 당겨 실행하십시오.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Recap-and-cheat-sheet"><span class="toc-number">1.9.</span> <span class="toc-text">Recap and cheat sheet</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%EC%B0%B8%EC%A1%B0"><span class="toc-number"></span> <span class="toc-text">참조</span></a></li></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://avatars0.githubusercontent.com/u/4936005?s=400&amp;u=a679b941fe377418e7e4efcf916c6a636d7178ee&amp;v=4"></div><div class="author-info__name text-center">sejoung</div><div class="author-info__description text-center">잘정리하자</div><div class="follow-button"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/sejoung">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../../archives"><span class="pull-left">Articles</span><span class="pull-right">724</span></a><a class="author-info-articles__tags article-meta" href="../../../tags"><span class="pull-left">Tags</span><span class="pull-right">785</span></a><a class="author-info-articles__categories article-meta" href="../../../categories"><span class="pull-left">Categories</span><span class="pull-right">74</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.naver.com/sanaes">naverblog</a><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.linkedin.com/in/sanaes/">linkedin</a><a class="author-info-links__name text-center" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.slideshare.net/sejoung">slideshare</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg/1024px-Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../../index.html">폭간의 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">도커 처음 시작하기part2(컨테이너)</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-03-13</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="../../../categories/tool/">tool</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2019/03/2019-03-13-docker-get-started_2/"></span></a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="도커-처음-시작하기-컨테이너"><a href="#도커-처음-시작하기-컨테이너" class="headerlink" title="도커 처음 시작하기(컨테이너)"></a>도커 처음 시작하기(컨테이너)</h2><h3 id="전제조건"><a href="#전제조건" class="headerlink" title="전제조건"></a>전제조건</h3><ul>
<li>Docker 버전 1.13 이상을 설치하십시오 .</li>
<li><a href="https://sejoung.github.io/2019/03/2019-03-13-docker-get-started(1)/">도커 처음 시작하기part1(오리엔테이션 및 설정)</a>에서 사용방법을 익히세요</li>
<li>환경을 신속하게 테스트 하여 모든 설정이 완료 되었는지 확인</li>
</ul>
<p><code>docker run hello-world</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker run hello-world</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"> $ docker run -it ubuntu bash</span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="소개"><a href="#소개" class="headerlink" title="소개"></a>소개</h3><p>Docker 방식으로 앱을 제작할 차례입니다.<br>이 페이지가 다루는 컨테이너 인 해당 앱의 계층 구조 맨 아래부터 시작합니다.<br>이 레벨의 위에는 파트 3 에서 다룰 컨테이너가 프로덕션 환경에서 어떻게 작동하는지 정의하는 서비스가 있습니다.<br>마지막으로 최상위 단계는 스택이며 파트 5 에서 다루는 모든 서비스의 상호 작용을 정의합니다 .</p>
<ul>
<li>스택</li>
<li>서비스</li>
<li>컨테이너 (여기에 있습니다)</li>
</ul>
<h3 id="새로운-개발-환경"><a href="#새로운-개발-환경" class="headerlink" title="새로운 개발 환경"></a>새로운 개발 환경</h3><p>과거에는 Python 응용 프로그램을 작성하기 시작한 경우 비즈니스의 첫 번째 순서는 Python 런타임을 시스템에 설치하는 것이 었습니다.<br>하지만, 이것은 여러분의 컴퓨터에서 환경이 앱이 예상대로 돌아가고 또한 프로덕션 환경과 일치해야 할 필요가있는 상황을 만듭니다.</p>
<p>Docker를 사용하면 이식 가능한 Python 런타임을 이미지로 가져올 수 있으며 설치가 필요하지 않습니다.<br>그런 다음 빌드는 앱 코드와 함께 기본 Python 이미지를 포함 할 수 있으므로 앱, 해당 종속성 및 런타임이 함께 ​​여행 할 수 있습니다.</p>
<p>이 휴대용 이미지는 <code>Dockerfile</code> 라는 이름으로 정의됩니다 .</p>
<h3 id="컨테이너-정의하기-Dockerfile"><a href="#컨테이너-정의하기-Dockerfile" class="headerlink" title="컨테이너 정의하기 Dockerfile"></a>컨테이너 정의하기 Dockerfile</h3><p><code>Dockerfile</code>은 컨테이너 내부의 환경을 정의합니다.<br>시스템의 나머지 부분과 격리되어있는 리소스들을 접속합니다.<br>예를 들면 가상화 되어있는 환경안의 네트워킹 인터페이스 및 디스크 드라이브 그리고 복사할 파일 또는 환경<br>그러나 리소스들만 Dockerfile에 정의 되어있으면 어디서나 똑같이 작동합니다.</p>
<h4 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h4><p>로컬 컴퓨터에 빈 디렉터리를 만듭니다.<br>디렉토리 (cd)를 새 디렉토리로 변경 Dockerfile 생성 하고 다음 내용을 해당 파일에 복사하여 붙여 넣은 파일을 작성하고 저장하십시오.<br>새로운 Dockerfile 의 각 문장을 설명하는 주석을 기록하십시오.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># Use an official Python runtime as a parent image</span><br><span class="line">FROM python:2.7-slim</span><br><span class="line"></span><br><span class="line"># Set the working directory to /app</span><br><span class="line">WORKDIR /app</span><br><span class="line"></span><br><span class="line"># Copy the current directory contents into the container at /app</span><br><span class="line">COPY . /app</span><br><span class="line"></span><br><span class="line"># Install any needed packages specified in requirements.txt</span><br><span class="line">RUN pip install --trusted-host pypi.python.org -r requirements.txt</span><br><span class="line"></span><br><span class="line"># Make port 80 available to the world outside this container</span><br><span class="line">EXPOSE 80</span><br><span class="line"></span><br><span class="line"># Define environment variable</span><br><span class="line">ENV NAME World</span><br><span class="line"></span><br><span class="line"># Run app.py when the container launches</span><br><span class="line">CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>이 Dockerfile 파일이 우리가 아직 작성하지 않은 몇 가지를 파일을 보고 있다.<br>app.py 하고 requirements.txt 파일.<br>그것들을 다음 단계로 만들어 보겠습니다.</p>
<h3 id="어플리케이션-만들기"><a href="#어플리케이션-만들기" class="headerlink" title="어플리케이션 만들기"></a>어플리케이션 만들기</h3><p>두 개의 파일 app.py,requirements.txt 더 만들고 Dockerfile 과 같은 폴더에 넣으십시오. </p>
<p>이것으로 우리의 앱을 완성 시켰는데, 당신이 볼 수있는 것처럼 그것은 아주 간단합니다.</p>
<h4 id="requirements-txt"><a href="#requirements-txt" class="headerlink" title="requirements.txt"></a>requirements.txt</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Flask</span><br><span class="line">Redis</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="app-py"><a href="#app-py" class="headerlink" title="app.py"></a>app.py</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">from flask import Flask</span><br><span class="line">from redis import Redis, RedisError</span><br><span class="line">import os</span><br><span class="line">import socket</span><br><span class="line"></span><br><span class="line"># Connect to Redis</span><br><span class="line">redis = Redis(host=&quot;redis&quot;, db=0, socket_connect_timeout=2, socket_timeout=2)</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">@app.route(&quot;/&quot;)</span><br><span class="line">def hello():</span><br><span class="line">    try:</span><br><span class="line">        visits = redis.incr(&quot;counter&quot;)</span><br><span class="line">    except RedisError:</span><br><span class="line">        visits = &quot;&lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;&quot;</span><br><span class="line"></span><br><span class="line">    html = &quot;&lt;h3&gt;Hello &#123;name&#125;!&lt;/h3&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Hostname:&lt;/b&gt; &#123;hostname&#125;&lt;br/&gt;&quot; \</span><br><span class="line">           &quot;&lt;b&gt;Visits:&lt;/b&gt; &#123;visits&#125;&quot;</span><br><span class="line">    return html.format(name=os.getenv(&quot;NAME&quot;, &quot;world&quot;), hostname=socket.gethostname(), visits=visits)</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    app.run(host=&#x27;0.0.0.0&#x27;, port=80)</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p><code>pip install -r requirements.txt</code> 는 Python을위한 Flask와 Redis 라이브러리를 설치하고, app은 환경 변수 NAME와 호출 결과를 출력합니다 socket.gethostname().<br>마지막으로 Redis가 실행되지 않기 때문에 (Redis 자체가 아닌 Python 라이브러리 만 설치했기 때문에) 여기에서 사용하려는 시도가 실패하고 오류 메시지가 표시되어야합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">참고 : 컨테이너 내부에서 호스트 이름에 액세스하면 실행중인 실행 파일의 프로세스 ID와 같은 컨테이너 ID가 검색됩니다.</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>그게 다야! requirements.txt시스템에 Python이나 다른 것이 필요 하지 않으며이 이미지를 빌드하거나 실행해도 시스템에 설치되지 않습니다.<br>파이썬과 플라스크로 환경을 설정 한 것처럼 보이지는 않습니다.</p>
<h3 id="어플리케이션-빌드하기"><a href="#어플리케이션-빌드하기" class="headerlink" title="어플리케이션 빌드하기"></a>어플리케이션 빌드하기</h3><p>우리는 앱을 만들 준비가되었습니다. 새 디렉토리의 최상위 레벨에 있는지 확인하십시오. 다음과 같이 ls(dir) 표시되어야합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS\docker&gt;dir</span><br><span class="line"> C 드라이브의 볼륨에는 이름이 없습니다.</span><br><span class="line"> 볼륨 일련 번호: C4C7-4AA3</span><br><span class="line"></span><br><span class="line"> C:\Users\ASUS\docker 디렉터리</span><br><span class="line"></span><br><span class="line">2019-03-13  오후 03:13    &lt;DIR&gt;          .</span><br><span class="line">2019-03-13  오후 03:13    &lt;DIR&gt;          ..</span><br><span class="line">2019-03-13  오후 03:13               687 app.py</span><br><span class="line">2019-03-13  오후 03:12               531 Dockerfile</span><br><span class="line">2019-03-13  오후 03:13                12 requirements.txt</span><br><span class="line">               3개 파일               1,230 바이트</span><br><span class="line">               2개 디렉터리  196,209,758,208 바이트 남음</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>이제 빌드 명령을 실행하십시오.<br>이렇게하면 Docker 이미지가 만들어지며 이 이미지는 –tag옵션을 사용하여 이름을 지정합니다.<br>사용 -t하면 짧은 옵션을 사용하십시오.</p>
<p><code>docker build --tag=friendlyhello .</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS\docker&gt;docker build --tag=friendlyhello .</span><br><span class="line">Sending build context to Docker daemon   5.12kB</span><br><span class="line">Step 1/7 : FROM python:2.7-slim</span><br><span class="line">2.7-slim: Pulling from library/python</span><br><span class="line">f7e2b70d04ae: Pull complete</span><br><span class="line">1e9214730e83: Pull complete</span><br><span class="line">5bd4ec081f7b: Pull complete</span><br><span class="line">be26b369a1e7: Pull complete</span><br><span class="line">Digest: sha256:93ca4e4b10c596d5f656ed9d9634df1ef166e7a808b445b48011c89cb98c8c85</span><br><span class="line">Status: Downloaded newer image for python:2.7-slim</span><br><span class="line"> ---&gt; 8559620b5b0d</span><br><span class="line">Step 2/7 : WORKDIR /app</span><br><span class="line"> ---&gt; Running in f80fbaa8e148</span><br><span class="line">Removing intermediate container f80fbaa8e148</span><br><span class="line"> ---&gt; 5d236ccc224d</span><br><span class="line">Step 3/7 : COPY . /app</span><br><span class="line"> ---&gt; e253996b809e</span><br><span class="line">Step 4/7 : RUN pip install --trusted-host pypi.python.org -r requirements.txt</span><br><span class="line"> ---&gt; Running in ba22b075d9d7</span><br><span class="line">DEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won&#x27;t be maintained after that date. A future version of pip will drop support for Python 2.7.</span><br><span class="line">Collecting Flask (from -r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/7f/e7/08578774ed4536d3242b14dacb4696386634607af824ea997202cd0edb4b/Flask-1.0.2-py2.py3-none-any.whl (91kB)</span><br><span class="line">Collecting Redis (from -r requirements.txt (line 2))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/d0/8b/c43ef27d02382853b22c49bc41a8389e47d60811dd1d72b9a45bc905a5f8/redis-3.2.0-py2.py3-none-any.whl (65kB)</span><br><span class="line">Collecting itsdangerous&gt;=0.24 (from Flask-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/76/ae/44b03b253d6fade317f32c24d100b3b35c2239807046a4c953c7b89fa49e/itsdangerous-1.1.0-py2.py3-none-any.whl</span><br><span class="line">Collecting Jinja2&gt;=2.10 (from Flask-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/7f/ff/ae64bacdfc95f27a016a7bed8e8686763ba4d277a78ca76f32659220a731/Jinja2-2.10-py2.py3-none-any.whl (126kB)</span><br><span class="line">Collecting Werkzeug&gt;=0.14 (from Flask-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/20/c4/12e3e56473e52375aa29c4764e70d1b8f3efa6682bef8d0aae04fe335243/Werkzeug-0.14.1-py2.py3-none-any.whl (322kB)</span><br><span class="line">Collecting click&gt;=5.1 (from Flask-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/fa/37/45185cb5abbc30d7257104c434fe0b07e5a195a6847506c074527aa599ec/Click-7.0-py2.py3-none-any.whl (81kB)</span><br><span class="line">Collecting MarkupSafe&gt;=0.23 (from Jinja2&gt;=2.10-&gt;Flask-&gt;-r requirements.txt (line 1))</span><br><span class="line">  Downloading https://files.pythonhosted.org/packages/fb/40/f3adb7cf24a8012813c5edb20329eb22d5d8e2a0ecf73d21d6b85865da11/MarkupSafe-1.1.1-cp27-cp27mu-manylinux1_x86_64.whl</span><br><span class="line">Installing collected packages: itsdangerous, MarkupSafe, Jinja2, Werkzeug, click, Flask, Redis</span><br><span class="line">Successfully installed Flask-1.0.2 Jinja2-2.10 MarkupSafe-1.1.1 Redis-3.2.0 Werkzeug-0.14.1 click-7.0 itsdangerous-1.1.0Removing intermediate container ba22b075d9d7</span><br><span class="line"> ---&gt; 4fb7c8c139c4</span><br><span class="line">Step 5/7 : EXPOSE 80</span><br><span class="line"> ---&gt; Running in efffb3a878de</span><br><span class="line">Removing intermediate container efffb3a878de</span><br><span class="line"> ---&gt; 7dafa617e1ea</span><br><span class="line">Step 6/7 : ENV NAME World</span><br><span class="line"> ---&gt; Running in ba6ae9a6dc5d</span><br><span class="line">Removing intermediate container ba6ae9a6dc5d</span><br><span class="line"> ---&gt; d89bd552c7e5</span><br><span class="line">Step 7/7 : CMD [&quot;python&quot;, &quot;app.py&quot;]</span><br><span class="line"> ---&gt; Running in 3af3ab42bfb1</span><br><span class="line">Removing intermediate container 3af3ab42bfb1</span><br><span class="line"> ---&gt; 9652d1a9e17a</span><br><span class="line">Successfully built 9652d1a9e17a</span><br><span class="line">Successfully tagged friendlyhello:latest</span><br><span class="line">SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have &#x27;-rwxr-xr-x&#x27; permissions. It is recommended to double check and reset permissions for sensitive files and directories.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>귀하의 내장 이미지는 어디에 있습니까? 컴퓨터의 로컬 Docker 이미지 레지스트리에 있습니다.</p>
<p><code>docker image ls</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS\docker&gt;docker image ls</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE</span><br><span class="line">friendlyhello       latest              9652d1a9e17a        About a minute ago   131MB</span><br><span class="line">jenkins/jenkins     latest              a5e18ff4fa3b        46 hours ago         702MB</span><br><span class="line">python              2.7-slim            8559620b5b0d        8 days ago           120MB</span><br><span class="line">jenkins/jenkins     lts                 806f56c84444        3 weeks ago          703MB</span><br><span class="line">hello-world         latest              fce289e99eb9        2 months ago         1.84kB</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>태그의 기본 설정 방법에 유의하십시오 latest. 태그 옵션의 전체 구문은 다음과 같습니다 –tag&#x3D;friendlyhello:v0.0.1.</p>
<h3 id="어플리케이션-실행"><a href="#어플리케이션-실행" class="headerlink" title="어플리케이션 실행"></a>어플리케이션 실행</h3><p>다음을 -p 사용하여 기기의 포트 4000을 컨테이너의 게시 된 포트 80에 매핑하여 앱을 실행합니다.</p>
<p><code>docker run -p 4000:80 friendlyhello</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS\docker&gt;docker run -p 4000:80 friendlyhello</span><br><span class="line"> * Serving Flask app &quot;app&quot; (lazy loading)</span><br><span class="line"> * Environment: production</span><br><span class="line">   WARNING: Do not use the development server in a production environment.</span><br><span class="line">   Use a production WSGI server instead.</span><br><span class="line"> * Debug mode: off</span><br><span class="line"> * Running on http://0.0.0.0:80/ (Press CTRL+C to quit)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>파이썬이 앱을 제공하고 있다는 메시지가 나타납니다 <a target="_blank" rel="external nofollow noopener noreferrer" href="http://0.0.0.0/">http://0.0.0.0:80</a>.<br>하지만 그 메시지는 컨테이너 내부에서 들어 오는데, 컨테이너의 포트 80을 4000으로 매핑하여 올바른 URL을 작성했는지 알지 못합니다 </p>
<p><a href="http://localhost:4000로" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:4000로</a> 브라우저로 접속하면 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Hello World!</span><br><span class="line">Hostname: 4a514c214c68</span><br><span class="line">Visits: cannot connect to Redis, counter disabled</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>쉘에서 curl 명령을 사용 하여 동일한 내용을 볼 수도 있습니다.</p>
<p><code>curl http://localhost:4000</code></p>
<p>이 포트 재매핑은 에서 실행중인 값 과 실행 되는 값 4000:80의 차이 를 보여줍니다.<br>나중 단계에서 호스트의 포트 4000을 컨테이너의 포트 80에 매핑하고 사용하십시오.</p>
<p>종료하려면 터미널에서 CTRL+C 누르 십시오.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Windows에서 명시 적으로 컨테이너를 중지하십시오.</span><br><span class="line"></span><br><span class="line">Windows 시스템에서는 CTRL+C컨테이너를 중지하지 않습니다. </span><br><span class="line">따라서 먼저 CTRL+C 프롬프트를 다시 가져 오거나 </span><br><span class="line">다른 쉘을 여는 데 docker container ls 를 입력 한 다음 실행중인 컨테이너 목록 보고 </span><br><span class="line">다음 명령어로 docker container stop &lt;Container NAME or ID&gt; 컨테이너를 중지하십시오. </span><br><span class="line">그렇지 않으면 다음 단계에서 컨테이너를 다시 실행하려고 시도 할 때 데몬에서 오류 응답을받습니다.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>이제 백그라운드에서 분리 모드로 앱을 실행 해 봅시다. <code>-d</code> </p>
<p><code>docker run -d -p 4000:80 friendlyhello</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS&gt;docker run -d -p 4000:80 friendlyhello</span><br><span class="line">1eb0b982beb5dc58783e8d3f815c292622bd9e1c27364fa1b81b396e33931429</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>앱의 긴 컨테이너 ID를 얻은 다음 터미널로 다시 가져옵니다.<br>컨테이너가 백그라운드에서 실행 중입니다.<br>단축 된 컨테이너 ID를 볼 수 있습니다 (또한 docker container ls 명령을 실행할 때 둘 다 교환 가능하게 작동합니다).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker container ls</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                  NAMES</span><br><span class="line">1eb0b982beb5        friendlyhello       &quot;python app.py&quot;     35 seconds ago      Up 34 seconds       0.0.0.0:4000-&gt;80/tcp   lucid_wiles</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://localhost:4000/">http://localhost:4000</a> 접속하면 Hostname이 컨테이너 id와 일치한다.</p>
<p><code>docker container stop &lt;CONTAINER ID&gt;</code> 명령어를 사용하여 프로세스를 종료하세요</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker container stop 1eb0b982beb5</span><br><span class="line">1eb0b982beb5</span><br><span class="line">C:\Users\ASUS&gt;docker container ls</span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure>

<h3 id="image-공유하기"><a href="#image-공유하기" class="headerlink" title="image 공유하기"></a>image 공유하기</h3><p>방금 만든 이미지의 이식성을 보여주기 위해 빌드 된 이미지를 업로드하고 다른 곳으로 실행 해 봅시다.<br>결국 프로덕션에 컨테이너를 배포하려는 경우 레지스트리로 푸시하는 방법을 알아야합니다.</p>
<p>레지스트리는 저장소의 모음이고 저장소는 GitHub 저장소와 같은 종류의 이미지 모음입니다.<br>단, 코드는 이미 작성되어 있습니다.<br>레지스트리의 계정은 많은 리포지토리를 생성 할 수 있습니다.<br>docker CLI는 기본적으로 Docker’s 의 공개 레지스트리를 사용합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">참고 : Docker의 공용 레지스트리는 무료이며 미리 구성되어 있기 때문에 여기에서 사용하지만 </span><br><span class="line">선택할 수있는 공용 레지스트리가 많으며 Docker Trusted Registry를 사용하여 개인 레지스트리를 설정할 수도 있습니다 .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Docker-ID로-로그인하십시오"><a href="#Docker-ID로-로그인하십시오" class="headerlink" title="Docker ID로 로그인하십시오."></a>Docker ID로 로그인하십시오.</h4><p>Docker 계정이 없다면 hub.docker.com 에 가입하십시오 . 사용자 이름을 메모하십시오.</p>
<p>로컬 시스템의 Docker 공용 레지스트리에 로그인하십시오.</p>
<p><code>docker login</code></p>
<h4 id="이미지에-태그-달기"><a href="#이미지에-태그-달기" class="headerlink" title="이미지에 태그 달기"></a>이미지에 태그 달기</h4><p>로컬 이미지를 레지스트리의 저장소와 연관시키는 표기법은 다음과 같습니다 username&#x2F;repository:tag.<br>이 태그는 선택 사항이지만 Docker 이미지에 버전을 제공하는 데 사용되는 메커니즘이기 때문에 권장됩니다.<br>저장소와 같은 문맥에 의미있는 이름을 붙이십시오 get-started:part2.<br>그러면 이미지가 get-started 저장소에 저장되고 part2 태그가 붙습니다.</p>
<p>이제 이미지를 모두 태그를 추가하십시오.<br>실행 docker tag image 사용자 이름, 저장소 및 태그 이름과 원하는 목적지로 이미지 업로드 있도록. </p>
<p>명령 구문은 다음과 같습니다.</p>
<p><code>docker tag image username/repository:tag</code></p>
<p>예:</p>
<p><code>docker tag friendlyhello sejoung/get-started:part2</code></p>
<p><code>docker image ls</code> 를 실행 하여 새로 태그가 지정된 이미지를 확인하십시오.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\ASUS&gt;docker image ls</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">friendlyhello         latest              9652d1a9e17a        About an hour ago   131MB</span><br><span class="line">sejoung/get-started   part2               9652d1a9e17a        About an hour ago   131MB</span><br><span class="line">python                <span class="number">2.7</span>-slim            8559620b5b0d        <span class="number">8</span> days ago          120MB</span><br><span class="line">hello-world           latest              fce289e99eb9        <span class="number">2</span> months ago        <span class="number">1.</span>84kB</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="이미지-등록"><a href="#이미지-등록" class="headerlink" title="이미지 등록"></a>이미지 등록</h4><p>태그가 지정된 이미지를 저장소에 업로드하십시오.</p>
<p><code>docker push username/repository:tag</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker push sejoung/get-started:part2</span><br><span class="line">The push refers to repository [docker.io/sejoung/get-started]</span><br><span class="line">1267c452c64b: Pushed</span><br><span class="line">0bad7be22877: Pushed</span><br><span class="line">010bef00fd56: Pushed</span><br><span class="line">c39d784764e0: Pushed</span><br><span class="line">4bad4dc0f0f2: Pushed</span><br><span class="line">d443bc70f9c5: Pushed</span><br><span class="line">6744ca1b1190: Pushed</span><br><span class="line">part2: digest: sha256:cb271f352727ff1087c08042a69ed0b83a0f750a33bff62da6229da1fea291ff size: 1787</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>도커 허브에서 확인가능하다.</p>
<h4 id="원격-저장소에서-이미지를-당겨-실행하십시오"><a href="#원격-저장소에서-이미지를-당겨-실행하십시오" class="headerlink" title="원격 저장소에서 이미지를 당겨 실행하십시오."></a>원격 저장소에서 이미지를 당겨 실행하십시오.</h4><p>이제부터는 docker run 다음 명령을 사용하여 모든 컴퓨터에서 앱을 사용 하고 실행할 수 있습니다.</p>
<p>다음을 확인하기 전에 로컬에 있는 값을 지워주겠다.</p>
<p><code>docker image ls</code>를 실행</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker image ls</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">friendlyhello         latest              9652d1a9e17a        About an hour ago   131MB</span><br><span class="line">sejoung/get-started   part2               9652d1a9e17a        About an hour ago   131MB</span><br><span class="line">python                2.7-slim            8559620b5b0d        8 days ago          120MB</span><br><span class="line">hello-world           latest              fce289e99eb9        2 months ago        1.84kB</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>여기서 sejoung&#x2F;get-started:part2 를 삭제</p>
<p><code>docker image rm sejoung/get-started:part2</code> 명령어 실행</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker image rm sejoung/get-started:part2</span><br><span class="line">Untagged: sejoung/get-started:part2</span><br><span class="line">Untagged: sejoung/get-started@sha256:cb271f352727ff1087c08042a69ed0b83a0f750a33bff62da6229da1fea291ff</span><br><span class="line"></span><br><span class="line">C:\Users\ASUS&gt;docker image rm 9652d1a9e17a</span><br><span class="line">Untagged: friendlyhello:latest</span><br><span class="line">Deleted: sha256:9652d1a9e17ae9cff12aa014c6537f99f0f46610dfed4c35cef6932402210a1b</span><br><span class="line">Deleted: sha256:d89bd552c7e522f02c862026b50a9a3a8436f128a52cf96c4f1b20d6c3b92fcc</span><br><span class="line">Deleted: sha256:7dafa617e1ea5049790323017839af6c6a851a47761388664f364dc72a09c6ff</span><br><span class="line">Deleted: sha256:4fb7c8c139c4a4658f44e5ba2c43ab760ac056505d28e7406f0416d3e4b36b41</span><br><span class="line">Deleted: sha256:b7a9d1594598aaac29bd0b08f00b231542164690e63a3f43c367c60bb78832f9</span><br><span class="line">Deleted: sha256:e253996b809e5368e7f54e6cdce25f2bc31c935ae6b671cae73064ecba2b402e</span><br><span class="line">Deleted: sha256:4b32811fa6849a7d2304aac94c06a4853a7fa8fea3821b5e0a390c49f408b397</span><br><span class="line">Deleted: sha256:5d236ccc224d6f699c09f618d98a3419ce83aa584b62149dd8366e2a979abdcf</span><br><span class="line">Deleted: sha256:fb293ad6e6d7788e4e5eecd834af46f5501c10fccbc940efd9ab1e9ded8d4886</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>docker run -p 4000:80 username/repository:tag</code> </p>
<p><code>docker run -p 4000:80 sejoung/get-started:part2</code> 실행</p>
<p>이미지가 컴퓨터에서 로컬로 사용할 수없는 경우 Docker는 저장소에서 이미지를 가져옵니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\ASUS&gt;docker run -p 4000:80 sejoung/get-started:part2</span><br><span class="line">Unable to find image &#x27;sejoung/get-started:part2&#x27; locally</span><br><span class="line">part2: Pulling from sejoung/get-started</span><br><span class="line">f7e2b70d04ae: Already exists</span><br><span class="line">1e9214730e83: Already exists</span><br><span class="line">5bd4ec081f7b: Already exists</span><br><span class="line">be26b369a1e7: Already exists</span><br><span class="line">f9511e19f0ce: Pull complete</span><br><span class="line">d5ad1634dfa1: Pull complete</span><br><span class="line">cf95792ceffa: Pull complete</span><br><span class="line">Digest: sha256:cb271f352727ff1087c08042a69ed0b83a0f750a33bff62da6229da1fea291ff</span><br><span class="line">Status: Downloaded newer image for sejoung/get-started:part2</span><br><span class="line"> * Serving Flask app &quot;app&quot; (lazy loading)</span><br><span class="line"> * Environment: production</span><br><span class="line">   WARNING: Do not use the development server in a production environment.</span><br><span class="line">   Use a production WSGI server instead.</span><br><span class="line"> * Debug mode: off</span><br><span class="line"> * Running on http://0.0.0.0:80/ (Press CTRL+C to quit)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Recap-and-cheat-sheet"><a href="#Recap-and-cheat-sheet" class="headerlink" title="Recap and cheat sheet"></a>Recap and cheat sheet</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker build -t friendlyhello .  # Create image using this directory&#x27;s Dockerfile</span><br><span class="line">docker run -p 4000:80 friendlyhello  # Run &quot;friendlyname&quot; mapping port 4000 to 80</span><br><span class="line">docker run -d -p 4000:80 friendlyhello         # Same thing, but in detached mode</span><br><span class="line">docker container ls                                # List all running containers</span><br><span class="line">docker container ls -a             # List all containers, even those not running</span><br><span class="line">docker container stop &lt;hash&gt;           # Gracefully stop the specified container</span><br><span class="line">docker container kill &lt;hash&gt;         # Force shutdown of the specified container</span><br><span class="line">docker container rm &lt;hash&gt;        # Remove specified container from this machine</span><br><span class="line">docker container rm $(docker container ls -a -q)         # Remove all containers</span><br><span class="line">docker image ls -a                             # List all images on this machine</span><br><span class="line">docker image rm &lt;image id&gt;            # Remove specified image from this machine</span><br><span class="line">docker image rm $(docker image ls -a -q)   # Remove all images from this machine</span><br><span class="line">docker login             # Log in this CLI session using your Docker credentials</span><br><span class="line">docker tag &lt;image&gt; username/repository:tag  # Tag &lt;image&gt; for upload to registry</span><br><span class="line">docker push username/repository:tag            # Upload tagged image to registry</span><br><span class="line">docker run username/repository:tag                   # Run image from a registry</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.docker.com/get-started/part2/">docker-get-started</a></li>
<li><a href="https://sejoung.github.io/2019/03/docker-get-started(1)">도커 처음 시작하기(오리엔테이션 및 설정)</a></li>
</ul>
</div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="../../../tags/docker/">docker</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="../2019-03-14-Item_65_Prefer_interfaces_to_reflection/"><i class="fa fa-chevron-left">  </i><span>아이템 65. 리플렉션 보다 인터페이스를 사용하라.</span></a></div><div class="next-post pull-right"><a href="../2019-03-13-docker-get-started_1/"><span>도커 처음 시작하기part1(오리엔테이션 및 설정)</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://sejoung.github.io/2019/03/2019-03-13-docker-get-started_2/';
  this.page.identifier = '2019/03/2019-03-13-docker-get-started_2/';
  this.page.title = '도커 처음 시작하기part2(컨테이너)';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'kimsejoung' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://kimsejoung.disqus.com/count.js" async></script></div></div><footer class="footer-bg" style="background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg/1024px-Van_Gogh_-_Terrasse_des_Caf%C3%A9s_an_der_Place_du_Forum_in_Arles_am_Abend1.jpeg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2023 By sejoung</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="external nofollow noopener noreferrer" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="../../../js/third-party/anime.min.js"></script><script src="../../../js/third-party/jquery.min.js"></script><script src="../../../js/third-party/jquery.fancybox.min.js"></script><script src="../../../js/third-party/velocity.min.js"></script><script src="../../../js/third-party/velocity.ui.min.js"></script><script src="../../../js/utils.js?version=1.7.0"></script><script src="../../../js/fancybox.js?version=1.7.0"></script><script src="../../../js/sidebar.js?version=1.7.0"></script><script src="../../../js/copy.js?version=1.7.0"></script><script src="../../../js/fireworks.js?version=1.7.0"></script><script src="../../../js/transition.js?version=1.7.0"></script><script src="../../../js/scroll.js?version=1.7.0"></script><script src="../../../js/head.js?version=1.7.0"></script><script src="../../../js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>